(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{8817:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackPage=t.trackUser=t.trackAction=void 0;var n=r(7951),i=r(2505),o=function(){return!0===window._DATADOG_SYNTHETICS_BROWSER};t.trackAction=function(e,t,r){var a;void 0===r&&(r={});try{if(o())return;null===(a=window.analytics)||void 0===a||a.track(e,t,i.default(r))}catch(s){n.default().error("Track Action",e,t||{})}};t.trackUser=function(e,t){var r;void 0===t&&(t={});try{if(o())return;null===(r=window.analytics)||void 0===r||r.identify(e.id,t)}catch(i){n.default().error("Track User",e.id,t)}};t.trackPage=function(e,t){var r;try{if(o())return;null===(r=window.analytics)||void 0===r||r.page(e,t)}catch(i){n.default().error("Track Page",e,t)}}},1293:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1912);t.default=n.default?r.g:window},7474:function(e,t,r){"use strict";t.X2=void 0;var n=r(8817);Object.defineProperty(t,"X2",{enumerable:!0,get:function(){return n.trackAction}});var i=r(8817);r(3138).default},1912:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="undefined"===typeof window},2505:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6808),i={internal:{All:!1,Amplitude:{session_id:function(){var e=Number(n.get("amplitude-session-id"));return Number.isNaN(e)?Date.now():e}()},Postgres:!0,Optimizely:!0},marketing:{All:!0}};t.default=function(e){var t=e.destination;return{integrations:i[t||"internal"]}}},3138:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(7294),segment=__webpack_require__(2851),global_1=__webpack_require__(1293),getAnalyticsWriteKey=function(){var e,t;return null===(t=null===(e=global_1.default.circleci)||void 0===e?void 0:e.config)||void 0===t?void 0:t.analyticsKey};exports.default=function(me){React.useLayoutEffect((function(){var analyticsKey=getAnalyticsWriteKey();if(analyticsKey){var options={apiKey:analyticsKey,page:!1,load:!1},snippet=segment.min(options);window.analytics||eval(snippet)}}),[]),React.useLayoutEffect((function(){var e=getAnalyticsWriteKey();if(e&&me){var t=me.privacyOptout?{integrations:{All:!1,Amplitude:!0,Postgres:!0,Optimizely:!0,"Segment.io":!0}}:{};(null===window||void 0===window?void 0:window.analytics)&&window.analytics.load&&"function"===typeof window.analytics.load&&window.analytics.load(e,t)}}),[me])}},6405:function(e){e.exports=function(e){var t,r="";return r+="(function(){\n\n  // Create a queue, but don't obliterate an existing one!\n  var analytics = window.analytics = window.analytics || [];\n\n  // If the real analytics.js is already on the page return.\n  if (analytics.initialize) return;\n\n  // If the snippet was invoked already show an error.\n  if (analytics.invoked) {\n    if (window.console && console.error) {\n      console.error('Segment snippet included twice.');\n    }\n    return;\n  }\n\n  // Invoked flag, to make sure the snippet\n  // is never invoked twice.\n  analytics.invoked = true;\n\n  // A list of the methods in Analytics.js to stub.\n  analytics.methods = [\n    'trackSubmit',\n    'trackClick',\n    'trackLink',\n    'trackForm',\n    'pageview',\n    'identify',\n    'reset',\n    'group',\n    'track',\n    'ready',\n    'alias',\n    'debug',\n    'page',\n    'once',\n    'off',\n    'on',\n    'addSourceMiddleware',\n    'addIntegrationMiddleware',\n    'setAnonymousId',\n    'addDestinationMiddleware'\n  ];\n\n  // Define a factory to create stubs. These are placeholders\n  // for methods in Analytics.js so that you never have to wait\n  // for it to load to actually record data. The `method` is\n  // stored as the first argument, so we can replay the data.\n  analytics.factory = function(method){\n    return function(){\n      var args = Array.prototype.slice.call(arguments);\n      args.unshift(method);\n      analytics.push(args);\n      return analytics;\n    };\n  };\n\n  // For each of our methods, generate a queueing stub.\n  for (var i = 0; i < analytics.methods.length; i++) {\n    var key = analytics.methods[i];\n    analytics[key] = analytics.factory(key);\n  }\n\n  // Define a method to load Analytics.js from our CDN,\n  // and that will be sure to only ever load it once.\n  analytics.load = function(key, options){\n    // Create an async script element based on your key.\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.async = true;\n    script.src = 'https://"+(null==(t=e.host)?"":t)+"/analytics.js/v1/'\n      + key + '/analytics.min.js';\n\n    // Insert our script next to the first script element.\n    var first = document.getElementsByTagName('script')[0];\n    first.parentNode.insertBefore(script, first);\n    analytics._loadOptions = options;\n  };\n\n  // Add a version to keep track of what's in the wild.\n  analytics.SNIPPET_VERSION = '4.1.0';\n\n  // Load Analytics.js with your key, which will automatically\n  // load the tools you've enabled for your account. Boosh!\n  "+(null==(t=e.load)?"":t)+"\n\n  // Make the first page call to load the integrations. If\n  // you'd like to manually name or tag the page, edit or\n  // move this call however you'd like.\n  "+(null==(t=e.page)?"":t)+"\n})();\n"}},6162:function(e){e.exports=function(e){var t,r="";return r+='!function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var t=analytics.methods[e];analytics[t]=analytics.factory(t)}analytics.load=function(e,t){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://'+(null==(t=e.host)?"":t)+'/analytics.js/v1/"+e+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=t};analytics.SNIPPET_VERSION="4.1.0";\n'+(null==(t=e.load)?"":t)+"\n"+(null==(t=e.page)?"":t)+"\n}}();"}},2851:function(e,t,r){"use strict";var n=r(8580),i=r(6405),o=r(6162),a=Object.prototype.hasOwnProperty;function s(e){return e||(e={}),e.apiKey||(e.apiKey="YOUR_API_KEY"),e.host||(e.host="cdn.segment.com"),a.call(e,"page")||(e.page=!0),a.call(e,"load")||(e.load=!0),e}function u(e){if(!e)return"";var t=[];return e.category&&t.push(e.category),e.name&&t.push(e.name),e.properties&&t.push(e.properties),"analytics.page("+n(JSON.stringify,t).join(", ")+");"}function c(e){return e.load?'analytics.load("'+e.apiKey+'");':""}t.max=function(e){var t=s(e);return t.load=c(t),t.page=u(t.page),i(t)},t.min=function(e){var t=s(e);return t.load=c(t),t.page=u(t.page),o(t)}},8928:function(e,t,r){"use strict";var n=r(4155),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultCheckIgnore=void 0;var a=r(7662),s=r(6799),u="undefined"===typeof window;t.defaultCheckIgnore=function(e,t,r){return r&&"test"===r.environment};t.default=function(e){return a.init(function(e){var r,a,c=e.accessToken,l=void 0===c?u?n.env.EXCEPTION_LOGGER_SERVER_TOKEN:null===(a=null===(r=s.default.circleci)||void 0===r?void 0:r.config)||void 0===a?void 0:a.exceptionLoggerClientToken:c,p=e.meta,f=void 0===p?{}:p,d=e.captureUncaught,h=void 0===d||d,g=e.captureUnhandledRejections,m=void 0===g||g,v=e.captureIp,y=void 0===v?"anonymize":v,_=e.environment,E=void 0===_?"production":_,b=e.verbose,I=void 0===b?!u:b,w=o(e,["accessToken","meta","captureUncaught","captureUnhandledRejections","captureIp","environment","verbose"]),T=n.env.BUILD_ID,O=!!T,N=w.checkIgnore;return i(i({captureUncaught:h,captureUnhandledRejections:m,enabled:!!l,accessToken:l,payload:i(i({},f),{environment:E,client:{javascript:{code_version:T,source_map_enabled:O}},server:{root:"webpack://_N_E/./src/"}}),verbose:I,captureIp:y,scrubFields:["circle-token","CSRFToken"]},w),{checkIgnore:function(e,r,n){return!!t.defaultCheckIgnore(e,r,n)||!!N&&N(e,r,n)},hostSafeList:["circleci.com","optimizely.com"]})}(e||{}))}},6799:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="undefined"!==typeof window?window:r.g},7951:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8928);t.default=n.default},1075:function(e,t,r){"use strict";var n=r(4331),i=Object.prototype.toString,o="function"===typeof Array.isArray?Array.isArray:function(e){return"[object Array]"===i.call(e)},a=function(e){return null!=e&&(o(e)||"function"!==e&&function(e){var t=typeof e;return"number"===t||"object"===t&&"[object Number]"===i.call(e)}(e.length))},s=function(e,t){for(var r=0;r<t.length&&!1!==e(t[r],r,t);r+=1);},u=function(e,t){for(var r=n(t),i=0;i<r.length&&!1!==e(t[r[i]],r[i],t);i+=1);};e.exports=function(e,t){return(a(t)?s:u).call(this,e,t)}},4331:function(e){"use strict";var t=Object.prototype.hasOwnProperty,r=String.prototype.charAt,n=Object.prototype.toString,i=function(e,t){return r.call(e,t)},o=function(e,r){return t.call(e,r)},a=function(e,t){t=t||o;for(var r=[],n=0,i=e.length;n<i;n+=1)t(e,n)&&r.push(String(n));return r};e.exports=function(e){return null==e?[]:(t=e,"[object String]"===n.call(t)?a(e,i):function(e){return null!=e&&"function"!==typeof e&&"number"===typeof e.length}(e)?a(e,o):function(e,t){t=t||o;var r=[];for(var n in e)t(e,n)&&r.push(String(n));return r}(e));var t}},8580:function(e,t,r){"use strict";var n=r(1075);e.exports=function(e,t){if("function"!==typeof e)throw new TypeError("Expected a function but received a "+typeof e);var r=[];return n((function(t,n,i){r.push(e(t,n,i))}),t),r}},3949:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3196);var i=function(){function e(){this.errorCount=0}return e.prototype.getDelay=function(){return 0===this.errorCount?0:1e3*n.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT[Math.min(n.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1,this.errorCount)]+Math.round(1e3*Math.random())},e.prototype.countError=function(){this.errorCount<n.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1&&this.errorCount++},e.prototype.reset=function(){this.errorCount=0},e}();t.default=i},731:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(64),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.makeGetRequest=function(e,t){return o.makeGetRequest(e,t)},t.prototype.getConfigDefaults=function(){return{autoUpdate:!1}},t}(i(r(377)).default);t.default=a},64:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3196),i=r(8125).getLogger("DatafileManager");t.makeGetRequest=function(e,t){var r=new XMLHttpRequest;return{responsePromise:new Promise((function(o,a){r.open("GET",e,!0),function(e,t){Object.keys(e).forEach((function(r){var n=e[r];t.setRequestHeader(r,n)}))}(t,r),r.onreadystatechange=function(){if(4===r.readyState){if(0===r.status)return void a(new Error("Request error"));var e=function(e){var t=e.getAllResponseHeaders();if(null===t)return{};var r=t.split("\r\n"),n={};return r.forEach((function(e){var t=e.indexOf(": ");if(t>-1){var r=e.slice(0,t),i=e.slice(t+2);i.length>0&&(n[r]=i)}})),n}(r),t={statusCode:r.status,body:r.responseText,headers:e};o(t)}},r.timeout=n.REQUEST_TIMEOUT_MS,r.ontimeout=function(){i.error("Request timed out")},r.send()})),abort:function(){r.abort()}}}},3196:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_UPDATE_INTERVAL=3e5,t.MIN_UPDATE_INTERVAL=1e3,t.DEFAULT_URL_TEMPLATE="https://cdn.optimizely.com/datafiles/%s.json",t.DEFAULT_AUTHENTICATED_URL_TEMPLATE="https://config.optimizely.com/datafiles/auth/%s.json",t.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT=[0,8,16,32,64,128,256,512],t.REQUEST_TIMEOUT_MS=6e4},181:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.listeners={},this.listenerId=1}return e.prototype.on=function(e,t){var r=this;this.listeners[e]||(this.listeners[e]={});var n=String(this.listenerId);return this.listenerId++,this.listeners[e][n]=t,function(){r.listeners[e]&&delete r.listeners[e][n]}},e.prototype.emit=function(e,t){var r=this.listeners[e];r&&Object.keys(r).forEach((function(e){(0,r[e])(t)}))},e.prototype.removeAllListeners=function(){this.listeners={}},e}();t.default=r},377:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(8125),a=r(7378),s=i(r(181)),u=r(3196),c=i(r(3949)),l=o.getLogger("DatafileManager");function p(e){return e>=200&&e<400}var f={get:function(){return Promise.resolve("")},set:function(){return Promise.resolve()},contains:function(){return Promise.resolve(!1)},remove:function(){return Promise.resolve()}},d=function(){function e(e){var t=this,r=n({},this.getConfigDefaults(),e),i=r.datafile,o=r.autoUpdate,p=void 0!==o&&o,d=r.sdkKey,h=r.updateInterval,g=void 0===h?u.DEFAULT_UPDATE_INTERVAL:h,m=r.urlTemplate,v=void 0===m?u.DEFAULT_URL_TEMPLATE:m,y=r.cache,_=void 0===y?f:y;this.cache=_,this.cacheKey="opt-datafile-"+d,this.isReadyPromiseSettled=!1,this.readyPromiseResolver=function(){},this.readyPromiseRejecter=function(){},this.readyPromise=new Promise((function(e,r){t.readyPromiseResolver=e,t.readyPromiseRejecter=r})),i?(this.currentDatafile=i,d||this.resolveReadyPromise()):this.currentDatafile="",this.isStarted=!1,this.datafileUrl=a.sprintf(v,d),this.emitter=new s.default,this.autoUpdate=p,!function(e){return e>=u.MIN_UPDATE_INTERVAL}(g)?(l.warn("Invalid updateInterval %s, defaulting to %s",g,u.DEFAULT_UPDATE_INTERVAL),this.updateInterval=u.DEFAULT_UPDATE_INTERVAL):this.updateInterval=g,this.currentTimeout=null,this.currentRequest=null,this.backoffController=new c.default,this.syncOnCurrentRequestComplete=!1}return e.prototype.get=function(){return this.currentDatafile},e.prototype.start=function(){this.isStarted||(l.debug("Datafile manager started"),this.isStarted=!0,this.backoffController.reset(),this.setDatafileFromCacheIfAvailable(),this.syncDatafile())},e.prototype.stop=function(){return l.debug("Datafile manager stopped"),this.isStarted=!1,this.currentTimeout&&(clearTimeout(this.currentTimeout),this.currentTimeout=null),this.emitter.removeAllListeners(),this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null),Promise.resolve()},e.prototype.onReady=function(){return this.readyPromise},e.prototype.on=function(e,t){return this.emitter.on(e,t)},e.prototype.onRequestRejected=function(e){this.isStarted&&(this.backoffController.countError(),e instanceof Error?l.error("Error fetching datafile: %s",e.message,e):"string"===typeof e?l.error("Error fetching datafile: %s",e):l.error("Error fetching datafile"))},e.prototype.onRequestResolved=function(e){if(this.isStarted){"undefined"!==typeof e.statusCode&&p(e.statusCode)?this.backoffController.reset():this.backoffController.countError(),this.trySavingLastModified(e.headers);var t=this.getNextDatafileFromResponse(e);if(""!==t)if(l.info("Updating datafile from response"),this.currentDatafile=t,this.cache.set(this.cacheKey,t),this.isReadyPromiseSettled){var r={datafile:t};this.emitter.emit("update",r)}else this.resolveReadyPromise()}},e.prototype.onRequestComplete=function(){this.isStarted&&(this.currentRequest=null,this.isReadyPromiseSettled||this.autoUpdate||this.rejectReadyPromise(new Error("Failed to become ready")),this.autoUpdate&&this.syncOnCurrentRequestComplete&&this.syncDatafile(),this.syncOnCurrentRequestComplete=!1)},e.prototype.syncDatafile=function(){var e=this,t={};this.lastResponseLastModified&&(t["if-modified-since"]=this.lastResponseLastModified),l.debug("Making datafile request to url %s with headers: %s",this.datafileUrl,(function(){return JSON.stringify(t)})),this.currentRequest=this.makeGetRequest(this.datafileUrl,t);var r=function(){e.onRequestComplete()};this.currentRequest.responsePromise.then((function(t){e.onRequestResolved(t)}),(function(t){e.onRequestRejected(t)})).then(r,r),this.autoUpdate&&this.scheduleNextUpdate()},e.prototype.resolveReadyPromise=function(){this.readyPromiseResolver(),this.isReadyPromiseSettled=!0},e.prototype.rejectReadyPromise=function(e){this.readyPromiseRejecter(e),this.isReadyPromiseSettled=!0},e.prototype.scheduleNextUpdate=function(){var e=this,t=this.backoffController.getDelay(),r=Math.max(t,this.updateInterval);l.debug("Scheduling sync in %s ms",r),this.currentTimeout=setTimeout((function(){e.currentRequest?e.syncOnCurrentRequestComplete=!0:e.syncDatafile()}),r)},e.prototype.getNextDatafileFromResponse=function(e){return l.debug("Response status code: %s",e.statusCode),"undefined"===typeof e.statusCode||304===e.statusCode?"":p(e.statusCode)?e.body:""},e.prototype.trySavingLastModified=function(e){var t=e["last-modified"]||e["Last-Modified"];"undefined"!==typeof t&&(this.lastResponseLastModified=t,l.debug("Saved last modified header value from response: %s",this.lastResponseLastModified))},e.prototype.setDatafileFromCacheIfAvailable=function(){var e=this;this.cache.get(this.cacheKey).then((function(t){e.isStarted&&!e.isReadyPromiseSettled&&""!==t&&(l.debug("Using datafile from cache"),e.currentDatafile=t,e.resolveReadyPromise())}))},e}();t.default=d},2002:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(731);t.HttpPollingDatafileManager=n.default},7473:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4909:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendEventNotification=t.getQueue=t.validateAndGetBatchSize=t.validateAndGetFlushInterval=t.DEFAULT_BATCH_SIZE=t.DEFAULT_FLUSH_INTERVAL=void 0;var n=r(1459),i=r(8125),o=r(7378);t.DEFAULT_FLUSH_INTERVAL=3e4,t.DEFAULT_BATCH_SIZE=10;var a=i.getLogger("EventProcessor");t.validateAndGetFlushInterval=function(e){return e<=0&&(a.warn("Invalid flushInterval "+e+", defaulting to "+t.DEFAULT_FLUSH_INTERVAL),e=t.DEFAULT_FLUSH_INTERVAL),e},t.validateAndGetBatchSize=function(e){return(e=Math.floor(e))<1&&(a.warn("Invalid batchSize "+e+", defaulting to "+t.DEFAULT_BATCH_SIZE),e=t.DEFAULT_BATCH_SIZE),e=Math.max(1,e)},t.getQueue=function(e,t,r,i){return e>1?new n.DefaultEventQueue({flushInterval:t,maxQueueSize:e,sink:r,batchComparator:i}):new n.SingleEventQueue({sink:r})},t.sendEventNotification=function(e,t){e&&e.sendNotifications(o.NOTIFICATION_TYPES.LOG_EVENT,t)}},1459:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultEventQueue=t.SingleEventQueue=void 0;var n=r(8125).getLogger("EventProcessor"),i=function(){function e(e){var t=e.timeout,r=e.callback;this.timeout=Math.max(t,0),this.callback=r}return e.prototype.start=function(){this.timeoutId=setTimeout(this.callback,this.timeout)},e.prototype.refresh=function(){this.stop(),this.start()},e.prototype.stop=function(){this.timeoutId&&clearTimeout(this.timeoutId)},e}(),o=function(){function e(e){var t=e.sink;this.sink=t}return e.prototype.start=function(){},e.prototype.stop=function(){return Promise.resolve()},e.prototype.enqueue=function(e){this.sink([e])},e}();t.SingleEventQueue=o;var a=function(){function e(e){var t=e.flushInterval,r=e.maxQueueSize,n=e.sink,o=e.batchComparator;this.buffer=[],this.maxQueueSize=Math.max(r,1),this.sink=n,this.batchComparator=o,this.timer=new i({callback:this.flush.bind(this),timeout:t}),this.started=!1}return e.prototype.start=function(){this.started=!0},e.prototype.stop=function(){this.started=!1;var e=this.sink(this.buffer);return this.buffer=[],this.timer.stop(),e},e.prototype.enqueue=function(e){if(this.started){var t=this.buffer[0];t&&!this.batchComparator(t,e)&&this.flush(),0===this.buffer.length&&this.timer.refresh(),this.buffer.push(e),this.buffer.length>=this.maxQueueSize&&this.flush()}else n.warn("Queue is stopped, not accepting event")},e.prototype.flush=function(){this.sink(this.buffer),this.buffer=[],this.timer.stop()},e}();t.DefaultEventQueue=a},1074:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areEventContextsEqual=void 0,t.areEventContextsEqual=function(e,t){var r=e.context,n=t.context;return r.accountId===n.accountId&&r.projectId===n.projectId&&r.clientName===n.clientName&&r.clientVersion===n.clientVersion&&r.revision===n.revision&&r.anonymizeIP===n.anonymizeIP&&r.botFiltering===n.botFiltering}},5001:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(1074),t),i(r(4909),t),i(r(7473),t),i(r(1310),t),i(r(6896),t),i(r(7168),t),i(r(8994),t)},1310:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6896:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStoragePendingEventsDispatcher=t.PendingEventsDispatcher=void 0;var i=r(8125),o=r(6587),a=r(7378),s=i.getLogger("EventProcessor"),u=function(){function e(e){var t=e.eventDispatcher,r=e.store;this.dispatcher=t,this.store=r}return e.prototype.dispatchEvent=function(e,t){this.send({uuid:a.generateUUID(),timestamp:a.getTimestamp(),request:e},t)},e.prototype.sendPendingEvents=function(){var e=this,t=this.store.values();s.debug("Sending %s pending events from previous page",t.length),t.forEach((function(t){try{e.send(t,(function(){}))}catch(r){}}))},e.prototype.send=function(e,t){var r=this;this.store.set(e.uuid,e),this.dispatcher.dispatchEvent(e.request,(function(n){r.store.remove(e.uuid),t(n)}))},e}();t.PendingEventsDispatcher=u;var c=function(e){function t(t){var r=t.eventDispatcher;return e.call(this,{eventDispatcher:r,store:new o.LocalStorageStore({maxValues:100,key:"fs_optly_pending_events"})})||this}return n(t,e),t}(u);t.LocalStoragePendingEventsDispatcher=c},6587:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageStore=void 0;var n=r(7378),i=r(8125).getLogger("EventProcessor"),o=function(){function e(e){var t=e.key,r=e.maxValues,n=void 0===r?1e3:r;this.LS_KEY=t,this.maxValues=n}return e.prototype.get=function(e){return this.getMap()[e]||null},e.prototype.set=function(e,t){var r=this.getMap();r[e]=t,this.replace(r)},e.prototype.remove=function(e){var t=this.getMap();delete t[e],this.replace(t)},e.prototype.values=function(){return n.objectValues(this.getMap())},e.prototype.clear=function(){this.replace({})},e.prototype.replace=function(e){try{window.localStorage&&localStorage.setItem(this.LS_KEY,JSON.stringify(e)),this.clean()}catch(t){i.error(t)}},e.prototype.clean=function(){var e=this.getMap(),t=Object.keys(e),r=t.length-this.maxValues;if(!(r<1)){var n=t.map((function(t){return{key:t,value:e[t]}}));n.sort((function(e,t){return e.value.timestamp-t.value.timestamp}));for(var i=0;i<r;i++)delete e[n[i].key];this.replace(e)}},e.prototype.getMap=function(){try{var e=window.localStorage&&localStorage.getItem(this.LS_KEY);if(e)return JSON.parse(e)||{}}catch(t){i.error(t)}return{}},e}();t.LocalStorageStore=o},522:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.reqsInFlightCount=0,this.reqsCompleteResolvers=[]}return e.prototype.trackRequest=function(e){var t=this;this.reqsInFlightCount++;var r=function(){t.reqsInFlightCount--,0===t.reqsInFlightCount&&(t.reqsCompleteResolvers.forEach((function(e){return e()})),t.reqsCompleteResolvers=[])};e.then(r,r)},e.prototype.onRequestsComplete=function(){var e=this;return new Promise((function(t){0===e.reqsInFlightCount?t():e.reqsCompleteResolvers.push(t)}))},e}();t.default=r},7168:function(e,t){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.formatEvents=t.buildConversionEventV1=t.buildImpressionEventV1=t.makeBatchedEventV1=void 0;var n="$opt_bot_filtering";function i(e){var t=[],r=e[0];return e.forEach((function(e){if("conversion"===e.type||"impression"===e.type){var r=s(e);"impression"===e.type?r.snapshots.push(a(e)):"conversion"===e.type&&r.snapshots.push(o(e)),t.push(r)}})),{client_name:r.context.clientName,client_version:r.context.clientVersion,account_id:r.context.accountId,project_id:r.context.projectId,revision:r.context.revision,anonymize_ip:r.context.anonymizeIP,enrich_decisions:!0,visitors:t}}function o(e){var t=r({},e.tags);delete t.revenue,delete t.value;var n={entity_id:e.event.id,key:e.event.key,timestamp:e.timestamp,uuid:e.uuid};return e.tags&&(n.tags=e.tags),null!=e.value&&(n.value=e.value),null!=e.revenue&&(n.revenue=e.revenue),{events:[n]}}function a(e){var t=e.layer,r=e.experiment,n=e.variation,i=e.ruleKey,o=e.flagKey,a=e.ruleType,s=e.enabled,u=t?t.id:null;return{decisions:[{campaign_id:u,experiment_id:r?r.id:null,variation_id:n?n.id:null,metadata:{flag_key:o,rule_key:i,rule_type:a,variation_key:n?n.key:"",enabled:s}}],events:[{entity_id:u,timestamp:e.timestamp,key:"campaign_activated",uuid:e.uuid}]}}function s(e){var t={snapshots:[],visitor_id:e.user.id,attributes:[]};return e.user.attributes.forEach((function(e){t.attributes.push({entity_id:e.entityId,key:e.key,type:"custom",value:e.value})})),"boolean"===typeof e.context.botFiltering&&t.attributes.push({entity_id:n,key:n,type:"custom",value:e.context.botFiltering}),t}t.makeBatchedEventV1=i,t.buildImpressionEventV1=function(e){var t=s(e);return t.snapshots.push(a(e)),{client_name:e.context.clientName,client_version:e.context.clientVersion,account_id:e.context.accountId,project_id:e.context.projectId,revision:e.context.revision,anonymize_ip:e.context.anonymizeIP,enrich_decisions:!0,visitors:[t]}},t.buildConversionEventV1=function(e){var t=s(e);return t.snapshots.push(o(e)),{client_name:e.context.clientName,client_version:e.context.clientVersion,account_id:e.context.accountId,project_id:e.context.projectId,revision:e.context.revision,anonymize_ip:e.context.anonymizeIP,enrich_decisions:!0,visitors:[t]}},t.formatEvents=function(e){return{url:"https://logx.optimizely.com/v1/events",httpVerb:"POST",params:i(e)}}},8994:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(t){o(t)}}function s(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LogTierV1EventProcessor=void 0;var a=r(8125),s=r(4909),u=o(r(522)),c=r(1074),l=r(7168),p=a.getLogger("LogTierV1EventProcessor"),f=function(){function e(e){var t=e.dispatcher,r=e.flushInterval,n=void 0===r?s.DEFAULT_FLUSH_INTERVAL:r,i=e.batchSize,o=void 0===i?s.DEFAULT_BATCH_SIZE:i,a=e.notificationCenter;this.dispatcher=t,this.notificationCenter=a,this.requestTracker=new u.default,n=s.validateAndGetFlushInterval(n),o=s.validateAndGetBatchSize(o),this.queue=s.getQueue(o,n,this.drainQueue.bind(this),c.areEventContextsEqual)}return e.prototype.drainQueue=function(e){var t=this,r=new Promise((function(r){if(p.debug("draining queue with %s events",e.length),0!==e.length){var n=l.formatEvents(e);t.dispatcher.dispatchEvent(n,(function(){r()})),s.sendEventNotification(t.notificationCenter,n)}else r()}));return this.requestTracker.trackRequest(r),r},e.prototype.process=function(e){this.queue.enqueue(e)},e.prototype.stop=function(){try{return this.queue.stop(),this.requestTracker.onRequestsComplete()}catch(e){p.error('Error stopping EventProcessor: "%s"',e.message,e)}return Promise.resolve()},e.prototype.start=function(){return n(this,void 0,void 0,(function(){return i(this,(function(e){return this.queue.start(),[2]}))}))},e}();t.LogTierV1EventProcessor=f},7987:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.handleError=function(e){},e}();t.NoopErrorHandler=r;var n=new r;t.setErrorHandler=function(e){n=e},t.getErrorHandler=function(){return n},t.resetErrorHandler=function(){n=new r}},8125:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(7987)),n(r(9623)),n(r(6773))},6773:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7987),i=r(3820),o=r(9623),a={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4};function s(e){return"string"!==typeof e?e:("WARN"===(e=e.toUpperCase())&&(e="WARNING"),a[e]?a[e]:e)}var u=function(){function e(){this.defaultLoggerFacade=new f,this.loggers={}}return e.prototype.getLogger=function(e){return e?(this.loggers[e]||(this.loggers[e]=new f({messagePrefix:e})),this.loggers[e]):this.defaultLoggerFacade},e}(),c=function(){function e(e){void 0===e&&(e={}),this.logLevel=o.LogLevel.NOTSET,void 0!==e.logLevel&&i.isValidEnum(o.LogLevel,e.logLevel)&&this.setLogLevel(e.logLevel),this.logToConsole=void 0===e.logToConsole||!!e.logToConsole,this.prefix=void 0!==e.prefix?e.prefix:"[OPTIMIZELY]"}return e.prototype.log=function(e,t){if(this.shouldLog(e)&&this.logToConsole){var r=this.prefix+" - "+this.getLogLevelName(e)+" "+this.getTime()+" "+t;this.consoleLog(e,[r])}},e.prototype.setLogLevel=function(e){e=s(e),i.isValidEnum(o.LogLevel,e)&&void 0!==e?this.logLevel=e:this.logLevel=o.LogLevel.ERROR},e.prototype.getTime=function(){return(new Date).toISOString()},e.prototype.shouldLog=function(e){return e>=this.logLevel},e.prototype.getLogLevelName=function(e){switch(e){case o.LogLevel.DEBUG:return"DEBUG";case o.LogLevel.INFO:return"INFO ";case o.LogLevel.WARNING:return"WARN ";case o.LogLevel.ERROR:return"ERROR";default:return"NOTSET"}},e.prototype.consoleLog=function(e,t){switch(e){case o.LogLevel.DEBUG:console.log.apply(console,t);break;case o.LogLevel.INFO:console.info.apply(console,t);break;case o.LogLevel.WARNING:console.warn.apply(console,t);break;case o.LogLevel.ERROR:console.error.apply(console,t);break;default:console.log.apply(console,t)}},e}();t.ConsoleLogHandler=c;var l=o.LogLevel.NOTSET,p=null,f=function(){function e(e){void 0===e&&(e={}),this.messagePrefix="",e.messagePrefix&&(this.messagePrefix=e.messagePrefix)}return e.prototype.log=function(e,t){this.internalLog(s(e),{message:t,splat:[]})},e.prototype.info=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.namedLog(o.LogLevel.INFO,e,t)},e.prototype.debug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.namedLog(o.LogLevel.DEBUG,e,t)},e.prototype.warn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.namedLog(o.LogLevel.WARNING,e,t)},e.prototype.error=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.namedLog(o.LogLevel.ERROR,e,t)},e.prototype.format=function(e){return(this.messagePrefix?this.messagePrefix+": ":"")+i.sprintf.apply(void 0,[e.message].concat(e.splat))},e.prototype.internalLog=function(e,t){p&&(e<l||(p.log(e,this.format(t)),t.error&&t.error instanceof Error&&n.getErrorHandler().handleError(t.error)))},e.prototype.namedLog=function(e,t,r){var n;if(t instanceof Error)return t=(n=t).message,void this.internalLog(e,{error:n,message:t,splat:r});if(0!==r.length){var i=r[r.length-1];i instanceof Error&&(n=i,r.splice(-1)),this.internalLog(e,{message:t,error:n,splat:r})}else this.internalLog(e,{message:t,splat:r})},e}(),d=new u;t.getLogger=function(e){return d.getLogger(e)},t.setLogHandler=function(e){p=e},t.setLogLevel=function(e){e=s(e),l=i.isValidEnum(o.LogLevel,e)&&void 0!==e?e:o.LogLevel.ERROR},t.getLogLevel=function(){return l},t.resetLogger=function(){d=new u,l=o.LogLevel.NOTSET}},9623:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.NOTSET=0]="NOTSET",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARNING=3]="WARNING",e[e.ERROR=4]="ERROR"}(t.LogLevel||(t.LogLevel={}))},3820:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5877);function i(e){return Object.keys(e).map((function(t){return e[t]}))}t.getTimestamp=function(){return(new Date).getTime()},t.generateUUID=function(){return n.v4()},t.isValidEnum=function(e,t){for(var r=!1,n=Object.keys(e),i=0;i<n.length;i++)if(t===e[n[i]]){r=!0;break}return r},t.groupBy=function(e,t){var r={};return e.forEach((function(e){var n=t(e);r[n]=r[n]||[],r[n].push(e)})),i(r)},t.objectValues=i,t.find=function(e,t){for(var r,n=0,i=e;n<i.length;n++){var o=i[n];if(t(o)){r=o;break}}return r},t.keyBy=function(e,t){var r={};return e.forEach((function(e){var n=t(e);r[n]=e})),r},t.sprintf=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=0;return e.replace(/%s/g,(function(){var e=t[n++],r=typeof e;return"function"===r?e():"string"===r?e:String(e)}))}},7378:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5877);function i(e){return Object.keys(e).map((function(t){return e[t]}))}t.generateUUID=function(){return n.v4()},t.getTimestamp=function(){return(new Date).getTime()},t.isValidEnum=function(e,t){for(var r=!1,n=Object.keys(e),i=0;i<n.length;i++)if(t===e[n[i]]){r=!0;break}return r},t.groupBy=function(e,t){var r={};return e.forEach((function(e){var n=t(e);r[n]=r[n]||[],r[n].push(e)})),i(r)},t.objectValues=i,t.objectEntries=function(e){return Object.keys(e).map((function(t){return[t,e[t]]}))},t.find=function(e,t){for(var r,n=0,i=e;n<i.length;n++){var o=i[n];if(t(o)){r=o;break}}return r},t.keyBy=function(e,t){var r={};return e.forEach((function(e){var n=t(e);r[n]=e})),r},t.sprintf=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=0;return e.replace(/%s/g,(function(){var e=t[n++],r=typeof e;return"function"===r?e():"string"===r?e:String(e)}))},function(e){e.ACTIVATE="ACTIVATE:experiment, user_id,attributes, variation, event",e.DECISION="DECISION:type, userId, attributes, decisionInfo",e.LOG_EVENT="LOG_EVENT:logEvent",e.OPTIMIZELY_CONFIG_UPDATE="OPTIMIZELY_CONFIG_UPDATE",e.TRACK="TRACK:event_key, user_id, attributes, event_tags, event"}(t.NOTIFICATION_TYPES||(t.NOTIFICATION_TYPES={}))},9889:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(8125),o=r(5001),a=r(7378),s=r(2002),u=(n=r(8053))&&"object"==typeof n&&"default"in n?n.default:n,c=function(){return(c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function l(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}var p={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4},f={CONDITION_EVALUATOR_ERROR:"%s: Error evaluating audience condition of type %s: %s",DATAFILE_AND_SDK_KEY_MISSING:"%s: You must provide at least one of sdkKey or datafile. Cannot start Optimizely",EXPERIMENT_KEY_NOT_IN_DATAFILE:"%s: Experiment key %s is not in datafile.",FEATURE_NOT_IN_DATAFILE:"%s: Feature key %s is not in datafile.",IMPROPERLY_FORMATTED_EXPERIMENT:"%s: Experiment key %s is improperly formatted.",INVALID_ATTRIBUTES:"%s: Provided attributes are in an invalid format.",INVALID_BUCKETING_ID:"%s: Unable to generate hash for bucketing ID %s: %s",INVALID_DATAFILE:"%s: Datafile is invalid - property %s: %s",INVALID_DATAFILE_MALFORMED:"%s: Datafile is invalid because it is malformed.",INVALID_CONFIG:"%s: Provided Optimizely config is in an invalid format.",INVALID_JSON:"%s: JSON object is not valid.",INVALID_ERROR_HANDLER:'%s: Provided "errorHandler" is in an invalid format.',INVALID_EVENT_DISPATCHER:'%s: Provided "eventDispatcher" is in an invalid format.',INVALID_EVENT_TAGS:"%s: Provided event tags are in an invalid format.",INVALID_EXPERIMENT_KEY:"%s: Experiment key %s is not in datafile. It is either invalid, paused, or archived.",INVALID_EXPERIMENT_ID:"%s: Experiment ID %s is not in datafile.",INVALID_GROUP_ID:"%s: Group ID %s is not in datafile.",INVALID_LOGGER:'%s: Provided "logger" is in an invalid format.',INVALID_ROLLOUT_ID:"%s: Invalid rollout ID %s attached to feature %s",INVALID_USER_ID:"%s: Provided user ID is in an invalid format.",INVALID_USER_PROFILE_SERVICE:"%s: Provided user profile service instance is in an invalid format: %s.",NO_DATAFILE_SPECIFIED:"%s: No datafile specified. Cannot start optimizely.",NO_JSON_PROVIDED:"%s: No JSON object to validate against schema.",NO_VARIATION_FOR_EXPERIMENT_KEY:"%s: No variation key %s defined in datafile for experiment %s.",UNDEFINED_ATTRIBUTE:"%s: Provided attribute: %s has an undefined value.",UNRECOGNIZED_ATTRIBUTE:"%s: Unrecognized attribute %s provided. Pruning before sending event to Optimizely.",UNABLE_TO_CAST_VALUE:"%s: Unable to cast value %s to type %s, returning null.",USER_NOT_IN_FORCED_VARIATION:"%s: User %s is not in the forced variation map. Cannot remove their forced variation.",USER_PROFILE_LOOKUP_ERROR:'%s: Error while looking up user profile for user ID "%s": %s.',USER_PROFILE_SAVE_ERROR:'%s: Error while saving user profile for user ID "%s": %s.',VARIABLE_KEY_NOT_IN_DATAFILE:'%s: Variable with key "%s" associated with feature with key "%s" is not in datafile.',VARIATION_ID_NOT_IN_DATAFILE:"%s: No variation ID %s defined in datafile for experiment %s.",VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT:"%s: Variation ID %s is not in the datafile.",INVALID_INPUT_FORMAT:"%s: Provided %s is in an invalid format.",INVALID_DATAFILE_VERSION:"%s: This version of the JavaScript SDK does not support the given datafile version: %s",INVALID_VARIATION_KEY:"%s: Provided variation key is in an invalid format."},d={ACTIVATE_USER:"%s: Activating user %s in experiment %s.",DISPATCH_CONVERSION_EVENT:"%s: Dispatching conversion event to URL %s with params %s.",DISPATCH_IMPRESSION_EVENT:"%s: Dispatching impression event to URL %s with params %s.",DEPRECATED_EVENT_VALUE:"%s: Event value is deprecated in %s call.",EVENT_KEY_NOT_FOUND:"%s: Event key %s is not in datafile.",EXPERIMENT_NOT_RUNNING:"%s: Experiment %s is not running.",FEATURE_ENABLED_FOR_USER:"%s: Feature %s is enabled for user %s.",FEATURE_NOT_ENABLED_FOR_USER:"%s: Feature %s is not enabled for user %s.",FEATURE_HAS_NO_EXPERIMENTS:"%s: Feature %s is not attached to any experiments.",FAILED_TO_PARSE_VALUE:'%s: Failed to parse event value "%s" from event tags.',FAILED_TO_PARSE_REVENUE:'%s: Failed to parse revenue value "%s" from event tags.',FORCED_BUCKETING_FAILED:"%s: Variation key %s is not in datafile. Not activating user %s.",INVALID_OBJECT:"%s: Optimizely object is not valid. Failing %s.",INVALID_CLIENT_ENGINE:"%s: Invalid client engine passed: %s. Defaulting to node-sdk.",INVALID_DEFAULT_DECIDE_OPTIONS:"%s: Provided default decide options is not an array.",INVALID_DECIDE_OPTIONS:"%s: Provided decide options is not an array. Using default decide options.",INVALID_VARIATION_ID:"%s: Bucketed into an invalid variation ID. Returning null.",NOTIFICATION_LISTENER_EXCEPTION:"%s: Notification listener for (%s) threw exception: %s",NO_ROLLOUT_EXISTS:"%s: There is no rollout of feature %s.",NOT_ACTIVATING_USER:"%s: Not activating user %s for experiment %s.",NOT_TRACKING_USER:"%s: Not tracking user %s.",PARSED_REVENUE_VALUE:'%s: Parsed revenue value "%s" from event tags.',PARSED_NUMERIC_VALUE:'%s: Parsed event value "%s" from event tags.',RETURNING_STORED_VARIATION:'%s: Returning previously activated variation "%s" of experiment "%s" for user "%s" from user profile.',ROLLOUT_HAS_NO_EXPERIMENTS:"%s: Rollout of feature %s has no experiments",SAVED_VARIATION:'%s: Saved variation "%s" of experiment "%s" for user "%s".',SAVED_VARIATION_NOT_FOUND:"%s: User %s was previously bucketed into variation with ID %s for experiment %s, but no matching variation was found.",SHOULD_NOT_DISPATCH_ACTIVATE:'%s: Experiment %s is not in "Running" state. Not activating user.',SKIPPING_JSON_VALIDATION:"%s: Skipping JSON schema validation.",TRACK_EVENT:"%s: Tracking event %s for user %s.",UNRECOGNIZED_DECIDE_OPTION:"%s: Unrecognized decide option %s provided.",USER_ASSIGNED_TO_EXPERIMENT_BUCKET:"%s: Assigned bucket %s to user with bucketing ID %s.",USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is in experiment %s of group %s.",USER_BUCKETED_INTO_TARGETING_RULE:"%s: User %s bucketed into targeting rule %s.",USER_IN_FEATURE_EXPERIMENT:"%s: User %s is in variation %s of experiment %s on the feature %s.",USER_IN_ROLLOUT:"%s: User %s is in rollout of feature %s.",USER_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s bucketed into everyone targeting rule.",USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s not bucketed into everyone targeting rule due to traffic allocation.",USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is not in experiment %s of group %s.",USER_NOT_BUCKETED_INTO_ANY_EXPERIMENT_IN_GROUP:"%s: User %s is not in any experiment of group %s.",USER_NOT_BUCKETED_INTO_TARGETING_RULE:"%s User %s not bucketed into targeting rule %s due to traffic allocation. Trying everyone rule.",USER_NOT_IN_FEATURE_EXPERIMENT:"%s: User %s is not in any experiment on the feature %s.",USER_NOT_IN_ROLLOUT:"%s: User %s is not in rollout of feature %s.",USER_FORCED_IN_VARIATION:"%s: User %s is forced in variation %s.",USER_MAPPED_TO_FORCED_VARIATION:"%s: Set variation %s for experiment %s and user %s in the forced variation map.",USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s does not meet conditions for targeting rule %s.",USER_MEETS_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s meets conditions for targeting rule %s.",USER_HAS_VARIATION:"%s: User %s is in variation %s of experiment %s.",USER_HAS_FORCED_VARIATION:"%s: Variation %s is mapped to experiment %s and user %s in the forced variation map.",USER_HAS_NO_VARIATION:"%s: User %s is in no variation of experiment %s.",USER_HAS_NO_FORCED_VARIATION:"%s: User %s is not in the forced variation map.",USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT:"%s: No experiment %s mapped to user %s in the forced variation map.",USER_NOT_IN_ANY_EXPERIMENT:"%s: User %s is not in any experiment of group %s.",USER_NOT_IN_EXPERIMENT:"%s: User %s does not meet conditions to be in experiment %s.",USER_RECEIVED_DEFAULT_VARIABLE_VALUE:'%s: User "%s" is not in any variation or rollout rule. Returning default value for variable "%s" of feature flag "%s".',FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Feature "%s" is not enabled for user %s. Returning the default variable value "%s".',VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Variable "%s" is not used in variation "%s". Returning default value.',USER_RECEIVED_VARIABLE_VALUE:'%s: Got variable value "%s" for variable "%s" of feature flag "%s"',VALID_DATAFILE:"%s: Datafile is valid.",VALID_USER_PROFILE_SERVICE:"%s: Valid user profile service provided.",VARIATION_REMOVED_FOR_USER:"%s: Variation mapped to experiment %s has been removed for user %s.",VARIABLE_REQUESTED_WITH_WRONG_TYPE:'%s: Requested variable type "%s", but variable is of type "%s". Use correct API to retrieve value. Returning None.',VALID_BUCKETING_ID:'%s: BucketingId is valid: "%s"',BUCKETING_ID_NOT_STRING:"%s: BucketingID attribute is not a string. Defaulted to userId",EVALUATING_AUDIENCE:'%s: Starting to evaluate audience "%s" with conditions: %s.',EVALUATING_AUDIENCES_COMBINED:'%s: Evaluating audiences for %s "%s": %s.',AUDIENCE_EVALUATION_RESULT:'%s: Audience "%s" evaluated to %s.',AUDIENCE_EVALUATION_RESULT_COMBINED:"%s: Audiences for %s %s collectively evaluated to %s.",MISSING_ATTRIBUTE_VALUE:'%s: Audience condition %s evaluated to UNKNOWN because no value was passed for user attribute "%s".',UNEXPECTED_CONDITION_VALUE:"%s: Audience condition %s evaluated to UNKNOWN because the condition value is not supported.",UNEXPECTED_TYPE:'%s: Audience condition %s evaluated to UNKNOWN because a value of type "%s" was passed for user attribute "%s".',UNEXPECTED_TYPE_NULL:'%s: Audience condition %s evaluated to UNKNOWN because a null value was passed for user attribute "%s".',UNKNOWN_CONDITION_TYPE:"%s: Audience condition %s has an unknown condition type. You may need to upgrade to a newer release of the Optimizely SDK.",UNKNOWN_MATCH_TYPE:"%s: Audience condition %s uses an unknown match type. You may need to upgrade to a newer release of the Optimizely SDK.",UPDATED_OPTIMIZELY_CONFIG:"%s: Updated Optimizely config to revision %s (project id %s)",OUT_OF_BOUNDS:'%s: Audience condition %s evaluated to UNKNOWN because the number value for user attribute "%s" is not in the range [-2^53, +2^53].',UNABLE_TO_ATTACH_UNLOAD:'%s: unable to bind optimizely.close() to page unload event: "%s"'},h={REVENUE:"revenue",VALUE:"value"},g={BOT_FILTERING:"$opt_bot_filtering",BUCKETING_ID:"$opt_bucketing_id",STICKY_BUCKETING_KEY:"$opt_experiment_bucket_map",USER_AGENT:"$opt_user_agent"},m=["node-sdk","react-sdk","javascript-sdk"],v=a.NOTIFICATION_TYPES,y={AB_TEST:"ab-test",FEATURE:"feature",FEATURE_TEST:"feature-test",FEATURE_VARIABLE:"feature-variable",ALL_FEATURE_VARIABLES:"all-feature-variables",FLAG:"flag"},_={FEATURE_TEST:"feature-test",ROLLOUT:"rollout",EXPERIMENT:"experiment"},E={RULE:"rule",EXPERIMENT:"experiment"},b={BOOLEAN:"boolean",DOUBLE:"double",INTEGER:"integer",STRING:"string",JSON:"json"},I={V2:"2",V3:"3",V4:"4"},w={SDK_NOT_READY:"Optimizely SDK not configured properly yet.",FLAG_KEY_INVALID:'No flag was found for key "%s".',VARIABLE_VALUE_INVALID:'Variable value for key "%s" is invalid or wrong type.'},T=Object.freeze({__proto__:null,LOG_LEVEL:p,ERROR_MESSAGES:f,LOG_MESSAGES:d,RESERVED_EVENT_KEYWORDS:h,CONTROL_ATTRIBUTES:g,JAVASCRIPT_CLIENT_ENGINE:"javascript-sdk",NODE_CLIENT_ENGINE:"node-sdk",REACT_CLIENT_ENGINE:"react-sdk",NODE_CLIENT_VERSION:"4.6.0",VALID_CLIENT_ENGINES:m,NOTIFICATION_TYPES:v,DECISION_NOTIFICATION_TYPES:y,DECISION_SOURCES:_,AUDIENCE_EVALUATION_TYPES:E,FEATURE_VARIABLE_TYPES:b,DATAFILE_VERSIONS:I,DECISION_MESSAGES:w}),O="CONFIG_VALIDATOR",N=[I.V2,I.V3,I.V4],R=function(e){if("object"==typeof e&&null!==e){var t=e,r=t.errorHandler,n=t.eventDispatcher,i=t.logger;if(r&&"function"!=typeof r.handleError)throw new Error(a.sprintf(f.INVALID_ERROR_HANDLER,O));if(n&&"function"!=typeof n.dispatchEvent)throw new Error(a.sprintf(f.INVALID_EVENT_DISPATCHER,O));if(i&&"function"!=typeof i.log)throw new Error(a.sprintf(f.INVALID_LOGGER,O));return!0}throw new Error(a.sprintf(f.INVALID_CONFIG,O))},A={handleError:function(){}},C={dispatchEvent:function(e,t){var r,n=e.url,i=e.params;"POST"===e.httpVerb?((r=new XMLHttpRequest).open("POST",n,!0),r.setRequestHeader("Content-Type","application/json"),r.onreadystatechange=function(){if(4===r.readyState&&t&&"function"==typeof t)try{t({statusCode:r.status})}catch(e){}},r.send(JSON.stringify(i))):(n+="?wxhr=true",i&&(n+="&"+function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}(i)),(r=new XMLHttpRequest).open("GET",n,!0),r.onreadystatechange=function(){if(4===r.readyState&&t&&"function"==typeof t)try{t()}catch(e){}},r.send())}},x=function(){function e(){}return e.prototype.log=function(){},e}();function S(e){return new i.ConsoleLogHandler(e)}var L,P=Object.freeze({__proto__:null,NoOpLogger:x,createLogger:S,createNoOpLogger:function(){return new x}});function U(e,t,r){return{variationKey:null,enabled:!1,variables:{},ruleKey:null,flagKey:e,userContext:t,reasons:r}}(L=t.OptimizelyDecideOption||(t.OptimizelyDecideOption={})).DISABLE_DECISION_EVENT="DISABLE_DECISION_EVENT",L.ENABLED_FLAGS_ONLY="ENABLED_FLAGS_ONLY",L.IGNORE_USER_PROFILE_SERVICE="IGNORE_USER_PROFILE_SERVICE",L.INCLUDE_REASONS="INCLUDE_REASONS",L.EXCLUDE_VARIABLES="EXCLUDE_VARIABLES";var k=function(){function e(e){var t,r=e.optimizely,n=e.userId,i=e.attributes;this.optimizely=r,this.userId=n,this.attributes=null!==(t=c({},i))&&void 0!==t?t:{}}return e.prototype.setAttribute=function(e,t){this.attributes[e]=t},e.prototype.getUserId=function(){return this.userId},e.prototype.getAttributes=function(){return c({},this.attributes)},e.prototype.getOptimizely=function(){return this.optimizely},e.prototype.decide=function(e,t){return void 0===t&&(t=[]),this.optimizely.decide(this.cloneUserContext(),e,t)},e.prototype.decideForKeys=function(e,t){return void 0===t&&(t=[]),this.optimizely.decideForKeys(this.cloneUserContext(),e,t)},e.prototype.decideAll=function(e){return void 0===e&&(e=[]),this.optimizely.decideAll(this.cloneUserContext(),e)},e.prototype.trackEvent=function(e,t){this.optimizely.track(e,this.userId,this.attributes,t)},e.prototype.cloneUserContext=function(){return new e({optimizely:this.getOptimizely(),userId:this.getUserId(),attributes:this.getAttributes()})},e}(),D=Math.pow(2,53),j={assign:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!e)return{};if("function"==typeof Object.assign)return Object.assign.apply(Object,l([e],t));for(var n=Object(e),i=0;i<t.length;i++){var o=t[i];if(null!=o)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])}return n},currentTimestamp:function(){return Math.round((new Date).getTime())},isSafeInteger:function(e){return"number"==typeof e&&Math.abs(e)<=D},keyBy:function(e,t){return e?a.keyBy(e,(function(e){return e[t]})):{}},uuid:a.generateUUID,isNumber:function(e){return"number"==typeof e}},M="PROJECT_CONFIG",F=function(e,t){void 0===t&&(t=null);var r,n,i=(r=e,(n=j.assign({},r)).audiences=(r.audiences||[]).map((function(e){return j.assign({},e)})),n.experiments=(r.experiments||[]).map((function(e){return j.assign({},e)})),n.featureFlags=(r.featureFlags||[]).map((function(e){return j.assign({},e)})),n.groups=(r.groups||[]).map((function(e){var t=j.assign({},e);return t.experiments=(e.experiments||[]).map((function(e){return j.assign({},e)})),t})),n.rollouts=(r.rollouts||[]).map((function(e){var t=j.assign({},e);return t.experiments=(e.experiments||[]).map((function(e){return j.assign({},e)})),t})),n);return i.__datafileStr=null===t?JSON.stringify(e):t,(i.audiences||[]).forEach((function(e){e.conditions=JSON.parse(e.conditions)})),i.audiencesById=j.keyBy(i.audiences,"id"),j.assign(i.audiencesById,j.keyBy(i.typedAudiences,"id")),i.attributeKeyMap=j.keyBy(i.attributes,"key"),i.eventKeyMap=j.keyBy(i.events,"key"),i.groupIdMap=j.keyBy(i.groups,"id"),Object.keys(i.groupIdMap||{}).forEach((function(e){(i.groupIdMap[e].experiments||[]).forEach((function(t){i.experiments.push(j.assign(t,{groupId:e}))}))})),i.rolloutIdMap=j.keyBy(i.rollouts||[],"id"),a.objectValues(i.rolloutIdMap||{}).forEach((function(e){(e.experiments||[]).forEach((function(e){i.experiments.push(e),e.variationKeyMap=j.keyBy(e.variations,"key")}))})),i.experimentKeyMap=j.keyBy(i.experiments,"key"),i.experimentIdMap=j.keyBy(i.experiments,"id"),i.variationIdMap={},i.variationVariableUsageMap={},(i.experiments||[]).forEach((function(e){e.variationKeyMap=j.keyBy(e.variations,"key"),j.assign(i.variationIdMap,j.keyBy(e.variations,"id")),a.objectValues(e.variationKeyMap||{}).forEach((function(e){e.variables&&(i.variationVariableUsageMap[e.id]=j.keyBy(e.variables,"id"))}))})),i.experimentFeatureMap={},i.featureKeyMap=j.keyBy(i.featureFlags||[],"key"),a.objectValues(i.featureKeyMap||{}).forEach((function(e){e.variables.forEach((function(e){e.type===b.STRING&&e.subType===b.JSON&&(e.type=b.JSON,delete e.subType)})),e.variableKeyMap=j.keyBy(e.variables,"key"),(e.experimentIds||[]).forEach((function(t){i.experimentFeatureMap[t]?i.experimentFeatureMap[t].push(e.id):i.experimentFeatureMap[t]=[e.id]}))})),i},V=function(e,t){var r=e.experimentKeyMap[t];if(!r)throw new Error(a.sprintf(f.INVALID_EXPERIMENT_KEY,M,t));return r.id},G=function(e,t){var r=e.experimentKeyMap[t];if(!r)throw new Error(a.sprintf(f.INVALID_EXPERIMENT_KEY,M,t));return r.status},B=function(e,t){var r=e.experimentKeyMap[t];if(!r)throw new Error(a.sprintf(f.INVALID_EXPERIMENT_KEY,M,t));return r.audienceConditions||r.audienceIds},K=function(e,t){return e.variationIdMap.hasOwnProperty(t)?e.variationIdMap[t].key:null},H=function(e,t,r){var n=e.experimentKeyMap[t];return n.variationKeyMap.hasOwnProperty(r)?n.variationKeyMap[r].id:null},q=function(e,t){if(e.experimentKeyMap.hasOwnProperty(t)){var r=e.experimentKeyMap[t];if(r)return r}throw new Error(a.sprintf(f.EXPERIMENT_KEY_NOT_IN_DATAFILE,M,t))},z=function(e,t){var r=e.experimentKeyMap[t];if(!r)throw new Error(a.sprintf(f.INVALID_EXPERIMENT_KEY,M,t));return r.trafficAllocation},Y=function(e,t,r){if(e.experimentIdMap.hasOwnProperty(t)){var n=e.experimentIdMap[t];if(n)return n}return r.log(p.ERROR,a.sprintf(f.INVALID_EXPERIMENT_ID,M,t)),null},X=function(e,t,r){if(e.featureKeyMap.hasOwnProperty(t)){var n=e.featureKeyMap[t];if(n)return n}return r.log(p.ERROR,a.sprintf(f.FEATURE_NOT_IN_DATAFILE,M,t)),null},W=function(e,t,r,n){var i=e.featureKeyMap[t];return i?i.variableKeyMap[r]||(n.log(p.ERROR,a.sprintf(f.VARIABLE_KEY_NOT_IN_DATAFILE,M,r,t)),null):(n.log(p.ERROR,a.sprintf(f.FEATURE_NOT_IN_DATAFILE,M,t)),null)},J=function(e,t,r,n){if(!t||!r)return null;if(!e.variationVariableUsageMap.hasOwnProperty(r.id))return n.log(p.ERROR,a.sprintf(f.VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT,M,r.id)),null;var i=e.variationVariableUsageMap[r.id][t.id];return i?i.value:null},Z=function(e,t,r){var n;switch(t){case b.BOOLEAN:"true"!==e&&"false"!==e?(r.log(p.ERROR,a.sprintf(f.UNABLE_TO_CAST_VALUE,M,e,t)),n=null):n="true"===e;break;case b.INTEGER:n=parseInt(e,10),isNaN(n)&&(r.log(p.ERROR,a.sprintf(f.UNABLE_TO_CAST_VALUE,M,e,t)),n=null);break;case b.DOUBLE:n=parseFloat(e),isNaN(n)&&(r.log(p.ERROR,a.sprintf(f.UNABLE_TO_CAST_VALUE,M,e,t)),n=null);break;case b.JSON:try{n=JSON.parse(e)}catch(u){r.log(p.ERROR,a.sprintf(f.UNABLE_TO_CAST_VALUE,M,e,t)),n=null}break;default:n=e}return n},$=function(e,t){return e.experimentFeatureMap.hasOwnProperty(t)},Q=function(e){return!!e.sendFlagDecisions},ee=V,te=function(e,t){var r=e.experimentIdMap[t];if(!r)throw new Error(a.sprintf(f.INVALID_EXPERIMENT_ID,M,t));return r.layerId},re=function(e,t,r){var n=e.attributeKeyMap[t],i=0===t.indexOf("$opt_");return n?(i&&r.log(p.WARNING,a.sprintf("Attribute %s unexpectedly has reserved prefix %s; using attribute ID instead of reserved attribute name.",t,"$opt_")),n.id):i?t:(r.log(p.DEBUG,a.sprintf(f.UNRECOGNIZED_ATTRIBUTE,M,t)),null)},ne=function(e,t){var r=e.eventKeyMap[t];return r?r.id:null},ie=K,oe=H,ae=function(e){return e.__datafileStr},se=function(e){var t;try{t=function(e){if(!e)throw new Error(a.sprintf(f.NO_DATAFILE_SPECIFIED,O));if("string"==typeof e)try{e=JSON.parse(e)}catch(e){throw new Error(a.sprintf(f.INVALID_DATAFILE_MALFORMED,O))}if("object"==typeof e&&!Array.isArray(e)&&null!==e&&-1===N.indexOf(e.version))throw new Error(a.sprintf(f.INVALID_DATAFILE_VERSION,O,e.version));return e}(e.datafile)}catch(e){return{configObj:null,error:e}}if(e.jsonSchemaValidator)try{e.jsonSchemaValidator.validate(t),e.logger.log(p.INFO,a.sprintf(d.VALID_DATAFILE,M))}catch(e){return{configObj:null,error:e}}else e.logger.log(p.INFO,a.sprintf(d.SKIPPING_JSON_VALIDATION,M));var r=[t];return"string"==typeof e.datafile&&r.push(e.datafile),{configObj:F.apply(void 0,r),error:null}},ue=function(){function e(t,r){this.experimentsMap=e.getExperimentsMap(t),this.featuresMap=e.getFeaturesMap(t,this.experimentsMap),this.revision=t.revision,this.datafile=r}return e.prototype.getDatafile=function(){return this.datafile},e.getRolloutExperimentIds=function(e){return(e||[]).reduce((function(e,t){return t.experiments.forEach((function(t){e[t.id]=!0})),e}),{})},e.getExperimentsMap=function(e){var t=this,r=this.getRolloutExperimentIds(e.rollouts),n=(e.featureFlags||[]).reduce((function(e,t){return e[t.id]=t.variables,e}),{});return(e.experiments||[]).reduce((function(i,o){return r[o.id]||(i[o.key]={id:o.id,key:o.key,variationsMap:(o.variations||[]).reduce((function(r,i){return r[i.key]={id:i.id,key:i.key,variablesMap:t.getMergedVariablesMap(e,i,o.id,n)},$(e,o.id)&&(r[i.key].featureEnabled=i.featureEnabled),r}),{})}),i}),{})},e.getMergedVariablesMap=function(e,t,r,n){var i=e.experimentFeatureMap[r],o={};if(i){var a=n[i.toString()],s=(t.variables||[]).reduce((function(e,t){return e[t.id]={id:t.id,value:t.value},e}),{});o=(a||[]).reduce((function(e,r){var n=s[r.id],i=t.featureEnabled&&n?n.value:r.defaultValue;return e[r.key]={id:r.id,key:r.key,type:r.type,value:i},e}),{})}return o},e.getFeaturesMap=function(e,t){return(e.featureFlags||[]).reduce((function(r,n){return r[n.key]={id:n.id,key:n.key,experimentsMap:(n.experimentIds||[]).reduce((function(r,n){var i=e.experimentIdMap[n].key;return r[i]=t[i],r}),{}),variablesMap:(n.variables||[]).reduce((function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e}),{})},r}),{})},e}(),ce=i.getLogger();function le(e,t){return e instanceof Error?e.message:t||"Unknown error"}function pe(e){try{this.__initialize(e)}catch(e){ce.error(e),this.__updateListeners=[],this.__configObj=null,this.__optimizelyConfigObj=null,this.__readyPromise=Promise.resolve({success:!1,reason:le(e,"Error in initialize")})}}pe.prototype.__initialize=function(e){if(this.__updateListeners=[],this.jsonSchemaValidator=e.jsonSchemaValidator,!e.datafile&&!e.sdkKey){this.__configObj=null;var t=new Error(a.sprintf(f.DATAFILE_AND_SDK_KEY_MISSING,"PROJECT_CONFIG_MANAGER"));return this.__readyPromise=Promise.resolve({success:!1,reason:le(t)}),void ce.error(t)}var r;if(e.datafile?(r=this.__handleNewDatafile(e.datafile))&&(this.__configObj=null):this.__configObj=null,e.sdkKey){var n={sdkKey:e.sdkKey};this.__validateDatafileOptions(e.datafileOptions)&&j.assign(n,e.datafileOptions),this.__configObj&&(n.datafile=ae(this.__configObj)),this.datafileManager=new s.HttpPollingDatafileManager(n),this.datafileManager.start(),this.__readyPromise=this.datafileManager.onReady().then(this.__onDatafileManagerReadyFulfill.bind(this),this.__onDatafileManagerReadyReject.bind(this)),this.datafileManager.on("update",this.__onDatafileManagerUpdate.bind(this))}else this.__configObj?this.__readyPromise=Promise.resolve({success:!0}):this.__readyPromise=Promise.resolve({success:!1,reason:le(r,"Invalid datafile")})},pe.prototype.__onDatafileManagerReadyFulfill=function(){var e=this.__handleNewDatafile(this.datafileManager.get());return e?{success:!1,reason:le(e)}:{success:!0}},pe.prototype.__onDatafileManagerReadyReject=function(e){return{success:!1,reason:le(e,"Failed to become ready")}},pe.prototype.__onDatafileManagerUpdate=function(){this.__handleNewDatafile(this.datafileManager.get())},pe.prototype.__validateDatafileOptions=function(e){return void 0===e||"object"==typeof e&&null!==e},pe.prototype.__handleNewDatafile=function(e){var t=se({datafile:e,jsonSchemaValidator:this.jsonSchemaValidator,logger:ce}),r=t.configObj,n=t.error;return n?ce.error(n):(this.__configObj?this.__configObj.revision:"null")!==r.revision&&(this.__configObj=r,this.__optimizelyConfigObj=function(e,t){return new ue(e,t)}(this.__configObj,ae(this.__configObj)),this.__updateListeners.forEach((function(e){e(r)}))),n},pe.prototype.getConfig=function(){return this.__configObj},pe.prototype.getOptimizelyConfig=function(){return this.__optimizelyConfigObj},pe.prototype.onReady=function(){return this.__readyPromise},pe.prototype.onUpdate=function(e){return this.__updateListeners.push(e),function(){var t=this.__updateListeners.indexOf(e);t>-1&&this.__updateListeners.splice(t,1)}.bind(this)},pe.prototype.stop=function(){this.datafileManager&&this.datafileManager.stop(),this.__updateListeners=[]};var fe=function(){function e(e){var t=this;this.logger=e.logger,this.errorHandler=e.errorHandler,this.notificationListeners={},a.objectValues(v).forEach((function(e){t.notificationListeners[e]=[]})),this.listenerId=1}return e.prototype.addNotificationListener=function(e,t){try{if(!(a.objectValues(v).indexOf(e)>-1))return-1;this.notificationListeners[e]||(this.notificationListeners[e]=[]);var r=!1;if((this.notificationListeners[e]||[]).forEach((function(e){e.callback!==t||(r=!0)})),r)return-1;this.notificationListeners[e].push({id:this.listenerId,callback:t});var n=this.listenerId;return this.listenerId+=1,n}catch(e){return this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e),-1}},e.prototype.removeNotificationListener=function(e){var t=this;try{var r,n;if(Object.keys(this.notificationListeners).some((function(i){return(t.notificationListeners[i]||[]).every((function(t,o){return t.id!==e||(r=o,n=i,!1)})),void 0!==r&&void 0!==n})),void 0!==r&&void 0!==n)return this.notificationListeners[n].splice(r,1),!0}catch(e){this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e)}return!1},e.prototype.clearAllNotificationListeners=function(){var e=this;try{a.objectValues(v).forEach((function(t){e.notificationListeners[t]=[]}))}catch(e){this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.clearNotificationListeners=function(e){try{this.notificationListeners[e]=[]}catch(e){this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.sendNotifications=function(e,t){var r=this;try{(this.notificationListeners[e]||[]).forEach((function(n){var i=n.callback;try{i(t)}catch(t){r.logger.log(p.ERROR,a.sprintf(d.NOTIFICATION_LISTENER_EXCEPTION,"NOTIFICATION_CENTER",e,t.message))}}))}catch(e){this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e)}},e}(),de=Math.pow(2,32),he=function(e){var t=[],r=e.experimentKeyMap[e.experimentKey].groupId;if(r){var n=e.groupIdMap[r];if(!n)throw new Error(a.sprintf(f.INVALID_GROUP_ID,"BUCKETER",r));if("random"===n.policy){var i=ge(n,e.bucketingId,e.userId,e.logger);if(null===i){var o=a.sprintf(d.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",e.userId,r);return e.logger.log(p.INFO,o),t.push(o),{result:null,reasons:t}}if(i!==e.experimentId){var s=a.sprintf(d.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,r);return e.logger.log(p.INFO,s),t.push(s),{result:null,reasons:t}}var u=a.sprintf(d.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,r);e.logger.log(p.INFO,u),t.push(u)}}var c=a.sprintf("%s%s",e.bucketingId,e.experimentId),l=ve(c),h=a.sprintf(d.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",l,e.userId);e.logger.log(p.DEBUG,h),t.push(h);var g=me(l,e.trafficAllocationConfig);if(null!==g&&!e.variationIdMap[g]){if(g){var m=a.sprintf(d.INVALID_VARIATION_ID,"BUCKETER");e.logger.log(p.WARNING,m),t.push(m)}return{result:null,reasons:t}}return{result:g,reasons:t}},ge=function(e,t,r,n){var i=a.sprintf("%s%s",t,e.id),o=ve(i);n.log(p.DEBUG,a.sprintf(d.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",o,r));var s=e.trafficAllocation;return me(o,s)},me=function(e,t){for(var r=0;r<t.length;r++)if(e<t[r].endOfRange)return t[r].entityId;return null},ve=function(e){try{var t=u.v3(e,1)/de;return Math.floor(1e4*t)}catch(t){throw new Error(a.sprintf(f.INVALID_BUCKETING_ID,"BUCKETER",e,t.message))}},ye=["and","or","not"];function _e(e,t){if(Array.isArray(e)){var r=e[0],n=e.slice(1);switch("string"==typeof r&&-1===ye.indexOf(r)&&(r="or",n=e),r){case"and":return function(e,t){var r=!1;if(Array.isArray(e)){for(var n=0;n<e.length;n++){var i=_e(e[n],t);if(!1===i)return!1;null===i&&(r=!0)}return!r||null}return null}(n,t);case"not":return function(e,t){if(Array.isArray(e)&&e.length>0){var r=_e(e[0],t);return null===r?null:!r}return null}(n,t);default:return function(e,t){var r=!1;if(Array.isArray(e)){for(var n=0;n<e.length;n++){var i=_e(e[n],t);if(!0===i)return!0;null===i&&(r=!0)}return!!r&&null}return null}(n,t)}}return t(e)}var Ee=i.getLogger();function be(e){return/^\d+$/.test(e)}function Ie(e){var t=e.indexOf("-"),r=e.indexOf("+");return!(t<0)&&(r<0||t<r)}function we(e){var t=e.indexOf("-"),r=e.indexOf("+");return!(r<0)&&(t<0||r<t)}function Te(e){var t=e,r="";if(function(e){return/\s/.test(e)}(e))return Ee.warn(d.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;if(Ie(e)?(t=e.substring(0,e.indexOf("-")),r=e.substring(e.indexOf("-")+1)):we(e)&&(t=e.substring(0,e.indexOf("+")),r=e.substring(e.indexOf("+")+1)),"string"!=typeof t||"string"!=typeof r)return null;var n=t.split(".").length-1;if(n>2)return Ee.warn(d.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;var i=t.split(".");if(i.length!=n+1)return Ee.warn(d.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;for(var o=0,a=i;o<a.length;o++)if(!be(a[o]))return Ee.warn(d.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;return r&&i.push(r),i}var Oe="CUSTOM_ATTRIBUTE_CONDITION_EVALUATOR",Ne=i.getLogger(),Re=["exact","exists","gt","ge","lt","le","substring","semver_eq","semver_lt","semver_le","semver_gt","semver_ge"],Ae={};function Ce(e){return"string"==typeof e||"boolean"==typeof e||j.isNumber(e)}function xe(e,t){var r=e.value,n=typeof r,i=e.name,o=t[i],a=typeof o;return!Ce(r)||j.isNumber(r)&&!j.isSafeInteger(r)?(Ne.warn(d.UNEXPECTED_CONDITION_VALUE,Oe,JSON.stringify(e)),null):null===o?(Ne.debug(d.UNEXPECTED_TYPE_NULL,Oe,JSON.stringify(e),i),null):Ce(o)&&n===a?j.isNumber(o)&&!j.isSafeInteger(o)?(Ne.warn(d.OUT_OF_BOUNDS,Oe,JSON.stringify(e),i),null):r===o:(Ne.warn(d.UNEXPECTED_TYPE,Oe,JSON.stringify(e),a,i),null)}function Se(e,t){var r=e.name,n=t[r],i=typeof n,o=e.value;return null!==o&&j.isSafeInteger(o)?null===n?(Ne.debug(d.UNEXPECTED_TYPE_NULL,Oe,JSON.stringify(e),r),!1):j.isNumber(n)?!!j.isSafeInteger(n)||(Ne.warn(d.OUT_OF_BOUNDS,Oe,JSON.stringify(e),r),!1):(Ne.warn(d.UNEXPECTED_TYPE,Oe,JSON.stringify(e),i,r),!1):(Ne.warn(d.UNEXPECTED_CONDITION_VALUE,Oe,JSON.stringify(e)),!1)}function Le(e,t){var r=e.name,n=t[r],i=typeof n,o=e.value;return"string"!=typeof o?(Ne.warn(d.UNEXPECTED_CONDITION_VALUE,Oe,JSON.stringify(e)),null):null===n?(Ne.debug(d.UNEXPECTED_TYPE_NULL,Oe,JSON.stringify(e),r),null):"string"!=typeof n?(Ne.warn(d.UNEXPECTED_TYPE,Oe,JSON.stringify(e),i,r),null):function(e,t){var r=Te(t),n=Te(e);if(!r||!n)return null;for(var i=r.length,o=0;o<n.length;o++){if(i<=o)return Ie(e)||we(e)?1:-1;if(be(r[o])){var a=parseInt(r[o]),s=parseInt(n[o]);if(a>s)return 1;if(a<s)return-1}else{if(r[o]<n[o])return Ie(e)&&!Ie(t)?1:-1;if(r[o]>n[o])return!Ie(e)&&Ie(t)?-1:1}}return Ie(t)&&!Ie(e)?-1:0}(o,n)}Ae.exact=xe,Ae.exists=function(e,t){return null!=t[e.name]},Ae.gt=function(e,t){var r=t[e.name],n=e.value;return Se(e,t)&&null!==n?r>n:null},Ae.ge=function(e,t){var r=t[e.name],n=e.value;return Se(e,t)&&null!==n?r>=n:null},Ae.lt=function(e,t){var r=t[e.name],n=e.value;return Se(e,t)&&null!==n?r<n:null},Ae.le=function(e,t){var r=t[e.name],n=e.value;return Se(e,t)&&null!==n?r<=n:null},Ae.substring=function(e,t){var r=e.name,n=t[e.name],i=typeof n,o=e.value;return"string"!=typeof o?(Ne.warn(d.UNEXPECTED_CONDITION_VALUE,Oe,JSON.stringify(e)),null):null===n?(Ne.debug(d.UNEXPECTED_TYPE_NULL,Oe,JSON.stringify(e),r),null):"string"!=typeof n?(Ne.warn(d.UNEXPECTED_TYPE,Oe,JSON.stringify(e),i,r),null):-1!==n.indexOf(o)},Ae.semver_eq=function(e,t){var r=Le(e,t);return null===r?null:0===r},Ae.semver_gt=function(e,t){var r=Le(e,t);return null===r?null:r>0},Ae.semver_ge=function(e,t){var r=Le(e,t);return null===r?null:r>=0},Ae.semver_lt=function(e,t){var r=Le(e,t);return null===r?null:r<0},Ae.semver_le=function(e,t){var r=Le(e,t);return null===r?null:r<=0};var Pe=Object.freeze({__proto__:null,evaluate:function(e,t){var r=e.match;if(void 0!==r&&-1===Re.indexOf(r))return Ne.warn(d.UNKNOWN_MATCH_TYPE,Oe,JSON.stringify(e)),null;var n=e.name;return t.hasOwnProperty(n)||"exists"==r?(r&&Ae[r]||xe)(e,t):(Ne.debug(d.MISSING_ATTRIBUTE_VALUE,Oe,JSON.stringify(e),n),null)}}),Ue=i.getLogger();function ke(e){this.typeToEvaluatorMap=j.assign({},e,{custom_attribute:Pe})}function De(e){return"string"==typeof e&&""!==e}ke.prototype.evaluate=function(e,t,r){if(!e||0===e.length)return!0;r||(r={});var n=function(e){var n=t[e];if(n){Ue.log(p.DEBUG,a.sprintf(d.EVALUATING_AUDIENCE,"AUDIENCE_EVALUATOR",e,JSON.stringify(n.conditions)));var i=_e(n.conditions,this.evaluateConditionWithUserAttributes.bind(this,r)),o=null===i?"UNKNOWN":i.toString().toUpperCase();return Ue.log(p.DEBUG,a.sprintf(d.AUDIENCE_EVALUATION_RESULT,"AUDIENCE_EVALUATOR",e,o)),i}return null}.bind(this);return _e(e,n)||!1},ke.prototype.evaluateConditionWithUserAttributes=function(e,t){var r=this.typeToEvaluatorMap[t.type];if(!r)return Ue.log(p.WARNING,a.sprintf(d.UNKNOWN_CONDITION_TYPE,"AUDIENCE_EVALUATOR",JSON.stringify(t))),null;try{return r.evaluate(t,e,Ue)}catch(e){Ue.log(p.ERROR,a.sprintf(f.CONDITION_EVALUATOR_ERROR,"AUDIENCE_EVALUATOR",t.type,e.message))}return null};var je="DECISION_SERVICE",Me=function(){function e(e){this.audienceEvaluator=new ke(e.UNSTABLE_conditionEvaluators),this.forcedVariationMap={},this.logger=e.logger,this.userProfileService=e.userProfileService||null}return e.prototype.getVariation=function(e,r,n,i,o){void 0===o&&(o={});var s=this.getBucketingId(n,i),u=[];if(!this.checkIfExperimentIsActive(e,r)){var c=a.sprintf(d.EXPERIMENT_NOT_RUNNING,je,r);return this.logger.log(p.INFO,c),u.push(c),{result:null,reasons:u}}var l=e.experimentKeyMap[r],f=this.getForcedVariation(e,r,n);u.push.apply(u,f.reasons);var h=f.result;if(h)return{result:h,reasons:u};var g=this.getWhitelistedVariation(l,n);u.push.apply(u,g.reasons);var m=g.result;if(m)return{result:m.key,reasons:u};var v=o[t.OptimizelyDecideOption.IGNORE_USER_PROFILE_SERVICE],y=this.resolveExperimentBucketMap(n,i);if(!v&&(m=this.getStoredVariation(e,l,n,y))){var _=a.sprintf(d.RETURNING_STORED_VARIATION,je,m.key,r,n);return this.logger.log(p.INFO,_),u.push(_),{result:m.key,reasons:u}}var b=this.checkIfUserIsInAudience(e,r,E.EXPERIMENT,n,i,"");if(u.push.apply(u,b.reasons),!b.result){var I=a.sprintf(d.USER_NOT_IN_EXPERIMENT,je,n,r);return this.logger.log(p.INFO,I),u.push(I),{result:null,reasons:u}}var w=this.buildBucketerParams(e,r,s,n),T=he(w);u.push.apply(u,T.reasons);var O=T.result;if(O&&(m=e.variationIdMap[O]),!m){var N=a.sprintf(d.USER_HAS_NO_VARIATION,je,n,r);return this.logger.log(p.DEBUG,N),u.push(N),{result:null,reasons:u}}var R=a.sprintf(d.USER_HAS_VARIATION,je,n,m.key,r);return this.logger.log(p.INFO,R),u.push(R),v||this.saveUserProfile(l,m,n,y),{result:m.key,reasons:u}},e.prototype.resolveExperimentBucketMap=function(e,t){t=t||{};var r=this.getUserProfile(e)||{},n=t[g.STICKY_BUCKETING_KEY];return j.assign({},r.experiment_bucket_map,n)},e.prototype.checkIfExperimentIsActive=function(e,t){return function(e,t){return"Running"===G(e,t)}(e,t)},e.prototype.getWhitelistedVariation=function(e,t){var r=[];if(e.forcedVariations&&e.forcedVariations.hasOwnProperty(t)){var n=e.forcedVariations[t];if(e.variationKeyMap.hasOwnProperty(n)){var i=a.sprintf(d.USER_FORCED_IN_VARIATION,je,t,n);return this.logger.log(p.INFO,i),r.push(i),{result:e.variationKeyMap[n],reasons:r}}var o=a.sprintf(d.FORCED_BUCKETING_FAILED,je,n,t);return this.logger.log(p.ERROR,o),r.push(o),{result:null,reasons:r}}return{result:null,reasons:r}},e.prototype.checkIfUserIsInAudience=function(e,t,r,n,i,o){var s=[],u=B(e,t),c=function(e){return e.audiencesById}(e),l=a.sprintf(d.EVALUATING_AUDIENCES_COMBINED,je,r,o||t,JSON.stringify(u));this.logger.log(p.DEBUG,l),s.push(l);var f=this.audienceEvaluator.evaluate(u,c,i),h=a.sprintf(d.AUDIENCE_EVALUATION_RESULT_COMBINED,je,r,o||t,f.toString().toUpperCase());return this.logger.log(p.INFO,h),s.push(h),{result:f,reasons:s}},e.prototype.buildBucketerParams=function(e,t,r,n){return{bucketingId:r,experimentId:V(e,t),experimentKey:t,experimentKeyMap:e.experimentKeyMap,groupIdMap:e.groupIdMap,logger:this.logger,trafficAllocationConfig:z(e,t),userId:n,variationIdMap:e.variationIdMap}},e.prototype.getStoredVariation=function(e,t,r,n){if(n.hasOwnProperty(t.id)){var i=n[t.id],o=i.variation_id;if(e.variationIdMap.hasOwnProperty(o))return e.variationIdMap[i.variation_id];this.logger.log(p.INFO,a.sprintf(d.SAVED_VARIATION_NOT_FOUND,je,r,o,t.key))}return null},e.prototype.getUserProfile=function(e){var t={user_id:e,experiment_bucket_map:{}};if(!this.userProfileService)return t;try{return this.userProfileService.lookup(e)}catch(t){this.logger.log(p.ERROR,a.sprintf(f.USER_PROFILE_LOOKUP_ERROR,je,e,t.message))}return null},e.prototype.saveUserProfile=function(e,t,r,n){if(this.userProfileService)try{n[e.id]={variation_id:t.id},this.userProfileService.save({user_id:r,experiment_bucket_map:n}),this.logger.log(p.INFO,a.sprintf(d.SAVED_VARIATION,je,t.key,e.key,r))}catch(e){this.logger.log(p.ERROR,a.sprintf(f.USER_PROFILE_SAVE_ERROR,je,r,e.message))}},e.prototype.getVariationForFeature=function(e,t,r,n,i){void 0===i&&(i={});var o=[],s=this.getVariationForFeatureExperiment(e,t,r,n,i);o.push.apply(o,s.reasons);var u=s.result;if(null!==u.variation)return{result:u,reasons:o};var c=this.getVariationForRollout(e,t,r,n);o.push.apply(o,c.reasons);var l=c.result;if(l.variation){var f=a.sprintf(d.USER_IN_ROLLOUT,je,r,t.key);return this.logger.log(p.DEBUG,f),o.push(f),{result:l,reasons:o}}var h=a.sprintf(d.USER_NOT_IN_ROLLOUT,je,r,t.key);return this.logger.log(p.DEBUG,h),o.push(h),{result:l,reasons:o}},e.prototype.getVariationForFeatureExperiment=function(e,t,r,n,i){void 0===i&&(i={});var o,s,u=[],c=null;if(t.experimentIds.length>0)for(s=0;s<t.experimentIds.length;s++){var l=Y(e,t.experimentIds[s],this.logger);if(l&&(o=this.getVariation(e,l.key,r,n,i),u.push.apply(u,o.reasons),c=o.result))return{result:{experiment:l,variation:l.variationKeyMap[c],decisionSource:_.FEATURE_TEST},reasons:u}}else{var f=a.sprintf(d.FEATURE_HAS_NO_EXPERIMENTS,je,t.key);this.logger.log(p.DEBUG,f),u.push(f)}return{result:{experiment:null,variation:null,decisionSource:_.FEATURE_TEST},reasons:u}},e.prototype.getVariationForRollout=function(e,t,r,n){var i=[];if(!t.rolloutId){var o=a.sprintf(d.NO_ROLLOUT_EXISTS,je,t.key);return this.logger.log(p.DEBUG,o),i.push(o),{result:{experiment:null,variation:null,decisionSource:_.ROLLOUT},reasons:i}}var s=e.rolloutIdMap[t.rolloutId];if(!s){var u=a.sprintf(f.INVALID_ROLLOUT_ID,je,t.rolloutId,t.key);return this.logger.log(p.ERROR,u),i.push(u),{result:{experiment:null,variation:null,decisionSource:_.ROLLOUT},reasons:i}}if(0===s.experiments.length){var c=a.sprintf(d.ROLLOUT_HAS_NO_EXPERIMENTS,je,t.rolloutId);return this.logger.log(p.ERROR,c),i.push(c),{result:{experiment:null,variation:null,decisionSource:_.ROLLOUT},reasons:i}}for(var l,h,g,m,v,y,b,I=this.getBucketingId(r,n),w=s.experiments.length-1,T=0;T<w;T++){if(l=e.experimentKeyMap[s.experiments[T].key],v=T+1,b=this.checkIfUserIsInAudience(e,l.key,E.RULE,r,n,v),i.push.apply(i,b.reasons),b.result){var O=a.sprintf(d.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,je,r,v);if(this.logger.log(p.DEBUG,O),i.push(O),h=this.buildBucketerParams(e,l.key,I,r),y=he(h),i.push.apply(i,y.reasons),(g=y.result)&&(m=e.variationIdMap[g]),m){var N=a.sprintf(d.USER_BUCKETED_INTO_TARGETING_RULE,je,r,v);return this.logger.log(p.DEBUG,N),i.push(N),{result:{experiment:l,variation:m,decisionSource:_.ROLLOUT},reasons:i}}var R=a.sprintf(d.USER_NOT_BUCKETED_INTO_TARGETING_RULE,je,r,v);this.logger.log(p.DEBUG,R),i.push(R);break}var A=a.sprintf(d.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,je,r,v);this.logger.log(p.DEBUG,A),i.push(A)}var C=e.experimentKeyMap[s.experiments[w].key],x=this.checkIfUserIsInAudience(e,C.key,E.RULE,r,n,"Everyone Else");if(i.push.apply(i,x.reasons),x.result){var S=a.sprintf(d.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,je,r,"Everyone Else");if(this.logger.log(p.DEBUG,S),i.push(S),h=this.buildBucketerParams(e,C.key,I,r),y=he(h),i.push.apply(i,y.reasons),(g=y.result)&&(m=e.variationIdMap[g]),m){var L=a.sprintf(d.USER_BUCKETED_INTO_EVERYONE_TARGETING_RULE,je,r);return this.logger.log(p.DEBUG,L),i.push(L),{result:{experiment:C,variation:m,decisionSource:_.ROLLOUT},reasons:i}}var P=a.sprintf(d.USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE,je,r);this.logger.log(p.DEBUG,P),i.push(P)}return{result:{experiment:null,variation:null,decisionSource:_.ROLLOUT},reasons:i}},e.prototype.getBucketingId=function(e,t){var r=e;return null!=t&&"object"==typeof t&&t.hasOwnProperty(g.BUCKETING_ID)&&("string"==typeof t[g.BUCKETING_ID]?(r=t[g.BUCKETING_ID],this.logger.log(p.DEBUG,a.sprintf(d.VALID_BUCKETING_ID,je,r))):this.logger.log(p.WARNING,a.sprintf(d.BUCKETING_ID_NOT_STRING,je))),r},e.prototype.removeForcedVariation=function(e,t,r){if(!e)throw new Error(a.sprintf(f.INVALID_USER_ID,je));if(!this.forcedVariationMap.hasOwnProperty(e))throw new Error(a.sprintf(f.USER_NOT_IN_FORCED_VARIATION,je,e));delete this.forcedVariationMap[e][t],this.logger.log(p.DEBUG,a.sprintf(d.VARIATION_REMOVED_FOR_USER,je,r,e))},e.prototype.setInForcedVariationMap=function(e,t,r){this.forcedVariationMap.hasOwnProperty(e)||(this.forcedVariationMap[e]={}),this.forcedVariationMap[e][t]=r,this.logger.log(p.DEBUG,a.sprintf(d.USER_MAPPED_TO_FORCED_VARIATION,je,r,t,e))},e.prototype.getForcedVariation=function(e,t,r){var n,i=[],o=this.forcedVariationMap[r];if(!o)return this.logger.log(p.DEBUG,a.sprintf(d.USER_HAS_NO_FORCED_VARIATION,je,r)),{result:null,reasons:i};try{var s=q(e,t);if(!s.hasOwnProperty("id")){var u=a.sprintf(f.IMPROPERLY_FORMATTED_EXPERIMENT,je,t);return this.logger.log(p.ERROR,u),i.push(u),{result:null,reasons:i}}n=s.id}catch(e){return this.logger.log(p.ERROR,e.message),i.push(e.message),{result:null,reasons:i}}var c=o[n];if(!c)return this.logger.log(p.DEBUG,a.sprintf(d.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,je,t,r)),{result:null,reasons:i};var l=K(e,c);if(l){var h=a.sprintf(d.USER_HAS_FORCED_VARIATION,je,l,t,r);this.logger.log(p.DEBUG,h),i.push(h)}else this.logger.log(p.DEBUG,a.sprintf(d.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,je,t,r));return{result:l,reasons:i}},e.prototype.setForcedVariation=function(e,t,r,n){if(null!=n&&!De(n))return this.logger.log(p.ERROR,a.sprintf(f.INVALID_VARIATION_KEY,je)),!1;var i;try{var o=q(e,t);if(!o.hasOwnProperty("id"))return this.logger.log(p.ERROR,a.sprintf(f.IMPROPERLY_FORMATTED_EXPERIMENT,je,t)),!1;i=o.id}catch(e){return this.logger.log(p.ERROR,e.message),!1}if(null==n)try{return this.removeForcedVariation(r,i,t),!0}catch(e){return this.logger.log(p.ERROR,e.message),!1}var s=H(e,t,n);if(!s)return this.logger.log(p.ERROR,a.sprintf(f.NO_VARIATION_FOR_EXPERIMENT_KEY,je,n,t)),!1;try{return this.setInForcedVariationMap(r,i,s),!0}catch(e){return this.logger.log(p.ERROR,e.message),!1}},e}(),Fe=h.REVENUE,Ve=h.VALUE;function Ge(e,t){if(e.hasOwnProperty(Fe)){var r=e[Fe],n=void 0;return"string"==typeof r?(n=parseInt(r),isNaN(n)?(t.log(p.INFO,a.sprintf(d.FAILED_TO_PARSE_REVENUE,"EVENT_TAG_UTILS",r)),null):(t.log(p.INFO,a.sprintf(d.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",n)),n)):"number"==typeof r?(n=r,t.log(p.INFO,a.sprintf(d.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",n)),n):null}return null}function Be(e,t){if(e.hasOwnProperty(Ve)){var r=e[Ve],n=void 0;return"string"==typeof r?(n=parseFloat(r),isNaN(n)?(t.log(p.INFO,a.sprintf(d.FAILED_TO_PARSE_VALUE,"EVENT_TAG_UTILS",r)),null):(t.log(p.INFO,a.sprintf(d.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",n)),n)):"number"==typeof r?(n=r,t.log(p.INFO,a.sprintf(d.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",n)),n):null}return null}function Ke(e,t){return"string"==typeof e&&("string"==typeof t||"boolean"==typeof t||j.isNumber(t)&&j.isSafeInteger(t))}var He="https://logx.optimizely.com/v1/events";function qe(e){var t=e.attributes,r=e.configObj,n=r.anonymizeIP,i=r.botFiltering;null==n&&(n=!1);var o={snapshots:[],visitor_id:e.userId,attributes:[]},a={account_id:r.accountId,project_id:r.projectId,visitors:[o],revision:r.revision,client_name:e.clientEngine,client_version:e.clientVersion,anonymize_ip:n,enrich_decisions:!0};return Object.keys(t||{}).forEach((function(r){if(Ke(r,t[r])){var n=re(e.configObj,r,e.logger);n&&a.visitors[0].attributes.push({entity_id:n,key:r,type:"custom",value:t[r]})}})),"boolean"==typeof i&&a.visitors[0].attributes.push({entity_id:g.BOT_FILTERING,key:g.BOT_FILTERING,type:"custom",value:i}),a}function ze(e){var t,r;return null!==(r=null===(t=e.experiment)||void 0===t?void 0:t.key)&&void 0!==r?r:""}function Ye(e){var t,r;return null!==(r=null===(t=e.variation)||void 0===t?void 0:t.key)&&void 0!==r?r:""}function Xe(e){var t,r;return null!==(r=null===(t=e.variation)||void 0===t?void 0:t.featureEnabled)&&void 0!==r&&r}var We=i.getLogger("EVENT_BUILDER");function Je(e,t){var r=[];return Object.keys(t||{}).forEach((function(n){if(Ke(n,t[n])){var i=re(e,n,We);i&&r.push({entityId:i,key:n,value:t[n]})}})),r}var Ze=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(o.LogTierV1EventProcessor.bind.apply(o.LogTierV1EventProcessor,l([void 0],e)))},$e=(o.LocalStoragePendingEventsDispatcher,"USER_PROFILE_SERVICE_VALIDATOR"),Qe=function(){function e(e){var r,n=this,i=e.clientEngine;-1===m.indexOf(i)&&(e.logger.log(p.INFO,a.sprintf(d.INVALID_CLIENT_ENGINE,"OPTIMIZELY",i)),i="node-sdk"),this.clientEngine=i,this.clientVersion=e.clientVersion||"4.6.0",this.errorHandler=e.errorHandler,this.eventDispatcher=e.eventDispatcher,this.isOptimizelyConfigValid=e.isValidInstance,this.logger=e.logger;var o=null!==(r=e.defaultDecideOptions)&&void 0!==r?r:[];Array.isArray(o)||(this.logger.log(p.DEBUG,a.sprintf(d.INVALID_DEFAULT_DECIDE_OPTIONS,"OPTIMIZELY")),o=[]);var s={};o.forEach((function(e){t.OptimizelyDecideOption[e]?s[e]=!0:n.logger.log(p.WARNING,a.sprintf(d.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e))})),this.defaultDecideOptions=s,this.projectConfigManager=function(e){return new pe(e)}({datafile:e.datafile,datafileOptions:e.datafileOptions,jsonSchemaValidator:e.jsonSchemaValidator,sdkKey:e.sdkKey}),this.disposeOnUpdate=this.projectConfigManager.onUpdate((function(e){n.logger.log(p.INFO,a.sprintf(d.UPDATED_OPTIMIZELY_CONFIG,"OPTIMIZELY",e.revision,e.projectId)),n.notificationCenter.sendNotifications(v.OPTIMIZELY_CONFIG_UPDATE)}));var u,c=this.projectConfigManager.onReady(),l=null;if(e.userProfileService)try{(function(e){if("object"==typeof e&&null!==e){if("function"!=typeof e.lookup)throw new Error(a.sprintf(f.INVALID_USER_PROFILE_SERVICE,$e,"Missing function 'lookup'"));if("function"!=typeof e.save)throw new Error(a.sprintf(f.INVALID_USER_PROFILE_SERVICE,$e,"Missing function 'save'"));return!0}throw new Error(a.sprintf(f.INVALID_USER_PROFILE_SERVICE,$e))})(e.userProfileService)&&(l=e.userProfileService,this.logger.log(p.INFO,a.sprintf(d.VALID_USER_PROFILE_SERVICE,"OPTIMIZELY")))}catch(e){this.logger.log(p.WARNING,e.message)}this.decisionService=(u={userProfileService:l,logger:this.logger,UNSTABLE_conditionEvaluators:e.UNSTABLE_conditionEvaluators},new Me(u)),this.notificationCenter=function(e){return new fe(e)}({logger:this.logger,errorHandler:this.errorHandler});var h={dispatcher:this.eventDispatcher,flushInterval:e.eventFlushInterval,batchSize:e.eventBatchSize,maxQueueSize:e.eventMaxQueueSize,notificationCenter:this.notificationCenter};this.eventProcessor=Ze(h);var g=this.eventProcessor.start();this.readyPromise=Promise.all([c,g]).then((function(e){return e[0]})),this.readyTimeouts={},this.nextReadyTimeoutId=0}return e.prototype.isValidInstance=function(){return this.isOptimizelyConfigValid&&!!this.projectConfigManager.getConfig()},e.prototype.activate=function(e,t,r){try{if(!this.isValidInstance())return this.logger.log(p.ERROR,a.sprintf(d.INVALID_OBJECT,"OPTIMIZELY","activate")),null;if(!this.validateInputs({experiment_key:e,user_id:t},r))return this.notActivatingExperiment(e,t);var n=this.projectConfigManager.getConfig();if(!n)return null;try{var i=this.getVariation(e,t,r);if(null===i)return this.notActivatingExperiment(e,t);if(!function(e,t){return"Running"===G(e,t)}(n,e)){var o=a.sprintf(d.SHOULD_NOT_DISPATCH_ACTIVATE,"OPTIMIZELY",e);return this.logger.log(p.DEBUG,o),i}var s=q(n,e),u={experiment:s,variation:s.variationKeyMap[i],decisionSource:_.EXPERIMENT};return this.sendImpressionEvent(u,"",t,!0,r),i}catch(r){this.logger.log(p.ERROR,r.message);var c=a.sprintf(d.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e);return this.logger.log(p.INFO,c),this.errorHandler.handleError(r),null}}catch(e){return this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.sendImpressionEvent=function(e,t,r,n,i){var o=this.projectConfigManager.getConfig();if(o){var a=function(e){var t=e.configObj,r=e.decisionObj,n=e.userId,i=e.flagKey,o=e.enabled,a=e.userAttributes,s=e.clientEngine,u=e.clientVersion,c=r.decisionSource,l=ze(r),p=Ye(r),f=null,d=null;""!==l&&""!==p&&(d=oe(t,l,p)),""!==l&&(f=ee(t,l));var h=null;return null!==f&&(h=te(t,f)),{type:"impression",timestamp:j.currentTimestamp(),uuid:j.uuid(),user:{id:n,attributes:Je(t,a)},context:{accountId:t.accountId,projectId:t.projectId,revision:t.revision,clientName:s,clientVersion:u,anonymizeIP:t.anonymizeIP||!1,botFiltering:t.botFiltering},layer:{id:h},experiment:{id:f,key:l},variation:{id:d,key:p},ruleKey:l,flagKey:i,ruleType:c,enabled:o}}({decisionObj:e,flagKey:t,enabled:n,userId:r,userAttributes:i,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o});this.eventProcessor.process(a),this.emitNotificationCenterActivate(e,t,r,n,i)}},e.prototype.emitNotificationCenterActivate=function(e,t,r,n,i){var o=this.projectConfigManager.getConfig();if(o){var a=e.decisionSource,s=ze(e),u=Ye(e),c=null,l=null;""!==s&&""!==u&&(l=H(o,s,u),c=V(o,s));var p,f=function(e){var t={httpVerb:"POST"},r=qe(e);t.url=He;var n=function(e,t,r,n,i,o,a){var s=null;null!==t&&(s=te(e,t));var u=ie(e,r);return null===u&&(u=""),{decisions:[{campaign_id:s,experiment_id:t,variation_id:r,metadata:{flag_key:o,rule_key:n,rule_type:i,variation_key:u,enabled:a}}],events:[{entity_id:s,timestamp:j.currentTimestamp(),key:"campaign_activated",uuid:j.uuid()}]}}(e.configObj,e.experimentId,e.variationId,e.ruleKey,e.ruleType,e.flagKey,e.enabled);return r.visitors[0].snapshots.push(n),t.params=r,t}({attributes:i,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o,experimentId:c,ruleKey:s,flagKey:t,ruleType:a,userId:r,enabled:n,variationId:l,logger:this.logger}),d=o.experimentKeyMap[s];d&&d.variationKeyMap&&""!==u&&(p=d.variationKeyMap[u]),this.notificationCenter.sendNotifications(v.ACTIVATE,{experiment:d,userId:r,attributes:i,variation:p,logEvent:f})}},e.prototype.track=function(e,t,r,n){try{if(!this.isValidInstance())return void this.logger.log(p.ERROR,a.sprintf(d.INVALID_OBJECT,"OPTIMIZELY","track"));if(!this.validateInputs({user_id:t,event_key:e},r,n))return;var i=this.projectConfigManager.getConfig();if(!i)return;if(!function(e,t){return e.eventKeyMap.hasOwnProperty(t)}(i,e))return this.logger.log(p.WARNING,a.sprintf(d.EVENT_KEY_NOT_FOUND,"OPTIMIZELY",e)),void this.logger.log(p.WARNING,a.sprintf(d.NOT_TRACKING_USER,"OPTIMIZELY",t));var o=function(e){var t=e.configObj,r=e.userId,n=e.userAttributes,i=e.clientEngine,o=e.clientVersion,a=e.eventKey,s=e.eventTags,u=ne(t,a),c=null,l=null;return s&&(c=Ge(s,We),l=Be(s,We)),{type:"conversion",timestamp:j.currentTimestamp(),uuid:j.uuid(),user:{id:r,attributes:Je(t,n)},context:{accountId:t.accountId,projectId:t.projectId,revision:t.revision,clientName:i,clientVersion:o,anonymizeIP:t.anonymizeIP||!1,botFiltering:t.botFiltering},event:{id:u,key:a},revenue:c,value:l,tags:s}}({eventKey:e,eventTags:n=this.filterEmptyValues(n),userId:t,userAttributes:r,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:i});this.logger.log(p.INFO,a.sprintf(d.TRACK_EVENT,"OPTIMIZELY",e,t)),this.eventProcessor.process(o),this.emitNotificationCenterTrack(e,t,r,n)}catch(e){this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e);var s=a.sprintf(d.NOT_TRACKING_USER,"OPTIMIZELY",t);this.logger.log(p.ERROR,s)}},e.prototype.emitNotificationCenterTrack=function(e,t,r,n){try{var i=this.projectConfigManager.getConfig();if(!i)return;var o=function(e){var t={httpVerb:"POST"},r=qe(e);t.url=He;var n=function(e,t,r,n){var i={events:[]},o={entity_id:ne(e,t),timestamp:j.currentTimestamp(),uuid:j.uuid(),key:t};if(r){var a=Ge(r,n);null!==a&&(o[h.REVENUE]=a);var s=Be(r,n);null!==s&&(o[h.VALUE]=s),o.tags=r}return i.events.push(o),i}(e.configObj,e.eventKey,e.eventTags,e.logger);return r.visitors[0].snapshots=[n],t.params=r,t}({attributes:r,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:i,eventKey:e,eventTags:n,logger:this.logger,userId:t});this.notificationCenter.sendNotifications(v.TRACK,{eventKey:e,userId:t,attributes:r,eventTags:n,logEvent:o})}catch(e){this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.getVariation=function(e,t,r){try{if(!this.isValidInstance())return this.logger.log(p.ERROR,a.sprintf(d.INVALID_OBJECT,"OPTIMIZELY","getVariation")),null;try{if(!this.validateInputs({experiment_key:e,user_id:t},r))return null;var n=this.projectConfigManager.getConfig();if(!n)return null;var i=n.experimentKeyMap[e];if(!i)return this.logger.log(p.DEBUG,a.sprintf(f.INVALID_EXPERIMENT_KEY,"OPTIMIZELY",e)),null;var o=this.decisionService.getVariation(n,e,t,r).result,s=$(n,i.id)?y.FEATURE_TEST:y.AB_TEST;return this.notificationCenter.sendNotifications(v.DECISION,{type:s,userId:t,attributes:r||{},decisionInfo:{experimentKey:e,variationKey:o}}),o}catch(e){return this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e),null}}catch(e){return this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.setForcedVariation=function(e,t,r){if(!this.validateInputs({experiment_key:e,user_id:t}))return!1;var n=this.projectConfigManager.getConfig();if(!n)return!1;try{return this.decisionService.setForcedVariation(n,e,t,r)}catch(e){return this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getForcedVariation=function(e,t){if(!this.validateInputs({experiment_key:e,user_id:t}))return null;var r=this.projectConfigManager.getConfig();if(!r)return null;try{return this.decisionService.getForcedVariation(r,e,t).result}catch(e){return this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.validateInputs=function(e,t,r){try{if(e.hasOwnProperty("user_id")){var n=e.user_id;if("string"!=typeof n||null===n||"undefined"===n)throw new Error(a.sprintf(f.INVALID_INPUT_FORMAT,"OPTIMIZELY","user_id"));delete e.user_id}return Object.keys(e).forEach((function(t){if(!De(e[t]))throw new Error(a.sprintf(f.INVALID_INPUT_FORMAT,"OPTIMIZELY",t))})),t&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw new Error(a.sprintf(f.INVALID_ATTRIBUTES,"ATTRIBUTES_VALIDATOR"));Object.keys(e).forEach((function(t){if(void 0===e[t])throw new Error(a.sprintf(f.UNDEFINED_ATTRIBUTE,"ATTRIBUTES_VALIDATOR",t))}))}(t),r&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw new Error(a.sprintf(f.INVALID_EVENT_TAGS,"EVENT_TAGS_VALIDATOR"))}(r),!0}catch(e){return this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.notActivatingExperiment=function(e,t){var r=a.sprintf(d.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e);return this.logger.log(p.INFO,r),null},e.prototype.filterEmptyValues=function(e){for(var t in e)!e.hasOwnProperty(t)||null!==e[t]&&void 0!==e[t]||delete e[t];return e},e.prototype.isFeatureEnabled=function(e,t,r){try{if(!this.isValidInstance())return this.logger.log(p.ERROR,a.sprintf(d.INVALID_OBJECT,"OPTIMIZELY","isFeatureEnabled")),!1;if(!this.validateInputs({feature_key:e,user_id:t},r))return!1;var n=this.projectConfigManager.getConfig();if(!n)return!1;var i=X(n,e,this.logger);if(!i)return!1;var o={},s=this.decisionService.getVariationForFeature(n,i,t,r).result,u=s.decisionSource,c=ze(s),l=Ye(s),f=Xe(s);u===_.FEATURE_TEST&&(o={experimentKey:c,variationKey:l}),(u===_.FEATURE_TEST||u===_.ROLLOUT&&Q(n))&&this.sendImpressionEvent(s,i.key,t,f,r),!0===f?this.logger.log(p.INFO,a.sprintf(d.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",e,t)):(this.logger.log(p.INFO,a.sprintf(d.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",e,t)),f=!1);var h={featureKey:e,featureEnabled:f,source:s.decisionSource,sourceInfo:o};return this.notificationCenter.sendNotifications(v.DECISION,{type:y.FEATURE,userId:t,attributes:r||{},decisionInfo:h}),f}catch(e){return this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getEnabledFeatures=function(e,t){var r=this;try{var n=[];if(!this.isValidInstance())return this.logger.log(p.ERROR,a.sprintf(d.INVALID_OBJECT,"OPTIMIZELY","getEnabledFeatures")),n;if(!this.validateInputs({user_id:e}))return n;var i=this.projectConfigManager.getConfig();return i?(a.objectValues(i.featureKeyMap).forEach((function(i){r.isFeatureEnabled(i.key,e,t)&&n.push(i.key)})),n):n}catch(e){return this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e),[]}},e.prototype.getFeatureVariable=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,null,r,n):(this.logger.log(p.ERROR,a.sprintf(d.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariable")),null)}catch(e){return this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableForType=function(e,t,r,n,i){if(!this.validateInputs({feature_key:e,variable_key:t,user_id:n},i))return null;var o=this.projectConfigManager.getConfig();if(!o)return null;var s=X(o,e,this.logger);if(!s)return null;var u=W(o,e,t,this.logger);if(!u)return null;if(r&&u.type!==r)return this.logger.log(p.WARNING,a.sprintf(d.VARIABLE_REQUESTED_WITH_WRONG_TYPE,"OPTIMIZELY",r,u.type)),null;var c=this.decisionService.getVariationForFeature(o,s,n,i).result,l=Xe(c),f=this.getFeatureVariableValueFromVariation(e,l,c.variation,u,n),h={};return c.decisionSource===_.FEATURE_TEST&&null!==c.experiment&&null!==c.variation&&(h={experimentKey:c.experiment.key,variationKey:c.variation.key}),this.notificationCenter.sendNotifications(v.DECISION,{type:y.FEATURE_VARIABLE,userId:n,attributes:i||{},decisionInfo:{featureKey:e,featureEnabled:l,source:c.decisionSource,variableKey:t,variableValue:f,variableType:u.type,sourceInfo:h}}),f},e.prototype.getFeatureVariableValueFromVariation=function(e,t,r,n,i){var o=this.projectConfigManager.getConfig();if(!o)return null;var s=n.defaultValue;if(null!==r){var u=J(o,n,r,this.logger);null!==u?t?(s=u,this.logger.log(p.INFO,a.sprintf(d.USER_RECEIVED_VARIABLE_VALUE,"OPTIMIZELY",s,n.key,e))):this.logger.log(p.INFO,a.sprintf(d.FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",e,i,s)):this.logger.log(p.INFO,a.sprintf(d.VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",n.key,r.key))}else this.logger.log(p.INFO,a.sprintf(d.USER_RECEIVED_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",i,n.key,e));return Z(s,n.type,this.logger)},e.prototype.getFeatureVariableBoolean=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,b.BOOLEAN,r,n):(this.logger.log(p.ERROR,a.sprintf(d.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableBoolean")),null)}catch(e){return this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableDouble=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,b.DOUBLE,r,n):(this.logger.log(p.ERROR,a.sprintf(d.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableDouble")),null)}catch(e){return this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableInteger=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,b.INTEGER,r,n):(this.logger.log(p.ERROR,a.sprintf(d.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableInteger")),null)}catch(e){return this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableString=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,b.STRING,r,n):(this.logger.log(p.ERROR,a.sprintf(d.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableString")),null)}catch(e){return this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableJSON=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,b.JSON,r,n):(this.logger.log(p.ERROR,a.sprintf(d.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableJSON")),null)}catch(e){return this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getAllFeatureVariables=function(e,t,r){var n=this;try{if(!this.isValidInstance())return this.logger.log(p.ERROR,a.sprintf(d.INVALID_OBJECT,"OPTIMIZELY","getAllFeatureVariables")),null;if(!this.validateInputs({feature_key:e,user_id:t},r))return null;var i=this.projectConfigManager.getConfig();if(!i)return null;var o=X(i,e,this.logger);if(!o)return null;var s=this.decisionService.getVariationForFeature(i,o,t,r).result,u=Xe(s),c={};o.variables.forEach((function(r){c[r.key]=n.getFeatureVariableValueFromVariation(e,u,s.variation,r,t)}));var l={};return s.decisionSource===_.FEATURE_TEST&&null!==s.experiment&&null!==s.variation&&(l={experimentKey:s.experiment.key,variationKey:s.variation.key}),this.notificationCenter.sendNotifications(v.DECISION,{type:y.ALL_FEATURE_VARIABLES,userId:t,attributes:r||{},decisionInfo:{featureKey:e,featureEnabled:u,source:s.decisionSource,variableValues:c,sourceInfo:l}}),c}catch(e){return this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getOptimizelyConfig=function(){try{return this.projectConfigManager.getConfig()?this.projectConfigManager.getOptimizelyConfig():null}catch(e){return this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.close=function(){var e=this;try{var t=this.eventProcessor.stop();return this.disposeOnUpdate&&(this.disposeOnUpdate(),this.disposeOnUpdate=null),this.projectConfigManager&&this.projectConfigManager.stop(),Object.keys(this.readyTimeouts).forEach((function(t){var r=e.readyTimeouts[t];clearTimeout(r.readyTimeout),r.onClose()})),this.readyTimeouts={},t.then((function(){return{success:!0}}),(function(e){return{success:!1,reason:String(e)}}))}catch(e){return this.logger.log(p.ERROR,e.message),this.errorHandler.handleError(e),Promise.resolve({success:!1,reason:String(e)})}},e.prototype.onReady=function(e){var t,r,n=this;"object"==typeof e&&null!==e&&void 0!==e.timeout&&(t=e.timeout),j.isSafeInteger(t)||(t=3e4);var i=new Promise((function(e){r=e})),o=this.nextReadyTimeoutId;this.nextReadyTimeoutId++;var s=setTimeout((function(){delete n.readyTimeouts[o],r({success:!1,reason:a.sprintf("onReady timeout expired after %s ms",t)})}),t);return this.readyTimeouts[o]={readyTimeout:s,onClose:function(){r({success:!1,reason:"Instance closed"})}},this.readyPromise.then((function(){clearTimeout(s),delete n.readyTimeouts[o],r({success:!0})})),Promise.race([this.readyPromise,i])},e.prototype.createUserContext=function(e,t){return this.validateInputs({user_id:e},t)?new k({optimizely:this,userId:e,attributes:t}):null},e.prototype.decide=function(e,r,n){var i,o,s,u,c=this;void 0===n&&(n=[]);var l=this.projectConfigManager.getConfig(),h=[];if(!this.isValidInstance()||!l)return h.push(w.SDK_NOT_READY),this.logger.log(p.INFO,a.sprintf(d.INVALID_OBJECT,"OPTIMIZELY","decide")),U(r,e,h);var g=l.featureKeyMap[r];if(!g)return h.push(a.sprintf(w.FLAG_KEY_INVALID,r)),this.logger.log(p.ERROR,a.sprintf(f.FEATURE_NOT_IN_DATAFILE,"OPTIMIZELY",r)),U(r,e,h);var m=e.getUserId(),E=e.getAttributes(),b=this.getAllDecideOptions(n),I=this.decisionService.getVariationForFeature(l,g,m,E,b);h.push.apply(h,I.reasons);var T=I.result,O=T.decisionSource,N=null!==(o=null===(i=T.experiment)||void 0===i?void 0:i.key)&&void 0!==o?o:null,R=null!==(u=null===(s=T.variation)||void 0===s?void 0:s.key)&&void 0!==u?u:null,A=Xe(T);!0===A?this.logger.log(p.INFO,a.sprintf(d.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",r,m)):this.logger.log(p.INFO,a.sprintf(d.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",r,m));var C={},x=!1;b[t.OptimizelyDecideOption.EXCLUDE_VARIABLES]||g.variables.forEach((function(e){C[e.key]=c.getFeatureVariableValueFromVariation(r,A,T.variation,e,m)})),!b[t.OptimizelyDecideOption.DISABLE_DECISION_EVENT]&&(O===_.FEATURE_TEST||O===_.ROLLOUT&&Q(l))&&(this.sendImpressionEvent(T,r,m,A,E),x=!0);var S=b[t.OptimizelyDecideOption.INCLUDE_REASONS]?h:[],L={flagKey:r,enabled:A,variationKey:R,ruleKey:N,variables:C,reasons:S,decisionEventDispatched:x};return this.notificationCenter.sendNotifications(v.DECISION,{type:y.FLAG,userId:m,attributes:E,decisionInfo:L}),{variationKey:R,enabled:A,variables:C,ruleKey:N,flagKey:r,userContext:e,reasons:S}},e.prototype.getAllDecideOptions=function(e){var r=this,n=c({},this.defaultDecideOptions);return Array.isArray(e)?e.forEach((function(e){t.OptimizelyDecideOption[e]?n[e]=!0:r.logger.log(p.WARNING,a.sprintf(d.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e))})):this.logger.log(p.DEBUG,a.sprintf(d.INVALID_DECIDE_OPTIONS,"OPTIMIZELY")),n},e.prototype.decideForKeys=function(e,r,n){var i=this;void 0===n&&(n=[]);var o={};if(!this.isValidInstance())return this.logger.log(p.ERROR,a.sprintf(d.INVALID_OBJECT,"OPTIMIZELY","decideForKeys")),o;if(0===r.length)return o;var s=this.getAllDecideOptions(n);return r.forEach((function(r){var a=i.decide(e,r,n);s[t.OptimizelyDecideOption.ENABLED_FLAGS_ONLY]&&!a.enabled||(o[r]=a)})),o},e.prototype.decideAll=function(e,t){void 0===t&&(t=[]);var r=this.projectConfigManager.getConfig();if(!this.isValidInstance()||!r)return this.logger.log(p.ERROR,a.sprintf(d.INVALID_OBJECT,"OPTIMIZELY","decideAll")),{};var n=Object.keys(r.featureKeyMap);return this.decideForKeys(e,n,t)},e}(),et=i.getLogger();i.setLogHandler(S()),i.setLogLevel(i.LogLevel.INFO);var tt=!1,rt=function(e){try{e.errorHandler&&i.setErrorHandler(e.errorHandler),e.logger&&(i.setLogHandler(e.logger),i.setLogLevel(i.LogLevel.NOTSET)),void 0!==e.logLevel&&i.setLogLevel(e.logLevel);try{R(e),e.isValidInstance=!0}catch(i){et.error(i),e.isValidInstance=!1}var t=void 0;null==e.eventDispatcher?(t=new o.LocalStoragePendingEventsDispatcher({eventDispatcher:C}),tt||(t.sendPendingEvents(),tt=!0)):t=e.eventDispatcher;var r=e.eventBatchSize,n=e.eventFlushInterval;(function(e){return!("number"!=typeof e||!j.isSafeInteger(e))&&e>=1})(e.eventBatchSize)||(et.warn("Invalid eventBatchSize %s, defaulting to %s",e.eventBatchSize,10),r=10),function(e){return!("number"!=typeof e||!j.isSafeInteger(e))&&e>0}(e.eventFlushInterval)||(et.warn("Invalid eventFlushInterval %s, defaulting to %s",e.eventFlushInterval,1e3),n=1e3);var a=c(c({clientEngine:"javascript-sdk",eventDispatcher:t},e),{eventBatchSize:r,eventFlushInterval:n,logger:et,errorHandler:i.getErrorHandler()}),s=new Qe(a);try{if("function"==typeof window.addEventListener){var u="onpagehide"in window?"pagehide":"unload";window.addEventListener(u,(function(){s.close()}),!1)}}catch(e){et.error(d.UNABLE_TO_ATTACH_UNLOAD,"INDEX_BROWSER",e.message)}return s}catch(e){return et.error(e),null}},nt=function(){tt=!1},it={logging:P,errorHandler:A,eventDispatcher:C,enums:T,setLogger:i.setLogHandler,setLogLevel:i.setLogLevel,createInstance:rt,__internalResetRetryState:nt,OptimizelyDecideOption:t.OptimizelyDecideOption};Object.defineProperty(t,"setLogLevel",{enumerable:!0,get:function(){return i.setLogLevel}}),Object.defineProperty(t,"setLogger",{enumerable:!0,get:function(){return i.setLogHandler}}),t.__internalResetRetryState=nt,t.createInstance=rt,t.default=it,t.enums=T,t.errorHandler=A,t.eventDispatcher=C,t.logging=P},2150:function(e,t,r){"use strict";var n=r(7294),i=r(8125),o=r(8679),a=r(9889);function s(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var u=s(o),c=n.createContext({optimizely:null,isServerSide:!1,timeout:0}),l=c.Consumer,p=c.Provider,f=function(e,t){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function d(e,t){function r(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var h=function(){return(h=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function g(e){return"object"===typeof e&&null!==e?e:{}}function m(e,t){var r=g(e),n=g(t),i=Object.keys(r),o=Object.keys(n);return i.length===o.length&&i.every((function(e){return e in n&&r[e]===n[e]}))}function v(e,t,r){return{enabled:!1,flagKey:e,ruleKey:null,variationKey:null,variables:{},reasons:[t],userContext:{id:r.id,attributes:r.attributes}}}var y,_=i.getLogger("<OptimizelyProvider>"),E=function(e){function t(t){var r=e.call(this,t)||this,n=t.optimizely,i=t.userId,o=t.userAttributes,a=t.user,s=null;return a?"then"in a?a.then((function(e){n.setUser(e)})):s={id:a.id,attributes:a.attributes||{}}:i&&(s={id:i,attributes:o||{}},_.warn("Passing userId and userAttributes as props is deprecated, please switch to using `user` prop")),s&&n.setUser(s),r}return d(t,e),t.prototype.componentDidUpdate=function(e){if(!e.isServerSide){var t=this.props.optimizely;this.props.user&&"id"in this.props.user&&(t.user.id&&function(e,t){if(e.id!==t.id)return!1;var r=Object.keys(e.attributes||{}),n=Object.keys(t.attributes||{});r.sort(),n.sort();var i=e.attributes||{},o=t.attributes||{};if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++){var s=r[a],u=n[a];if(s!==u)return!1;if(i[s]!==o[u])return!1}return!0}({id:t.user.id,attributes:t.user.attributes||{}},{id:this.props.user.id,attributes:this.props.user.attributes||{}})||t.setUser(this.props.user))}},t.prototype.render=function(){var e=this.props,t=e.optimizely,r=e.children,i=e.timeout,o={optimizely:t,isServerSide:!!this.props.isServerSide,timeout:i};return n.createElement(p,{value:o},r)},t}(n.Component),b=function(e,t,r,n,i){var o="re-evaluating "+t+'="'+r+'" for user="'+e.user.id+'"',s=e.notificationCenter.addNotificationListener(a.enums.NOTIFICATION_TYPES.OPTIMIZELY_CONFIG_UPDATE,(function(){n.info(a.enums.NOTIFICATION_TYPES.OPTIMIZELY_CONFIG_UPDATE+", "+o),i()})),u=e.onUserUpdate((function(){n.info("User update, "+o),i()}));return function(){e.notificationCenter.removeNotificationListener(s),u()}},I=i.getLogger("ReactSDK");function w(e,t){return e.entityKey===t.entityKey&&e.overrideUserId===t.overrideUserId&&m(e.overrideAttributes,t.overrideAttributes)}function T(e,t,r){e.onReady({timeout:t}).then((function(e){if(e.success)return I.info("Client became ready"),void r({clientReady:!0,didTimeout:!1});I.info("Client did not become ready before timeout of "+t+'ms, reason="'+(e.reason||"")+'"'),r({clientReady:!1,didTimeout:!0}),e.dataReadyPromise.then((function(){I.info("Client became ready after timeout already elapsed"),r({clientReady:!0,didTimeout:!0})}))})).catch((function(){I.error("Error initializing client. The core client or user promise(s) rejected.")}))}function O(e){var t=n.useRef();return m(e,t.current)||(t.current=e),t.current}!function(e){e.EXPERIMENT="Experiment",e.FEATURE="Feature"}(y||(y={}));var N=function(e,t,r){void 0===t&&(t={}),void 0===r&&(r={});var i=n.useContext(c),o=i.optimizely,a=i.isServerSide,s=i.timeout;if(!o)throw new Error("optimizely prop must be supplied via a parent <OptimizelyProvider>");var u=O(r.overrideAttributes),l=n.useCallback((function(){return{variation:o.activate(e,r.overrideUserId,u)}}),[o,e,r.overrideUserId,u]),p=a||o.isReady(),f=n.useState((function(){var e=p?l():{variation:null};return h({},e,{clientReady:p,didTimeout:!1})})),d=f[0],g=f[1],m={entityKey:e,overrideUserId:r.overrideUserId,overrideAttributes:u},v=n.useState(m),_=v[0],E=v[1];w(_,m)||(E(m),g((function(e){return h({},e,l())})));var N=void 0!==t.timeout?t.timeout:s;return n.useEffect((function(){p||T(o,N,(function(e){g(h({},l(),e))}))}),[p,N,l,o]),n.useEffect((function(){return t.autoUpdate?b(o,y.EXPERIMENT,e,I,(function(){g((function(e){return h({},e,l())}))})):function(){}}),[p,t.autoUpdate,o,e,l]),n.useEffect((function(){return o.onForcedVariationsUpdate((function(){g((function(e){return h({},e,l())}))}))}),[l,o]),[d.variation,d.clientReady,d.didTimeout]},R=function(e,t,r){void 0===t&&(t={}),void 0===r&&(r={});var i=n.useContext(c),o=i.optimizely,a=i.isServerSide,s=i.timeout;if(!o)throw new Error("optimizely prop must be supplied via a parent <OptimizelyProvider>");var u=O(r.overrideAttributes),l=n.useCallback((function(){return{isEnabled:o.isFeatureEnabled(e,r.overrideUserId,u),variables:o.getFeatureVariables(e,r.overrideUserId,u)}}),[o,e,r.overrideUserId,u]),p=a||o.isReady(),f=n.useState((function(){var e=p?l():{isEnabled:!1,variables:{}};return h({},e,{clientReady:p,didTimeout:!1})})),d=f[0],g=f[1],m={entityKey:e,overrideUserId:r.overrideUserId,overrideAttributes:r.overrideAttributes},v=n.useState(m),_=v[0],E=v[1];w(_,m)||(E(m),g((function(e){return h({},e,l())})));var N=void 0!==t.timeout?t.timeout:s;return n.useEffect((function(){p||T(o,N,(function(e){g(h({},l(),e))}))}),[p,N,l,o]),n.useEffect((function(){return t.autoUpdate?b(o,y.FEATURE,e,I,(function(){g((function(e){return h({},e,l())}))})):function(){}}),[p,t.autoUpdate,o,e,l]),[d.isEnabled,d.variables,d.clientReady,d.didTimeout]},A=function(e){var t=e.feature,r=e.timeout,i=e.autoUpdate,o=e.children,a=e.overrideUserId,s=e.overrideAttributes,u=R(t,{timeout:r,autoUpdate:i},{overrideUserId:a,overrideAttributes:s}),c=u[0],l=u[1],p=u[2],f=u[3];return p||f?n.createElement(n.Fragment,null,o(c,l,p,f)):null};var C=function(e){var t=e.experiment,r=e.autoUpdate,i=e.timeout,o=e.overrideUserId,a=e.overrideAttributes,s=e.children,u=N(t,{timeout:i,autoUpdate:r},{overrideUserId:o,overrideAttributes:a}),c=u[0],l=u[1],p=u[2];if(!l&&!p)return null;if(null!=s&&"function"===typeof s)return n.createElement(n.Fragment,null,s(c,l,p));var f=null;return n.Children.forEach(s,(function(e){!f&&n.isValidElement(e)&&(e.props.variation?c===e.props.variation&&(f=e):e.props.default&&(f=e))})),f?n.cloneElement(f,{variation:c}):null},x=function(e){var t=e.children;return n.createElement(n.Fragment,null,t)},S=i.getLogger("ReactSDK"),L=function(){function e(e){var t=this;this.user={id:null,attributes:{}},this.isUserPromiseResolved=!1,this.onUserUpdateHandlers=[],this.onForcedVariationsUpdateHandlers=[],this.dataReadyPromiseFulfilled=!1,this.initialConfig=e,this.userPromiseResovler=function(){};var r=h({},e,{clientEngine:"react-sdk",clientVersion:"2.6.0"});this._client=a.createInstance(r),this.userPromise=new Promise((function(e){t.userPromiseResovler=e})).then((function(){return{success:!0}})),this.dataReadyPromise=Promise.all([this.userPromise,this._client.onReady()]).then((function(){return t.dataReadyPromiseFulfilled=!0,{success:!0,reason:"datafile and user resolved"}}))}return e.prototype.onReady=function(e){var t,r=this;void 0===e&&(e={});var n=5e3;e&&void 0!==e.timeout&&(n=e.timeout);var i=new Promise((function(e){t=setTimeout((function(){e({success:!1,reason:"failed to initialize onReady before timeout, either the datafile or user info was not set before the timeout",dataReadyPromise:r.dataReadyPromise})}),n)}));return Promise.race([this.dataReadyPromise,i]).then((function(e){return clearTimeout(t),e}))},e.prototype.setUser=function(e){var t=this;e.id&&(this.user.id=e.id),e.attributes&&(this.user.attributes=e.attributes),this.isUserPromiseResolved||(this.userPromiseResovler(this.user),this.isUserPromiseResolved=!0),this.onUserUpdateHandlers.forEach((function(e){return e(t.user)}))},e.prototype.onUserUpdate=function(e){var t=this;return this.onUserUpdateHandlers.push(e),function(){var r=t.onUserUpdateHandlers.indexOf(e);r>-1&&t.onUserUpdateHandlers.splice(r,1)}},e.prototype.onForcedVariationsUpdate=function(e){var t=this;return this.onForcedVariationsUpdateHandlers.push(e),function(){var r=t.onForcedVariationsUpdateHandlers.indexOf(e);r>-1&&t.onForcedVariationsUpdateHandlers.splice(r,1)}},e.prototype.isReady=function(){return this.dataReadyPromiseFulfilled},e.prototype.activate=function(e,t,r){var n=this.getUserContextWithOverrides(t,r);return null===n.id?(S.info('Not activating experiment "%s" because userId is not set',e),null):this._client.activate(e,n.id,n.attributes)},e.prototype.decide=function(e,t,r,n){void 0===t&&(t=[]);var i=this.getUserContextWithOverrides(r,n);if(null===i.id)return S.info('Not Evaluating feature "%s" because userId is not set',e),v(e,"Not Evaluating flag "+e+" because userId is not set",i);var o=this._client.createUserContext(i.id,i.attributes);return o?h({},o.decide(e,t),{userContext:{id:i.id,attributes:i.attributes}}):v(e,"Not Evaluating flag "+e+" because user id or attributes are not valid",i)},e.prototype.decideForKeys=function(e,t,r,n){void 0===t&&(t=[]);var i=this.getUserContextWithOverrides(r,n);if(null===i.id)return S.info("Not Evaluating features because userId is not set"),{};var o=this._client.createUserContext(i.id,i.attributes);return o?Object.entries(o.decideForKeys(e,t)).reduce((function(e,t){var r=t[0],n=t[1];return e[r]=h({},n,{userContext:{id:i.id||"",attributes:i.attributes}}),e}),{}):{}},e.prototype.decideAll=function(e,t,r){void 0===e&&(e=[]);var n=this.getUserContextWithOverrides(t,r);if(null===n.id)return S.info("Not Evaluating features because userId is not set"),{};var i=this._client.createUserContext(n.id,n.attributes);return i?Object.entries(i.decideAll(e)).reduce((function(e,t){var r=t[0],i=t[1];return e[r]=h({},i,{userContext:{id:n.id||"",attributes:n.attributes}}),e}),{}):{}},e.prototype.getVariation=function(e,t,r){var n=this.getUserContextWithOverrides(t,r);return null===n.id?(S.info('getVariation returned null for experiment "%s" because userId is not set',e),null):this._client.getVariation(e,n.id,n.attributes)},e.prototype.track=function(e,t,r,n){"undefined"!==typeof t&&"string"!==typeof t&&(n=t,t=void 0,r=void 0);var i=this.getUserContextWithOverrides(t,r);if(null!==i.id)return this._client.track(e,i.id,i.attributes,n);S.info('track for event "%s" not being sent because userId is not set',e)},e.prototype.isFeatureEnabled=function(e,t,r){var n=this.getUserContextWithOverrides(t,r);return null===n.id?(S.info('isFeatureEnabled returning false for feature "%s" because userId is not set',e),!1):this._client.isFeatureEnabled(e,n.id,n.attributes)},e.prototype.getFeatureVariables=function(e,t,r){var n=this,i=this.getUserContextWithOverrides(t,r),o=i.id;if(null===o)return S.info('getFeatureVariables returning `{}` for feature "%s" because userId is not set',e),{};var a=i.attributes,s={},u=this._client.getOptimizelyConfig();if(!u)return{};var c=u.featuresMap[e];return c?(Object.keys(c.variablesMap).forEach((function(t){var r=c.variablesMap[t];s[r.key]=n._client.getFeatureVariable(e,r.key,o,a)})),s):{}},e.prototype.getFeatureVariableString=function(e,t,r,n){var i=this.getUserContextWithOverrides(r,n);return null===i.id?null:this._client.getFeatureVariableString(e,t,i.id,i.attributes)},e.prototype.getFeatureVariableBoolean=function(e,t,r,n){var i=this.getUserContextWithOverrides(r,n);return null===i.id?null:this._client.getFeatureVariableBoolean(e,t,i.id,i.attributes)},e.prototype.getFeatureVariableInteger=function(e,t,r,n){var i=this.getUserContextWithOverrides(r,n);return null===i.id?null:this._client.getFeatureVariableInteger(e,t,i.id,i.attributes)},e.prototype.getFeatureVariableDouble=function(e,t,r,n){var i=this.getUserContextWithOverrides(r,n);return null===i.id?null:this._client.getFeatureVariableDouble(e,t,i.id,i.attributes)},e.prototype.getFeatureVariableJSON=function(e,t,r,n){var i=this.getUserContextWithOverrides(r,n);return null===i.id?null:this._client.getFeatureVariableJSON(e,t,i.id,i.attributes)},e.prototype.getFeatureVariable=function(e,t,r,n){var i=this.getUserContextWithOverrides(r,n);return null===i.id?null:this._client.getFeatureVariable(e,t,i.id,i.attributes)},e.prototype.getAllFeatureVariables=function(e,t,r){var n=this.getUserContextWithOverrides(t,r);return null===n.id?{}:this._client.getAllFeatureVariables(e,n.id,n.attributes)},e.prototype.getEnabledFeatures=function(e,t){var r=this.getUserContextWithOverrides(e,t);return null===r.id?[]:this._client.getEnabledFeatures(r.id,r.attributes)},e.prototype.getForcedVariation=function(e,t){var r=this.getUserContextWithOverrides(t);return null===r.id?null:this._client.getForcedVariation(e,r.id)},e.prototype.setForcedVariation=function(e,t,r){var n=null,i=null;if(2===arguments.length)i=t,n=this.getUserContextWithOverrides().id;else if(3===arguments.length){if(n=this.getUserContextWithOverrides(t).id,void 0===r)return!1;i=r}if(null===n)return!1;var o=this._client.setForcedVariation(e,n,i);return this.onForcedVariationsUpdateHandlers.forEach((function(e){return e()})),o},e.prototype.getOptimizelyConfig=function(){return this._client.getOptimizelyConfig()},e.prototype.close=function(){return this._client.close()},Object.defineProperty(e.prototype,"client",{get:function(){return this._client},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"notificationCenter",{get:function(){return this._client.notificationCenter},enumerable:!0,configurable:!0}),e.prototype.getUserContextWithOverrides=function(e,t){return{id:void 0===e?this.user.id:e,attributes:void 0===t?this.user.attributes:t}},e}();var P=i.getLogger("ReactSDK"),U={dispatchEvent:function(e,t){P.debug("Event not dispatched by disabled event dispatcher: %s",(function(){var t;try{t=JSON.stringify(e)}catch(r){t="error stringifying event"}return t})),t({statusCode:204})}};Object.defineProperty(t,"Ub",{enumerable:!0,get:function(){return a.setLogLevel}}),t.dH=E,t.Fs=function(e){return new L(e)}},8679:function(e,t,r){"use strict";var n=r(9864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return n.isMemo(e)?a:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!==typeof r){if(h){var i=d(r);i&&i!==h&&e(t,i,n)}var a=l(r);p&&(a=a.concat(p(r)));for(var s=u(t),g=u(r),m=0;m<a.length;++m){var v=a[m];if(!o[v]&&(!n||!n[v])&&(!g||!g[v])&&(!s||!s[v])){var y=f(r,v);try{c(t,v,y)}catch(_){}}}}return t}},6808:function(e,t,r){var n,i;!function(o){if(void 0===(i="function"===typeof(n=o)?n.call(t,r,t,e):n)||(e.exports=i),!0,e.exports=o(),!!0){var a=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function i(){}function o(t,r,o){if("undefined"!==typeof document){"number"===typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(r);/^[\{\[]/.test(a)&&(r=a)}catch(c){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in o)o[u]&&(s+="; "+u,!0!==o[u]&&(s+="="+o[u].split(";")[0]));return document.cookie=t+"="+r+s}}function a(e,r){if("undefined"!==typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),u=s.slice(1).join("=");r||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(s[0]);if(u=(n.read||n)(u,c)||t(u),r)try{u=JSON.parse(u)}catch(l){}if(i[c]=u,e===c)break}catch(l){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,r){o(t,"",e(r,{expires:-1}))},i.defaults={},i.withConverter=r,i}((function(){}))}))},8053:function(e){!function(){function t(e,t){var r,n,i,o,a,s,u,c;for(r=3&e.length,n=e.length-r,i=t,a=3432918353,s=461845907,c=0;c<n;)u=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,i=27492+(65535&(o=5*(65535&(i=(i^=u=(65535&(u=(u=(65535&u)*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(u=0,r){case 3:u^=(255&e.charCodeAt(c+2))<<16;case 2:u^=(255&e.charCodeAt(c+1))<<8;case 1:i^=u=(65535&(u=(u=(65535&(u^=255&e.charCodeAt(c)))*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}var r=t;r.v2=function(e,t){for(var r,n=e.length,i=t^n,o=0;n>=4;)r=1540483477*(65535&(r=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(r>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++o;switch(n){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0},r.v3=t,e.exports=r}()},6812:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(t),r.d(t,{default:function(){return kr}});var i=r(5893),o=(r(6641),r(162),r(7294)),a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var u=function(){return(u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function c(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}Object.create;function l(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e}Object.create;r(8679);var p=o.createContext(null),f=(p.Consumer,p.Provider),d=p;var h,g,m;function v(e,t,r){if(void 0===r&&(r=Error),!e)throw new r(t)}function y(e){return e.type===g.literal}function _(e){return e.type===g.argument}function E(e){return e.type===g.number}function b(e){return e.type===g.date}function I(e){return e.type===g.time}function w(e){return e.type===g.select}function T(e){return e.type===g.plural}function O(e){return e.type===g.pound}function N(e){return e.type===g.tag}function R(e){return!(!e||"object"!==typeof e||e.type!==m.number)}function A(e){return!(!e||"object"!==typeof e||e.type!==m.dateTime)}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(h||(h={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(g||(g={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(m||(m={}));var C=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,x=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function S(e){var t={};return e.replace(x,(function(e){var r=e.length;switch(e[0]){case"G":t.era=4===r?"long":5===r?"narrow":"short";break;case"y":t.year=2===r?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][r-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][r-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===r?"short":5===r?"narrow":"short";break;case"e":if(r<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"c":if(r<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][r-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][r-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][r-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][r-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][r-1];break;case"s":t.second=["numeric","2-digit"][r-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=r<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var L=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;var P,U=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,k=/^(@+)?(\+|#+)?$/g,D=/(\*)(0+)|(#+)(0+)|(0+)/g,j=/^(0+)$/;function M(e){var t={};return e.replace(k,(function(e,r,n){return"string"!==typeof n?(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length):"+"===n?t.minimumSignificantDigits=r.length:"#"===r[0]?t.maximumSignificantDigits=r.length:(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length+("string"===typeof n?n.length:0)),""})),t}function F(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function V(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var r=e.slice(0,2);if("+!"===r?(t.signDisplay="always",e=e.slice(2)):"+?"===r&&(t.signDisplay="exceptZero",e=e.slice(2)),!j.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function G(e){var t=F(e);return t||{}}function B(e){for(var t={},r=0,n=e;r<n.length;r++){var i=n[r];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=i.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=u(u(u({},t),{notation:"scientific"}),i.options.reduce((function(e,t){return u(u({},e),G(t))}),{}));continue;case"engineering":t=u(u(u({},t),{notation:"engineering"}),i.options.reduce((function(e,t){return u(u({},e),G(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(D,(function(e,r,n,i,o,a){if(r)t.minimumIntegerDigits=n.length;else{if(i&&o)throw new Error("We currently do not support maximum integer digits");if(a)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(j.test(i.stem))t.minimumIntegerDigits=i.stem.length;else if(U.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(U,(function(e,r,n,i,o,a){return"*"===n?t.minimumFractionDigits=r.length:i&&"#"===i[0]?t.maximumFractionDigits=i.length:o&&a?(t.minimumFractionDigits=o.length,t.maximumFractionDigits=o.length+a.length):(t.minimumFractionDigits=r.length,t.maximumFractionDigits=r.length),""})),i.options.length&&(t=u(u({},t),M(i.options[0])))}else if(k.test(i.stem))t=u(u({},t),M(i.stem));else{var o=F(i.stem);o&&(t=u(u({},t),o));var a=V(i.stem);a&&(t=u(u({},t),a))}}return t}var K=new RegExp("^"+C.source+"*"),H=new RegExp(C.source+"*$");function q(e,t){return{start:e,end:t}}var z=!!String.prototype.startsWith,Y=!!String.fromCodePoint,X=!!Object.fromEntries,W=!!String.prototype.codePointAt,J=!!String.prototype.trimStart,Z=!!String.prototype.trimEnd,$=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},Q=!0;try{Q="a"===(null===(P=se("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===P?void 0:P[0])}catch(Dr){Q=!1}var ee,te=z?function(e,t,r){return e.startsWith(t,r)}:function(e,t,r){return e.slice(r,r+t.length)===t},re=Y?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r,n="",i=e.length,o=0;i>o;){if((r=e[o++])>1114111)throw RangeError(r+" is not a valid code point");n+=r<65536?String.fromCharCode(r):String.fromCharCode(55296+((r-=65536)>>10),r%1024+56320)}return n},ne=X?Object.fromEntries:function(e){for(var t={},r=0,n=e;r<n.length;r++){var i=n[r],o=i[0],a=i[1];t[o]=a}return t},ie=W?function(e,t){return e.codePointAt(t)}:function(e,t){var r=e.length;if(!(t<0||t>=r)){var n,i=e.charCodeAt(t);return i<55296||i>56319||t+1===r||(n=e.charCodeAt(t+1))<56320||n>57343?i:n-56320+(i-55296<<10)+65536}},oe=J?function(e){return e.trimStart()}:function(e){return e.replace(K,"")},ae=Z?function(e){return e.trimEnd()}:function(e){return e.replace(H,"")};function se(e,t){return new RegExp(e,t)}if(Q){var ue=se("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");ee=function(e,t){var r;return ue.lastIndex=t,null!==(r=ue.exec(e)[1])&&void 0!==r?r:""}}else ee=function(e,t){for(var r=[];;){var n=ie(e,t);if(void 0===n||pe(n)||fe(n))break;r.push(n),t+=n>=65536?2:1}return re.apply(void 0,r)};var ce=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,r){for(var n=[];!this.isEOF();){var i=this.char();if(123===i){if((o=this.parseArgument(e,r)).err)return o;n.push(o.val)}else{if(125===i&&e>0)break;if(35!==i||"plural"!==t&&"selectordinal"!==t){if(60===i&&!this.ignoreTag&&47===this.peek()){if(r)break;return this.error(h.UNMATCHED_CLOSING_TAG,q(this.clonePosition(),this.clonePosition()))}if(60===i&&!this.ignoreTag&&le(this.peek()||0)){if((o=this.parseTag(e,t)).err)return o;n.push(o.val)}else{var o;if((o=this.parseLiteral(e,t)).err)return o;n.push(o.val)}}else{var a=this.clonePosition();this.bump(),n.push({type:g.pound,location:q(a,this.clonePosition())})}}}return{val:n,err:null}},e.prototype.parseTag=function(e,t){var r=this.clonePosition();this.bump();var n=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:g.literal,value:"<"+n+"/>",location:q(r,this.clonePosition())},err:null};if(this.bumpIf(">")){var i=this.parseMessage(e+1,t,!0);if(i.err)return i;var o=i.val,a=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!le(this.char()))return this.error(h.INVALID_TAG,q(a,this.clonePosition()));var s=this.clonePosition();return n!==this.parseTagName()?this.error(h.UNMATCHED_CLOSING_TAG,q(s,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:g.tag,value:n,children:o,location:q(r,this.clonePosition())},err:null}:this.error(h.INVALID_TAG,q(a,this.clonePosition())))}return this.error(h.UNCLOSED_TAG,q(r,this.clonePosition()))}return this.error(h.INVALID_TAG,q(r,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var r=this.clonePosition(),n="";;){var i=this.tryParseQuote(t);if(i)n+=i;else{var o=this.tryParseUnquoted(e,t);if(o)n+=o;else{var a=this.tryParseLeftAngleBracket();if(!a)break;n+=a}}}var s=q(r,this.clonePosition());return{val:{type:g.literal,value:n,location:s},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(le(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var r=this.char();if(39===r){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(r);this.bump()}return re.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var r=this.char();return 60===r||123===r||35===r&&("plural"===t||"selectordinal"===t)||125===r&&e>0?null:(this.bump(),re(r))},e.prototype.parseArgument=function(e,t){var r=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(h.EXPECT_ARGUMENT_CLOSING_BRACE,q(r,this.clonePosition()));if(125===this.char())return this.bump(),this.error(h.EMPTY_ARGUMENT,q(r,this.clonePosition()));var n=this.parseIdentifierIfPossible().value;if(!n)return this.error(h.MALFORMED_ARGUMENT,q(r,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(h.EXPECT_ARGUMENT_CLOSING_BRACE,q(r,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:g.argument,value:n,location:q(r,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(h.EXPECT_ARGUMENT_CLOSING_BRACE,q(r,this.clonePosition())):this.parseArgumentOptions(e,t,n,r);default:return this.error(h.MALFORMED_ARGUMENT,q(r,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),r=ee(this.message,t),n=t+r.length;return this.bumpTo(n),{value:r,location:q(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,r,n){var i,o=this.clonePosition(),a=this.parseIdentifierIfPossible().value,s=this.clonePosition();switch(a){case"":return this.error(h.EXPECT_ARGUMENT_TYPE,q(o,s));case"number":case"date":case"time":this.bumpSpace();var c=null;if(this.bumpIf(",")){this.bumpSpace();var l=this.clonePosition();if((E=this.parseSimpleArgStyleIfPossible()).err)return E;if(0===(d=ae(E.val)).length)return this.error(h.EXPECT_ARGUMENT_STYLE,q(this.clonePosition(),this.clonePosition()));c={style:d,styleLocation:q(l,this.clonePosition())}}if((b=this.tryParseArgumentClose(n)).err)return b;var p=q(n,this.clonePosition());if(c&&te(null===c||void 0===c?void 0:c.style,"::",0)){var f=oe(c.style.slice(2));if("number"===a)return(E=this.parseNumberSkeletonFromString(f,c.styleLocation)).err?E:{val:{type:g.number,value:r,location:p,style:E.val},err:null};if(0===f.length)return this.error(h.EXPECT_DATE_TIME_SKELETON,p);var d={type:m.dateTime,pattern:f,location:c.styleLocation,parsedOptions:this.shouldParseSkeletons?S(f):{}};return{val:{type:"date"===a?g.date:g.time,value:r,location:p,style:d},err:null}}return{val:{type:"number"===a?g.number:"date"===a?g.date:g.time,value:r,location:p,style:null!==(i=null===c||void 0===c?void 0:c.style)&&void 0!==i?i:null},err:null};case"plural":case"selectordinal":case"select":var v=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(h.EXPECT_SELECT_ARGUMENT_OPTIONS,q(v,u({},v)));this.bumpSpace();var y=this.parseIdentifierIfPossible(),_=0;if("select"!==a&&"offset"===y.value){if(!this.bumpIf(":"))return this.error(h.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,q(this.clonePosition(),this.clonePosition()));var E;if(this.bumpSpace(),(E=this.tryParseDecimalInteger(h.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,h.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return E;this.bumpSpace(),y=this.parseIdentifierIfPossible(),_=E.val}var b,I=this.tryParsePluralOrSelectOptions(e,a,t,y);if(I.err)return I;if((b=this.tryParseArgumentClose(n)).err)return b;var w=q(n,this.clonePosition());return"select"===a?{val:{type:g.select,value:r,options:ne(I.val),location:w},err:null}:{val:{type:g.plural,value:r,options:ne(I.val),offset:_,pluralType:"plural"===a?"cardinal":"ordinal",location:w},err:null};default:return this.error(h.INVALID_ARGUMENT_TYPE,q(o,s))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(h.EXPECT_ARGUMENT_CLOSING_BRACE,q(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var r=this.clonePosition();if(!this.bumpUntil("'"))return this.error(h.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,q(r,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var r=[];try{r=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],r=0,n=e.split(L).filter((function(e){return e.length>0}));r<n.length;r++){var i=n[r].split("/");if(0===i.length)throw new Error("Invalid number skeleton");for(var o=i[0],a=i.slice(1),s=0,u=a;s<u.length;s++)if(0===u[s].length)throw new Error("Invalid number skeleton");t.push({stem:o,options:a})}return t}(e)}catch(n){return this.error(h.INVALID_NUMBER_SKELETON,t)}return{val:{type:m.number,tokens:r,location:t,parsedOptions:this.shouldParseSkeletons?B(r):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,r,n){for(var i,o=!1,a=[],s=new Set,u=n.value,c=n.location;;){if(0===u.length){var l=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var p=this.tryParseDecimalInteger(h.EXPECT_PLURAL_ARGUMENT_SELECTOR,h.INVALID_PLURAL_ARGUMENT_SELECTOR);if(p.err)return p;c=q(l,this.clonePosition()),u=this.message.slice(l.offset,this.offset())}if(s.has(u))return this.error("select"===t?h.DUPLICATE_SELECT_ARGUMENT_SELECTOR:h.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,c);"other"===u&&(o=!0),this.bumpSpace();var f=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?h.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:h.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,q(this.clonePosition(),this.clonePosition()));var d=this.parseMessage(e+1,t,r);if(d.err)return d;var g=this.tryParseArgumentClose(f);if(g.err)return g;a.push([u,{value:d.val,location:q(f,this.clonePosition())}]),s.add(u),this.bumpSpace(),u=(i=this.parseIdentifierIfPossible()).value,c=i.location}return 0===a.length?this.error("select"===t?h.EXPECT_SELECT_ARGUMENT_SELECTOR:h.EXPECT_PLURAL_ARGUMENT_SELECTOR,q(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!o?this.error(h.MISSING_OTHER_CLAUSE,q(this.clonePosition(),this.clonePosition())):{val:a,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var r=1,n=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(r=-1);for(var i=!1,o=0;!this.isEOF();){var a=this.char();if(!(a>=48&&a<=57))break;i=!0,o=10*o+(a-48),this.bump()}var s=q(n,this.clonePosition());return i?$(o*=r)?{val:o,err:null}:this.error(t,s):this.error(e,s)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=ie(this.message,e);if(void 0===t)throw Error("Offset "+e+" is at invalid UTF-16 code unit boundary");return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(te(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),r=this.message.indexOf(e,t);return r>=0?(this.bumpTo(r),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset "+e+" must be greater than or equal to the current offset "+this.offset());for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset "+e+" is at invalid UTF-16 code unit boundary");if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&pe(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),r=this.message.charCodeAt(t+(e>=65536?2:1));return null!==r&&void 0!==r?r:null},e}();function le(e){return e>=97&&e<=122||e>=65&&e<=90}function pe(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function fe(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function de(e){e.forEach((function(e){if(delete e.location,w(e)||T(e))for(var t in e.options)delete e.options[t].location,de(e.options[t].value);else E(e)&&R(e.style)||(b(e)||I(e))&&A(e.style)?delete e.style.location:N(e)&&de(e.children)}))}function he(e,t){void 0===t&&(t={}),t=u({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var r=new ce(e,t).parse();if(r.err){var n=SyntaxError(h[r.err.kind]);throw n.location=r.err.location,n.originalMessage=r.err.message,n}return(null===t||void 0===t?void 0:t.captureLocation)||de(r.val),r.val}function ge(e,t){var r=t&&t.cache?t.cache:we,n=t&&t.serializer?t.serializer:Ee;return(t&&t.strategy?t.strategy:_e)(e,{cache:r,serializer:n})}function me(e,t,r,n){var i,o=null==(i=n)||"number"===typeof i||"boolean"===typeof i?n:r(n),a=t.get(o);return"undefined"===typeof a&&(a=e.call(this,n),t.set(o,a)),a}function ve(e,t,r){var n=Array.prototype.slice.call(arguments,3),i=r(n),o=t.get(i);return"undefined"===typeof o&&(o=e.apply(this,n),t.set(i,o)),o}function ye(e,t,r,n,i){return r.bind(t,e,n,i)}function _e(e,t){return ye(e,this,1===e.length?me:ve,t.cache.create(),t.serializer)}var Ee=function(){return JSON.stringify(arguments)};function be(){this.cache=Object.create(null)}be.prototype.has=function(e){return e in this.cache},be.prototype.get=function(e){return this.cache[e]},be.prototype.set=function(e,t){this.cache[e]=t};var Ie,we={create:function(){return new be}},Te={variadic:function(e,t){return ye(e,this,ve,t.cache.create(),t.serializer)},monadic:function(e,t){return ye(e,this,me,t.cache.create(),t.serializer)}};!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(Ie||(Ie={}));var Oe,Ne=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.code=r,i.originalMessage=n,i}return s(t,e),t.prototype.toString=function(){return"[formatjs Error: "+this.code+"] "+this.message},t}(Error),Re=function(e){function t(t,r,n,i){return e.call(this,'Invalid values for "'+t+'": "'+r+'". Options are "'+Object.keys(n).join('", "')+'"',Ie.INVALID_VALUE,i)||this}return s(t,e),t}(Ne),Ae=function(e){function t(t,r,n){return e.call(this,'Value for "'+t+'" must be of type '+r,Ie.INVALID_VALUE,n)||this}return s(t,e),t}(Ne),Ce=function(e){function t(t,r){return e.call(this,'The intl string context variable "'+t+'" was not provided to the string "'+r+'"',Ie.MISSING_VALUE,r)||this}return s(t,e),t}(Ne);function xe(e){return"function"===typeof e}function Se(e,t,r,n,i,o,a){if(1===e.length&&y(e[0]))return[{type:Oe.literal,value:e[0].value}];for(var s=[],u=0,c=e;u<c.length;u++){var l=c[u];if(y(l))s.push({type:Oe.literal,value:l.value});else if(O(l))"number"===typeof o&&s.push({type:Oe.literal,value:r.getNumberFormat(t).format(o)});else{var p=l.value;if(!i||!(p in i))throw new Ce(p,a);var f=i[p];if(_(l))f&&"string"!==typeof f&&"number"!==typeof f||(f="string"===typeof f||"number"===typeof f?String(f):""),s.push({type:"string"===typeof f?Oe.literal:Oe.object,value:f});else if(b(l)){var d="string"===typeof l.style?n.date[l.style]:A(l.style)?l.style.parsedOptions:void 0;s.push({type:Oe.literal,value:r.getDateTimeFormat(t,d).format(f)})}else if(I(l)){d="string"===typeof l.style?n.time[l.style]:A(l.style)?l.style.parsedOptions:void 0;s.push({type:Oe.literal,value:r.getDateTimeFormat(t,d).format(f)})}else if(E(l)){(d="string"===typeof l.style?n.number[l.style]:R(l.style)?l.style.parsedOptions:void 0)&&d.scale&&(f*=d.scale||1),s.push({type:Oe.literal,value:r.getNumberFormat(t,d).format(f)})}else{if(N(l)){var h=l.children,g=l.value,m=i[g];if(!xe(m))throw new Ae(g,"function",a);var v=m(Se(h,t,r,n,i,o).map((function(e){return e.value})));Array.isArray(v)||(v=[v]),s.push.apply(s,v.map((function(e){return{type:"string"===typeof e?Oe.literal:Oe.object,value:e}})))}if(w(l)){if(!(C=l.options[f]||l.options.other))throw new Re(l.value,f,Object.keys(l.options),a);s.push.apply(s,Se(C.value,t,r,n,i))}else if(T(l)){var C;if(!(C=l.options["="+f])){if(!Intl.PluralRules)throw new Ne('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',Ie.MISSING_INTL_API,a);var x=r.getPluralRules(t,{type:l.pluralType}).select(f-(l.offset||0));C=l.options[x]||l.options.other}if(!C)throw new Re(l.value,f,Object.keys(l.options),a);s.push.apply(s,Se(C.value,t,r,n,i,f-(l.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var r=e[e.length-1];return r&&r.type===Oe.literal&&t.type===Oe.literal?r.value+=t.value:e.push(t),e}),[])}(s)}function Le(e,t){return t?Object.keys(e).reduce((function(r,n){var i,o;return r[n]=(i=e[n],(o=t[n])?u(u(u({},i||{}),o||{}),Object.keys(i).reduce((function(e,t){return e[t]=u(u({},i[t]),o[t]||{}),e}),{})):i),r}),u({},e)):e}function Pe(e){return{create:function(){return{has:function(t){return t in e},get:function(t){return e[t]},set:function(t,r){e[t]=r}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(Oe||(Oe={}));var Ue,ke=function(){function e(t,r,n,i){var o,a=this;if(void 0===r&&(r=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=a.formatToParts(e);if(1===t.length)return t[0].value;var r=t.reduce((function(e,t){return e.length&&t.type===Oe.literal&&"string"===typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return r.length<=1?r[0]||"":r},this.formatToParts=function(e){return Se(a.ast,a.locales,a.formatters,a.formats,e,void 0,a.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(a.locales)[0]}},this.getAst=function(){return a.ast},"string"===typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null===i||void 0===i?void 0:i.ignoreTag})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Le(e.formats,n),this.locales=r,this.formatters=i&&i.formatters||(void 0===(o=this.formatterCache)&&(o={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:ge((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.NumberFormat).bind.apply(e,l([void 0],t)))}),{cache:Pe(o.number),strategy:Te.variadic}),getDateTimeFormat:ge((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.DateTimeFormat).bind.apply(e,l([void 0],t)))}),{cache:Pe(o.dateTime),strategy:Te.variadic}),getPluralRules:ge((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.PluralRules).bind.apply(e,l([void 0],t)))}),{cache:Pe(o.pluralRules),strategy:Te.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.__parse=he,e.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();!function(e){e.FORMAT_ERROR="FORMAT_ERROR",e.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",e.INVALID_CONFIG="INVALID_CONFIG",e.MISSING_DATA="MISSING_DATA",e.MISSING_TRANSLATION="MISSING_TRANSLATION"}(Ue||(Ue={}));var De=function(e){function t(r,n,i){var o=e.call(this,"[@formatjs/intl Error "+r+"] "+n+" \n"+(i?"\n"+i.message+"\n"+i.stack:""))||this;return o.code=r,"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(o,t),o}return s(t,e),t}(Error),je=function(e){function t(t,r){return e.call(this,Ue.UNSUPPORTED_FORMATTER,t,r)||this}return s(t,e),t}(De),Me=function(e){function t(t,r){return e.call(this,Ue.INVALID_CONFIG,t,r)||this}return s(t,e),t}(De),Fe=function(e){function t(t,r){return e.call(this,Ue.MISSING_DATA,t,r)||this}return s(t,e),t}(De),Ve=function(e){function t(t,r,n,i){var o=e.call(this,Ue.FORMAT_ERROR,t+" \nLocale: "+r+"\nMessageID: "+(null===n||void 0===n?void 0:n.id)+"\nDefault Message: "+(null===n||void 0===n?void 0:n.defaultMessage)+"\nDescription: "+(null===n||void 0===n?void 0:n.description)+" \n",i)||this;return o.descriptor=n,o}return s(t,e),t}(De),Ge=function(e){function t(t,r){var n=e.call(this,Ue.MISSING_TRANSLATION,'Missing message: "'+t.id+'" for locale "'+r+'", using '+(t.defaultMessage?"default message":"id")+" as fallback.")||this;return n.descriptor=t,n}return s(t,e),t}(De);function Be(e,t,r){return void 0===r&&(r={}),t.reduce((function(t,n){return n in e?t[n]=e[n]:n in r&&(t[n]=r[n]),t}),{})}var Ke={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},onError:function(e){0}};function He(e){return{create:function(){return{has:function(t){return t in e},get:function(t){return e[t]},set:function(t,r){e[t]=r}}}}}function qe(e,t,r,n){var i,o=e&&e[t];if(o&&(i=o[r]),i)return i;n(new je("No "+t+" format named: "+r))}function ze(e){v(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var Ye=u(u({},Ke),{textComponent:o.Fragment});function Xe(e,t){if(e===t)return!0;if(!e||!t)return!1;var r=Object.keys(e),n=Object.keys(t),i=r.length;if(n.length!==i)return!1;for(var o=0;o<i;o++){var a=r[o];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}function We(e,t){return Object.keys(e).reduce((function(r,n){return r[n]=u({timeZone:t},e[n]),r}),{})}function Je(e,t){return Object.keys(u(u({},e),t)).reduce((function(r,n){return r[n]=u(u({},e[n]||{}),t[n]||{}),r}),{})}function Ze(e,t){if(!t)return e;var r=ke.formats;return u(u(u({},r),e),{date:Je(We(r.date,t),We(e.date||{},t)),time:Je(We(r.time,t),We(e.time||{},t))})}function $e(e,t,r,n,i){var o=e.locale,a=e.formats,s=e.messages,c=e.defaultLocale,l=e.defaultFormats,p=e.onError,f=e.timeZone,d=e.defaultRichTextElements;void 0===r&&(r={id:""});var h=r.id,m=r.defaultMessage;v(!!h,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var y=String(h),_=s&&Object.prototype.hasOwnProperty.call(s,y)&&s[y];if(Array.isArray(_)&&1===_.length&&_[0].type===g.literal)return _[0].value;if(!n&&_&&"string"===typeof _&&!d)return _.replace(/'\{(.*?)\}'/gi,"{$1}");if(n=u(u({},d),n||{}),a=Ze(a,f),l=Ze(l,f),!_){if((!m||o&&o.toLowerCase()!==c.toLowerCase())&&p(new Ge(r,o)),m)try{return t.getMessageFormat(m,c,l,i).format(n)}catch(E){return p(new Ve('Error formatting default message for: "'+y+'", rendering default message verbatim',o,r,E)),"string"===typeof m?m:y}return y}try{return t.getMessageFormat(_,o,a,u({formatters:t},i||{})).format(n)}catch(E){p(new Ve('Error formatting message: "'+y+'", using '+(m?"default message":"id")+" as fallback.",o,r,E))}if(m)try{return t.getMessageFormat(m,c,l,i).format(n)}catch(E){p(new Ve('Error formatting the default message for: "'+y+'", rendering message verbatim',o,r,E))}return"string"===typeof _?_:"string"===typeof m?m:y}var Qe=["localeMatcher","style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem"];function et(e,t,r){var n=e.locale,i=e.formats,o=e.onError;void 0===r&&(r={});var a=r.format,s=a&&qe(i,"number",a,o)||{};return t(n,Be(r,Qe,s))}function tt(e,t,r,n){void 0===n&&(n={});try{return et(e,t,n).format(r)}catch(i){e.onError(new De(Ue.FORMAT_ERROR,"Error formatting number.",i))}return String(r)}function rt(e,t,r,n){void 0===n&&(n={});try{return et(e,t,n).formatToParts(r)}catch(i){e.onError(new De(Ue.FORMAT_ERROR,"Error formatting number.",i))}return[]}var nt=["numeric","style"];function it(e,t,r,n,i){void 0===i&&(i={}),n||(n="second"),Intl.RelativeTimeFormat||e.onError(new Ne('Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n',Ie.MISSING_INTL_API));try{return function(e,t,r){var n=e.locale,i=e.formats,o=e.onError;void 0===r&&(r={});var a=r.format,s=!!a&&qe(i,"relative",a,o)||{};return t(n,Be(r,nt,s))}(e,t,i).format(r,n)}catch(o){e.onError(new Ve("Error formatting relative time.",o))}return String(r)}var ot=["localeMatcher","formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem"];function at(e,t,r,n){var i=e.locale,o=e.formats,a=e.onError,s=e.timeZone;void 0===n&&(n={});var c=n.format,l=u(u({},s&&{timeZone:s}),c&&qe(o,t,c,a)),p=Be(n,ot,l);return"time"!==t||p.hour||p.minute||p.second||p.timeStyle||p.dateStyle||(p=u(u({},p),{hour:"numeric",minute:"numeric"})),r(i,p)}function st(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],o=r[1],a=void 0===o?{}:o,s="string"===typeof i?new Date(i||0):i;try{return at(e,"date",t,a).format(s)}catch(u){e.onError(new De(Ue.FORMAT_ERROR,"Error formatting date.",u))}return String(s)}function ut(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],o=r[1],a=void 0===o?{}:o,s="string"===typeof i?new Date(i||0):i;try{return at(e,"time",t,a).format(s)}catch(u){e.onError(new De(Ue.FORMAT_ERROR,"Error formatting time.",u))}return String(s)}function ct(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],o=r[1],a=r[2],s=void 0===a?{}:a,u=e.timeZone,c=e.locale,l=e.onError,p=Be(s,ot,u?{timeZone:u}:{});try{return t(c,p).formatRange(i,o)}catch(f){l(new De(Ue.FORMAT_ERROR,"Error formatting date time range.",f))}return String(i)}function lt(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],o=r[1],a=void 0===o?{}:o,s="string"===typeof i?new Date(i||0):i;try{return at(e,"date",t,a).formatToParts(s)}catch(u){e.onError(new De(Ue.FORMAT_ERROR,"Error formatting date.",u))}return[]}function pt(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r[0],o=r[1],a=void 0===o?{}:o,s="string"===typeof i?new Date(i||0):i;try{return at(e,"time",t,a).formatToParts(s)}catch(u){e.onError(new De(Ue.FORMAT_ERROR,"Error formatting time.",u))}return[]}var ft=["localeMatcher","type"];function dt(e,t,r,n){var i=e.locale,o=e.onError;void 0===n&&(n={}),Intl.PluralRules||o(new Ne('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',Ie.MISSING_INTL_API));var a=Be(n,ft);try{return t(i,a).select(r)}catch(s){o(new Ve("Error formatting plural.",s))}return"other"}var ht=["localeMatcher","type","style"],gt=Date.now();function mt(e,t,r,n){void 0===n&&(n={});var i=vt(e,t,r,n).reduce((function(e,t){var r=t.value;return"string"!==typeof r?e.push(r):"string"===typeof e[e.length-1]?e[e.length-1]+=r:e.push(r),e}),[]);return 1===i.length?i[0]:i}function vt(e,t,r,n){var i=e.locale,o=e.onError;void 0===n&&(n={}),Intl.ListFormat||o(new Ne('Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n',Ie.MISSING_INTL_API));var a=Be(n,ht);try{var s={},c=r.map((function(e,t){if("object"===typeof e){var r=function(e){return gt+"_"+e+"_"+gt}(t);return s[r]=e,r}return String(e)}));return t(i,a).formatToParts(c).map((function(e){return"literal"===e.type?e:u(u({},e),{value:s[e.value]||e.value})}))}catch(l){o(new De(Ue.FORMAT_ERROR,"Error formatting list.",l))}return r}var yt=["localeMatcher","style","type","fallback"];function _t(e,t,r,n){var i=e.locale,o=e.onError;Intl.DisplayNames||o(new Ne('Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n',Ie.MISSING_INTL_API));var a=Be(n,yt);try{return t(i,a).of(r)}catch(s){o(new De(Ue.FORMAT_ERROR,"Error formatting display name.",s))}}function Et(e){var t;e.defaultRichTextElements&&"string"===typeof((t=e.messages||{})?t[Object.keys(t)[0]]:void 0)&&console.warn('[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. \nPlease consider using "@formatjs/cli" to pre-compile your messages for performance.\nFor more details see https://formatjs.io/docs/getting-started/message-distribution')}function bt(e,t){var r=function(e){void 0===e&&(e={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}});var t=Intl.RelativeTimeFormat,r=Intl.ListFormat,n=Intl.DisplayNames,i=ge((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.DateTimeFormat).bind.apply(e,l([void 0],t)))}),{cache:He(e.dateTime),strategy:Te.variadic}),o=ge((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.NumberFormat).bind.apply(e,l([void 0],t)))}),{cache:He(e.number),strategy:Te.variadic}),a=ge((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.PluralRules).bind.apply(e,l([void 0],t)))}),{cache:He(e.pluralRules),strategy:Te.variadic});return{getDateTimeFormat:i,getNumberFormat:o,getMessageFormat:ge((function(e,t,r,n){return new ke(e,t,r,u({formatters:{getNumberFormat:o,getDateTimeFormat:i,getPluralRules:a}},n||{}))}),{cache:He(e.message),strategy:Te.variadic}),getRelativeTimeFormat:ge((function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new(t.bind.apply(t,l([void 0],e)))}),{cache:He(e.relativeTime),strategy:Te.variadic}),getPluralRules:a,getListFormat:ge((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(r.bind.apply(r,l([void 0],e)))}),{cache:He(e.list),strategy:Te.variadic}),getDisplayNames:ge((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(n.bind.apply(n,l([void 0],e)))}),{cache:He(e.displayNames),strategy:Te.variadic})}}(t),n=u(u({},Ke),e),i=n.locale,o=n.defaultLocale,a=n.onError;return i?!Intl.NumberFormat.supportedLocalesOf(i).length&&a?a(new Fe('Missing locale data for locale: "'+i+'" in Intl.NumberFormat. Using default locale: "'+o+'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details')):!Intl.DateTimeFormat.supportedLocalesOf(i).length&&a&&a(new Fe('Missing locale data for locale: "'+i+'" in Intl.DateTimeFormat. Using default locale: "'+o+'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details')):(a&&a(new Me('"locale" was not configured, using "'+o+'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details')),n.locale=n.defaultLocale||"en"),Et(n),u(u({},n),{formatters:r,formatNumber:tt.bind(null,n,r.getNumberFormat),formatNumberToParts:rt.bind(null,n,r.getNumberFormat),formatRelativeTime:it.bind(null,n,r.getRelativeTimeFormat),formatDate:st.bind(null,n,r.getDateTimeFormat),formatDateToParts:lt.bind(null,n,r.getDateTimeFormat),formatTime:ut.bind(null,n,r.getDateTimeFormat),formatDateTimeRange:ct.bind(null,n,r.getDateTimeFormat),formatTimeToParts:pt.bind(null,n,r.getDateTimeFormat),formatPlural:dt.bind(null,n,r.getPluralRules),formatMessage:$e.bind(null,n,r),formatList:mt.bind(null,n,r.getListFormat),formatListToParts:vt.bind(null,n,r.getListFormat),formatDisplayName:_t.bind(null,n,r.getDisplayNames)})}function It(e){return{locale:e.locale,timeZone:e.timeZone,formats:e.formats,textComponent:e.textComponent,messages:e.messages,defaultLocale:e.defaultLocale,defaultFormats:e.defaultFormats,onError:e.onError,wrapRichTextChunksInFragment:e.wrapRichTextChunksInFragment,defaultRichTextElements:e.defaultRichTextElements}}function wt(e){return e?Object.keys(e).reduce((function(t,r){var n,i=e[r];return t[r]=xe(i)?(n=i,function(e){return n(o.Children.toArray(e))}):i,t}),{}):e}var Tt=function(e,t,r,n){for(var i=[],a=4;a<arguments.length;a++)i[a-4]=arguments[a];var s=wt(n),u=$e.apply(void 0,l([e,t,r,s],i));return Array.isArray(u)?o.Children.toArray(u):u},Ot=function(e,t){var r=e.defaultRichTextElements,n=c(e,["defaultRichTextElements"]),i=wt(r),o=bt(u(u(u({},Ye),n),{defaultRichTextElements:i}),t);return u(u({},o),{formatMessage:Tt.bind(null,{locale:o.locale,timeZone:o.timeZone,formats:o.formats,defaultLocale:o.defaultLocale,defaultFormats:o.defaultFormats,messages:o.messages,onError:o.onError,defaultRichTextElements:i},o.formatters)})},Nt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cache={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}},t.state={cache:t.cache,intl:Ot(It(t.props),t.cache),prevConfig:It(t.props)},t}return s(t,e),t.getDerivedStateFromProps=function(e,t){var r=t.prevConfig,n=t.cache,i=It(e);return Xe(r,i)?null:{intl:Ot(i,n),prevConfig:i}},t.prototype.render=function(){return ze(this.state.intl),o.createElement(f,{value:this.state.intl},this.props.children)},t.displayName="IntlProvider",t.defaultProps=Ye,t}(o.PureComponent);function Rt(){var e=o.useContext(d);return ze(e),e}function At(e){var t=Rt(),r=t.formatMessage,n=t.textComponent,i=void 0===n?o.Fragment:n,a=e.id,s=e.description,u=e.defaultMessage,c=e.values,l=e.children,p=e.tagName,f=void 0===p?i:p,d=r({id:a,description:s,defaultMessage:u},c,{ignoreTag:e.ignoreTag});return Array.isArray(d)||(d=[d]),"function"===typeof l?l(d):f?o.createElement(f,null,o.Children.toArray(d)):o.createElement(o.Fragment,null,d)}At.displayName="FormattedMessage";var Ct=o.memo(At,(function(e,t){var r=e.values,n=c(e,["values"]),i=t.values,o=c(t,["values"]);return Xe(i,r)&&Xe(n,o)}));Ct.displayName="MemoizedFormattedMessage";var xt=Ct,St=r(1163),Lt=["product","pricing","developers","resources","support","company"],Pt=(0,o.createContext)({menu:null,setMenu:function(){}}),Ut=r(7474);function kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var jt=function(){var e=document||{location:{pathname:"unknown",href:"unknown"},referrer:"unknown",title:"unknown"};return{path:e.location.pathname,url:e.location.href,referrer:e.referrer,title:e.title}},Mt=function(e,t,r){var n=jt();Ut.X2(e,Dt(Dt({},n),t),r)},Ft=function(e){return function(t){var r=t.currentTarget,i=r.href,o=r.target,a=t.target.textContent.trim()||r.textContent.trim();o||t.preventDefault();var s=n({},"cta_text",a);e&&Mt(e.name,Dt(Dt({},s),e.props)),i&&!o&&(window.location=i)}};function Vt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kt(e){var t=e.href,r=e.children,n=Vt(e,["href","children"]);if(t.startsWith("http"))return(0,i.jsx)("a",Bt(Bt({href:t},n),{},{children:r}));var o=(0,St.useRouter)(),a=o.locale,s=a===o.defaultLocale?"":"/".concat(a);return(0,i.jsx)("a",Bt(Bt({href:"".concat(s).concat(t)},n),{},{children:r}))}function Ht(e){var t=e.width,r=e.height;return(0,i.jsx)("svg",{width:t||"120",height:r||"25",viewBox:"0 0 120 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M105.517 20.1526C109.094 20.1526 112.095 17.697 112.94 14.3775C112.945 14.3535 112.949 14.3285 112.949 14.3032C112.949 14.1013 112.786 13.9379 112.585 13.9379H109.496C109.349 13.9379 109.223 14.0248 109.166 14.1512L109.165 14.1507C108.53 15.5345 107.137 16.4965 105.517 16.4965C103.301 16.4965 101.504 14.6963 101.504 12.4752C101.504 10.2544 103.301 8.45375 105.517 8.45375C107.137 8.45375 108.53 9.41571 109.165 10.7998L109.166 10.7991C109.223 10.9245 109.349 11.0128 109.496 11.0128H112.585C112.786 11.0128 112.949 10.8491 112.949 10.6471C112.949 10.6217 112.945 10.5983 112.94 10.574C112.095 7.25447 109.094 4.79812 105.517 4.79812C101.287 4.79812 97.8548 8.23631 97.8548 12.4752C97.8548 16.7153 101.287 20.1526 105.517 20.1526ZM118.683 5.16355V19.4211C118.683 19.6227 118.519 19.7864 118.319 19.7864H115.4C115.198 19.7864 115.035 19.6227 115.035 19.4211V5.16355H118.683ZM116.859 0.0456006C115.65 0.0456006 114.67 1.02806 114.67 2.23915C114.67 3.45061 115.65 4.4327 116.859 4.4327C118.068 4.4327 119.048 3.45061 119.048 2.23915C119.048 1.02806 118.068 0.0456006 116.859 0.0456006ZM82.729 11.0128C83.3688 8.69492 85.4878 6.99167 88.0047 6.99167C90.5216 6.99167 92.6389 8.69492 93.2786 11.0128H82.729ZM88.0047 4.79812C83.7726 4.79812 80.3419 8.23507 80.3419 12.4752C80.3419 16.7148 83.7726 20.1526 88.0047 20.1526C90.9962 20.1526 93.5847 18.4339 94.8465 15.9294C94.8718 15.8796 94.886 15.8246 94.886 15.7651C94.886 15.5628 94.7226 15.3998 94.5211 15.3998H92.8278C92.7072 15.3998 92.6001 15.459 92.5343 15.5502C91.5491 17.0032 89.8885 17.9588 88.0047 17.9588C85.229 17.9588 82.9381 15.8888 82.5811 13.206H95.2915C95.4871 13.206 95.6456 13.052 95.6556 12.859C95.6623 12.7319 95.6658 12.6038 95.6658 12.4752C95.6658 8.23507 92.236 4.79812 88.0047 4.79812ZM77.7879 0.411151H76.3289C76.1266 0.411151 75.9639 0.574915 75.9639 0.776577V19.4211C75.9639 19.6227 76.1266 19.7864 76.3289 19.7864H77.7879C77.9895 19.7864 78.1534 19.6227 78.1534 19.4211V0.776577C78.1534 0.574915 77.9895 0.411151 77.7879 0.411151ZM73.4096 15.3998H71.7158C71.5977 15.3998 71.4932 15.4564 71.4275 15.5433C70.4438 17.0002 68.7799 17.9588 66.8931 17.9588C63.8694 17.9588 61.4198 15.5037 61.4198 12.4752C61.4198 9.44653 63.8694 6.99167 66.8931 6.99167C68.7799 6.99167 70.4438 7.9504 71.4275 9.40689C71.494 9.49424 71.5986 9.55065 71.7158 9.55065H73.4096C73.6114 9.55065 73.7749 9.38664 73.7749 9.1851C73.7749 9.12558 73.7598 9.07029 73.7345 9.02084C72.4735 6.51653 69.8833 4.79812 66.8931 4.79812C62.6612 4.79812 59.231 8.23507 59.231 12.4752C59.231 16.7148 62.6612 20.1526 66.8931 20.1526C69.8833 20.1526 72.4735 18.4339 73.7345 15.9294C73.7598 15.8796 73.7749 15.8246 73.7749 15.7651C73.7749 15.5628 73.6114 15.3998 73.4096 15.3998ZM58.8712 4.80695C56.6632 4.91132 54.8998 5.96821 53.7577 7.58262V5.52848C53.7577 5.32769 53.5941 5.16355 53.3927 5.16355H51.9334C51.7318 5.16355 51.5687 5.32769 51.5687 5.52848V19.4211C51.5687 19.6227 51.7318 19.7864 51.9334 19.7864H53.3927C53.5941 19.7864 53.7577 19.6227 53.7577 19.4211V12.4752C53.7577 9.56966 56.0135 7.19247 58.8652 7.00435C59.0668 7.00435 59.231 6.84033 59.231 6.63805V5.1725C59.231 4.97208 59.0701 4.8108 58.8712 4.80695ZM49.3792 19.4211V5.16355H47.1899V19.4211C47.1899 19.6227 47.3538 19.7864 47.5551 19.7864H49.0143C49.2158 19.7864 49.3792 19.6227 49.3792 19.4211ZM49.7438 2.23915C49.7438 3.04679 49.091 3.70147 48.2847 3.70147C47.4789 3.70147 46.8255 3.04679 46.8255 2.23915C46.8255 1.43151 47.4789 0.776577 48.2847 0.776577C49.091 0.776577 49.7438 1.43151 49.7438 2.23915ZM44.6359 15.3998H42.9425C42.8239 15.3998 42.7204 15.4564 42.6531 15.5433C41.6701 17.0002 40.0067 17.9588 38.119 17.9588C35.096 17.9588 32.646 15.5037 32.646 12.4752C32.646 9.44653 35.096 6.99167 38.119 6.99167C40.0067 6.99167 41.6701 7.9504 42.6539 9.40689C42.7204 9.49424 42.8249 9.55065 42.9425 9.55065H44.6359C44.8378 9.55065 45.0017 9.38664 45.0017 9.1851C45.0017 9.12558 44.9859 9.07029 44.9617 9.02084C43.6999 6.51653 41.1096 4.79812 38.119 4.79812C33.8873 4.79812 30.4563 8.23507 30.4563 12.4752C30.4563 16.7148 33.8873 20.1526 38.119 20.1526C41.1096 20.1526 43.6999 18.4339 44.9617 15.9294C44.9859 15.8796 45.0017 15.8246 45.0017 15.7651C45.0017 15.5628 44.8378 15.3998 44.6359 15.3998ZM12.0774 0C6.2655 0 1.38827 3.98986 0.015625 9.38403C0.0063244 9.42329 0 9.4633 0 9.50505C0 9.83307 0.265501 10.099 0.593006 10.099H5.61111C5.85007 10.099 6.05456 9.95608 6.14893 9.75206L6.1498 9.75231C7.1808 7.50347 9.44544 5.94013 12.0774 5.94013C15.6782 5.94013 18.5988 8.86652 18.5988 12.4752C18.5988 16.084 15.6782 19.0103 12.0774 19.0103C9.44544 19.0103 7.1808 17.447 6.1498 15.1975L6.14893 15.1988C6.05456 14.9944 5.85007 14.8517 5.61111 14.8517H0.593006C0.265501 14.8517 0 15.1169 0 15.4458C0 15.4864 0.0063244 15.5252 0.0147569 15.5641C1.38703 20.9586 6.26439 24.9501 12.0774 24.9501C18.9529 24.9501 24.5277 19.3641 24.5277 12.4752C24.5277 5.58551 18.9529 0 12.0774 0ZM9.11272 12.4752C9.11272 10.8352 10.4404 9.50505 12.0774 9.50505C13.7143 9.50505 15.0414 10.8352 15.0414 12.4752C15.0414 14.1153 13.7143 15.4458 12.0774 15.4458C10.4404 15.4458 9.11272 14.1153 9.11272 12.4752Z",fill:"currentColor"})})}function qt(){return(0,i.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M9.33318 10.6667H1.33318V2.66667H4.66651V1.33333H0.959845C0.699845 1.32667 0.453179 1.42 0.273179 1.6C0.086512 1.77333 -0.00682137 2.02 -0.000154701 2.27333V11.0667C-0.00682137 11.32 0.086512 11.56 0.273179 11.74C0.453179 11.92 0.706512 12.0133 0.959845 12.0067H9.70651C10.2398 12.0067 10.6665 11.5867 10.6665 11.0667V7.33333H9.33318V10.6667ZM9.72651 1.33333H7.33318C6.96651 1.33333 6.66651 1.03333 6.66651 0.666667C6.66651 0.3 6.96651 0 7.33318 0H11.3332C11.6998 0 11.9998 0.3 11.9998 0.666667V4.66667C11.9998 5.03333 11.6998 5.33333 11.3332 5.33333C10.9665 5.33333 10.6665 5.03333 10.6665 4.66667V2.27333L7.91985 5.02C7.65985 5.28 7.23985 5.28 6.97985 5.02C6.71985 4.76 6.71985 4.34 6.97985 4.08L9.72651 1.33333Z",fill:"currentColor"})})}function zt(){return(0,i.jsx)("svg",{fill:"none",height:"18",viewBox:"0 0 18 18",width:"18",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"1.25",children:[(0,i.jsx)("path",{d:"m9.00001 17.3077c4.58819 0 8.30769-3.7195 8.30769-8.30771s-3.7195-8.307693-8.30769-8.307693c-4.58821 0-8.307688 3.719483-8.307688 8.307693s3.719478 8.30771 8.307688 8.30771z"}),(0,i.jsx)("path",{d:"m9 17.3077c1.7639 0 3.1938-3.7195 3.1938-8.30771s-1.4299-8.307693-3.1938-8.307693c-1.76391 0-3.19385 3.719483-3.19385 8.307693s1.42994 8.30771 3.19385 8.30771z"}),(0,i.jsx)("path",{d:"m.692322 6.44307h16.615378"}),(0,i.jsx)("path",{d:"m.692322 11.5569h16.615378"})]})})}function Yt(){return(0,i.jsx)("svg",{fill:"none",height:"14",viewBox:"0 0 11 14",width:"11",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{fill:"currentColor",children:[(0,i.jsx)("path",{d:"m5.37615 3.04526c-1.16938 0-2.12761.95823-2.12761 2.13573 0 1.17749.95823 2.12761 2.12761 2.12761 1.16937 0 2.12761-.95824 2.12761-2.12761 0-1.16938-.95012-2.13573-2.12761-2.13573zm0 3.24826c-.61717 0-1.12065-.50348-1.12065-1.12065s.5116-1.11253 1.12065-1.11253c.60904 0 1.12065.50348 1.12065 1.12065s-.50349 1.11253-1.12065 1.11253z"}),(0,i.jsx)("path",{d:"m5.38399 0c-2.97216 0-5.38399 2.41183-5.38399 5.37587 0 3.97912 4.7993 8.62413 5.38399 8.62413.12181 0 .2355-.0406.33295-.1218.20301-.1787 5.05106-4.37704 5.05106-8.50233-.0081-2.96404-2.41997-5.37587-5.38401-5.37587zm0 12.8144c-1.07192-.9989-4.36891-4.34456-4.36891-7.43853 0-2.40371 1.95708-4.36891 4.36891-4.36891s4.36079 1.9652 4.36079 4.36891c0 3.11021-3.29698 6.43963-4.36079 7.43853z"})]})})}function Xt(){return(0,i.jsx)("div",{className:"tw_border-4 tw_border-transparent tw_border-l-currentColor tw_inline-block tw_transform tw_-translate-y-px"})}function Wt(){return(0,i.jsx)("svg",{fill:"none",height:"13",viewBox:"0 0 12 13",width:"12",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{fill:"currentColor",children:[(0,i.jsx)("path",{d:"m6 0c-3.30709 0-6 2.69291-6 6.00787s2.69291 6.00003 6 6.00003 6-2.69294 6-6.00003c0-3.30708-2.68504-6.00787-6-6.00787zm0 11.0236c-2.77165 0-5.015748-2.25195-5.015748-5.0236s2.251968-5.023622 5.015748-5.023622 5.0236 2.251972 5.0236 5.023622-2.25195 5.0236-5.0236 5.0236z"}),(0,i.jsx)("path",{d:"m6.49591 5.80314v-2.61418c0-.27559-.22047-.48818-.48819-.48818s-.48819.22047-.48819.48818v2.81103c0 .13386.05512.25197.14173.34645l1.91339 1.91339c.09449.09449.22047.14173.34646.14173.12598 0 .25197-.04724.34645-.14173.18898-.18898.18898-.50394 0-.69291z"})]})})}function Jt(e){var t="l"===e.direction?"tw_border-l-2 tw_-rotate-45 tw_translate-x-0.5":"tw_border-r-2 tw_rotate-45 tw_-translate-x-0.5";return(0,i.jsx)("div",{className:"".concat(t," ").concat("tw_border-t-2 tw_border-green-500 tw_w-3 tw_h-3 tw_transform tw_origin-center")})}var Zt=JSON.parse('{"nav.home":"Home","nav.product":"Product","nav.pricing":"Pricing","nav.developers":"Developers","nav.resources":"Resources","nav.support":"Support","nav.company":"Company","nav.language":"Select Language","nav.contact":"Contact Us","nav.login":"Log In","nav.signup":"Sign Up","nav.gotoapp":"Go to Application","nav.skip":"Skip to content","nav.back":"Back","nav.menu":"Menu","product.gray.overview.title":"Product Overview","product.gray.overview.body":"Product features, engineering metrics, hosting, and supported environments.","product.gray.overview.cta":"Learn more","product.gray.overview.url":"/product/","product.left.hosting.title":"Hosting Options","product.left.hosting.body":"Cloud, self-hosted runners, or private server","product.left.hosting.url":"/product/#hosting-options","product.left.execution.title":"Build Environments","product.left.execution.body":"The technologies and environments we support","product.left.execution.url":"/build-environments/","product.left.integrations.title":"Integrations","product.left.integrations.body":"The world\u2019s best tools work with CircleCI","product.left.integrations.url":"/integrations/","product.right.enterprise.title":"Enterprise","product.right.enterprise.body":"Expert account management and 24/7 support","product.right.enterprise.url":"/enterprise/","product.right.security.title":"Security","product.right.security.body":"The only SOC 2 Type 2 and FedRAMP certified CI/CD platform","product.right.security.url":"/security/","pricing.gray.title":"Build fast. Start for free.","pricing.gray.body":"Plans that scale to support every team size, project type, and compute need.","pricing.gray.pricing.cta":"View pricing","pricing.gray.pricing.url":"/pricing/","pricing.gray.sales.cta":"Contact sales","pricing.gray.sales.url":"/contact-us/","pricing.white.lede":"Hosting options","pricing.white.cloud.title":"Cloud","pricing.white.cloud.body":"Hosted CI/CD with optional self-hosted runners","pricing.white.cloud.url":"/pricing/","pricing.white.server.title":"Server","pricing.white.server.body":"On-premise hosting using private infrastructure","pricing.white.server.url":"/pricing/server/","developers.gray.devhub.title":"Developer Hub","developers.gray.devhub.body":"Access our configuration packages (orbs), documentation, API, CLI, and more.","developers.gray.devhub.url":"https://circleci.com/developer","developers.gray.devhub.cta":"Explore the developer hub","developers.gray.docs.lede":"Documentation","developers.gray.docs.content.start.title":"Getting Started","developers.gray.docs.content.start.url":"https://circleci.com/docs/2.0/about-circleci/?section=getting-started","developers.gray.docs.content.hello.title":"Hello World","developers.gray.docs.content.hello.url":"https://circleci.com/docs/2.0/hello-world/","developers.gray.docs.content.config.title":"Configuration Reference","developers.gray.docs.content.config.url":"https://circleci.com/docs/2.0/configuration-reference/?section=configuration","developers.gray.docs.url":"https://circleci.com/docs/","developers.gray.docs.cta":"View all docs","developers.left.orbs.title":"Orbs","developers.left.orbs.body":"Reusable, sharable packages of YAML configuration","developers.left.orbs.url":"https://circleci.com/developer/orbs","developers.left.images.title":"Convenience Images","developers.left.images.body":"Docker images built for efficiency","developers.left.images.url":"https://circleci.com/developer/images","developers.left.api.title":"API","developers.left.api.body":"Easily retrieve information about jobs, workflows, and more","developers.left.api.url":"https://circleci.com/docs/api/v2/","developers.left.cla.title":"CLI","developers.left.cla.body":"Access to advanced tools through a local terminal","developers.left.cla.url":"https://circleci.com/docs/2.0/local-cli/","developers.left.cloud.title":"Cloud Changelog","developers.left.cloud.body":"Latest cloud feature releases","developers.left.cloud.url":"/changelog/","developers.left.server.title":"Server Changelog","developers.left.server.body":"Latest server feature releases","developers.left.server.url":"/server/changelog/","developers.right.discuss.title":"Discuss","developers.right.discuss.body":"Community forum for announcements and support","developers.right.discuss.url":"https://discuss.circleci.com/","developers.right.os.title":"Open Source","developers.right.os.body":"Free credits for open source projects","developers.right.os.url":"/open-source/","resources.gray.library.title":"Resource Library","resources.gray.library.body":"Improve productivity with these reports and ebooks","resources.gray.library.cta":"Browse all resources","resources.gray.library.url":"/resources/","resources.gray.training.title":"Training","resources.gray.training.body":"Live and custom training led by CircleCI experts","resources.gray.training.cta":"Browse training courses","resources.gray.training.url":"/training/","resources.left.blog.title":"Blog","resources.left.blog.body":"Tutorials, company news, and engineering guides","resources.left.blog.url":"/blog/","resources.left.caseStudies.title":"Case Studies","resources.left.caseStudies.body":"How companies use CircleCI to deliver customer value","resources.left.caseStudies.url":"/customers/","resources.left.ebooks.title":"Ebooks","resources.left.ebooks.body":"In-depth resources for engineering success","resources.left.ebooks.url":"/resources/#ebooks","resources.left.reports.title":"Reports","resources.left.reports.body":"Data-backed software delivery insights","resources.left.reports.url":"/resources/#reports","resources.left.videos.title":"Videos","resources.left.videos.body":"Learn about CircleCI and DevOps processes","resources.left.videos.url":"/resources/#videos","resources.left.events.title":"Events","resources.left.events.body":"Connect with other developers at these live events","resources.left.events.url":"/resources/events/","resources.left.webinars.title":"Webinars","resources.left.webinars.body":"On-demand webinars for every skill level","resources.left.webinars.url":"/resources/webinars/","resources.right.blog.lede":"Featured blog","resources.right.blog.title":"Automating key rotation for CI/CD pipelines","resources.right.blog.image":"https://production-cci-com.imgix.net/blog/media/2021-03-24-KeyRotation-v1.jpeg?ixlib=rb-3.2.1&auto=format&fit=max&q=60&ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&w=100","resources.right.blog.alt":"illustration of keys being rotated","resources.right.blog.publishDate":"Mar 24, 2021","resources.right.blog.readTime":"4 min read","resources.right.blog.url":"/blog/securing-ci-cd-pipelines-with-circleci-contexts-rest-api/","resources.right.event.lede":"Upcoming event","resources.right.event.title":"CircleCI 101: Live Demo and Q&A","resources.right.event.image":"https://d3r49iyjzglexf.cloudfront.net/resources/thumbnail-webinar-cci-opensource-roundtable-30a7073ceeac5e070193c0f8f2dc21e295c64a72eca50aebaa571c80a291d2fb.png","resources.right.event.alt":"CircleCI Webinar","resources.right.event.time":"10am pt","resources.right.event.location":"Virtual","resources.right.event.url":"https://www2.circleci.com/CircleCi101.html?utm_content=eventpage","support.gray.support.title":"Support","support.gray.support.body":"Extensive knowledge base and personalized help.","support.gray.support.cta":"Go to support portal","support.gray.support.url":"https://support.circleci.com/hc/en-us/","support.gray.training.title":"Training","support.gray.training.body":"Access free online courses led by CircleCI experts.","support.gray.training.cta":"Browse training courses","support.gray.training.url":"/training/","support.left.support.title":"Premium Support","support.left.support.body":"Dedicated help for Performance and Scale plan customers","support.left.support.url":"/support/premium-support/","support.left.features.title":"Feature Requests","support.left.features.body":"Send us feedback through the CircleCI Ideas portal","support.left.features.url":"https://ideas.circleci.com/","support.left.status.title":"Statuspage","support.left.status.body":"Latest system status and incident updates","support.left.status.url":"https://status.circleci.com/","support.right.forum.lede":"Community forum","support.right.forum.title":"CircleCI Discuss","support.right.forum.body":"Community forum for announcements and support","support.right.forum.cta":"Learn more","support.right.forum.url":"https://discuss.circleci.com/","company.gray.about.title":"About CircleCI","company.gray.about.body":"The world\u2019s best software teams rely on CircleCI to accelerate their engineering velocity, confidently and at scale.","company.gray.about.url":"/about/","company.gray.about.cta":"Learn more","company.left.partner.lede":"Partner with Us","company.left.partner.title":"CircleCI Partner Program","company.left.partner.body":"Join our growing network of partner companies","company.left.partner.url":"/partners/","company.left.contact.lede":"Talk to Us","company.left.contact.title":"Chat With Our Team","company.left.contact.body":"Questions about CircleCI? Our team can answer them for you","company.left.contact.url":"/contact/","company.left.news.lede":"In the news","company.left.news.title":"CircleCI Newsroom","company.left.news.body":"Keep up with the latest coverage of CircleCI","company.left.news.url":"/newsroom/","company.right.careers.lede":"Careers","company.right.careers.image":"https://d3r49iyjzglexf.cloudfront.net/careers/top-grid-photo-01@2x-b59abbd38be24dc79f16ce7a21c4c9660de5ac8297b9305e5ef216b97e1380f5.jpg","company.right.careers.alt":"Seven CircleCI employees jumping in the air in front of the Bay Bridge wearing CircleCI t-shirts in a rainbow of hues","company.right.careers.title":"Join the CircleCI Team","company.right.careers.body":"Help innovative companies ship tomorrow\u2019s software today","company.right.careers.url":"/careers/","company.right.careers.cta":"Learn more"}'),$t=JSON.parse('{"nav.home":"Home","nav.product":"\u88fd\u54c1\u6982\u8981","nav.pricing":"\u6599\u91d1\u30d7\u30e9\u30f3","nav.developers":"\u958b\u767a\u8005\u5411\u3051","nav.resources":"\u30ea\u30bd\u30fc\u30b9","nav.support":"\u30b5\u30dd\u30fc\u30c8","nav.company":"\u4f01\u696d\u60c5\u5831","nav.language":"\u56fd\u30fb\u5730\u57df","nav.contact":"\u304a\u554f\u3044\u5408\u308f\u305b","nav.login":"\u30ed\u30b0\u30a4\u30f3","nav.signup":"\u767b\u9332","nav.gotoapp":"\u30a2\u30d7\u30ea\u3078\u79fb\u52d5","nav.skip":"\u30b9\u30ad\u30c3\u30d7\u30ea\u30f3\u30af","nav.back":"\u524d\u3078","nav.menu":"Menu","product.gray.overview.title":"\u6982\u8981","product.gray.overview.body":"CircleCI \u306e\u6a5f\u80fd\u3001\u30a8\u30f3\u30b8\u30cb\u30a2\u30ea\u30f3\u30b0\u95a2\u9023\u306e\u30e1\u30c8\u30ea\u30c3\u30af\u3001\u30db\u30b9\u30c6\u30a3\u30f3\u30b0 \u30aa\u30d7\u30b7\u30e7\u30f3\u3001\u304a\u3088\u3073\u5bfe\u5fdc\u74b0\u5883\u3002","product.gray.overview.cta":"\u8a73\u7d30\u3092\u78ba\u8a8d\u3059\u308b","product.gray.overview.url":"/product/","product.left.hosting.title":"\u30db\u30b9\u30c6\u30a3\u30f3\u30b0 \u30aa\u30d7\u30b7\u30e7\u30f3","product.left.hosting.body":"\u30af\u30e9\u30a6\u30c9\u3001\u30bb\u30eb\u30d5\u30db\u30b9\u30c8 \u30e9\u30f3\u30ca\u30fc\u3001\u81ea\u793e\u30b5\u30fc\u30d0\u30fc","product.left.hosting.url":"/product/#hosting-options","product.left.execution.title":"\u5b9f\u884c\u74b0\u5883","product.left.execution.body":"CircleCI \u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u308b\u30c6\u30af\u30ce\u30ed\u30b8\u30fc\u3068\u74b0\u5883","product.left.execution.url":"/build-environments/","product.left.integrations.title":"\u30a4\u30f3\u30c6\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3","product.left.integrations.body":"CircleCI \u3067\u4f7f\u7528\u3067\u304d\u308b\u4e16\u754c\u30c8\u30c3\u30d7\u30af\u30e9\u30b9\u306e\u30c4\u30fc\u30eb","product.left.integrations.url":"/integrations/","product.right.enterprise.title":"\u30a8\u30f3\u30bf\u30fc\u30d7\u30e9\u30a4\u30ba\u5411\u3051","product.right.enterprise.body":"\u30a8\u30ad\u30b9\u30d1\u30fc\u30c8\u306b\u3088\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u7ba1\u7406\u3068 24 \u6642\u9593\u5e74\u4e2d\u7121\u4f11\u306e\u30b5\u30dd\u30fc\u30c8","product.right.enterprise.url":"/enterprise/","product.right.security.title":"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3","product.right.security.body":"SOC 2 Type 2 \u8a8d\u8a3c\u3068 FedRAMP \u8a8d\u8a3c\u3092\u53d6\u5f97\u3057\u305f\u552f\u4e00\u306e CI/CD \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0","product.right.security.url":"/security/","pricing.gray.title":"\u8fc5\u901f\u306b\u30d3\u30eb\u30c9\u3002\u307e\u305a\u306f\u7121\u6599\u3067\u59cb\u3081\u307e\u3057\u3087\u3046\u3002","pricing.gray.body":"\u30c1\u30fc\u30e0\u306e\u898f\u6a21\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u7a2e\u985e\u3001\u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u30cb\u30fc\u30ba\u3092\u554f\u308f\u305a\u5bfe\u5fdc\u3067\u304d\u308b\u30d7\u30e9\u30f3\u3092\u3054\u7528\u610f\u3057\u3066\u3044\u307e\u3059\u3002","pricing.gray.pricing.cta":"\u6599\u91d1\u3092\u78ba\u8a8d\u3059\u308b","pricing.gray.pricing.url":"/pricing/","pricing.gray.sales.cta":"CircleCI \u55b6\u696d\u62c5\u5f53\u8005\u306b\u554f\u3044\u5408\u308f\u305b\u308b","pricing.gray.sales.url":"/contact-us/","pricing.white.lede":"\u30db\u30b9\u30c6\u30a3\u30f3\u30b0 \u30aa\u30d7\u30b7\u30e7\u30f3","pricing.white.cloud.title":"\u30af\u30e9\u30a6\u30c9","pricing.white.cloud.body":"\u30af\u30e9\u30a6\u30c9\u4e0a\u3067 CI/CD \u3092\u30db\u30b9\u30c8\u3057\u3001\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u30bb\u30eb\u30d5\u30db\u30b9\u30c8 \u30e9\u30f3\u30ca\u30fc\u3092\u5229\u7528\u53ef\u80fd","pricing.white.cloud.url":"/pricing/","pricing.white.server.title":"\u30aa\u30f3\u30d7\u30ec\u30df\u30b9","pricing.white.server.body":"\u304a\u5ba2\u69d8\u306e\u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u3067 CircleCI \u3092\u30db\u30b9\u30c8","pricing.white.server.url":"/pricing/server/","developers.gray.devhub.title":"\u30c7\u30d9\u30ed\u30c3\u30d1\u30fc \u30cf\u30d6","developers.gray.devhub.body":"CircleCI \u306e\u69cb\u6210\u30d1\u30c3\u30b1\u30fc\u30b8 (CircleCI Orbs)\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3001API\u3001CLI \u306a\u3069\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\u3002","developers.gray.devhub.url":"https://circleci.com/developer/ja","developers.gray.devhub.cta":"\u30c7\u30d9\u30ed\u30c3\u30d1\u30fc \u30cf\u30d6\u3092\u898b\u308b","developers.gray.docs.lede":"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8","developers.gray.docs.content.start.title":"\u6982\u8981","developers.gray.docs.content.start.url":"https://circleci.com/docs/ja/2.0/about-circleci/?section=getting-started","developers.gray.docs.content.hello.title":"Hello World","developers.gray.docs.content.hello.url":"https://circleci.com/docs/ja/2.0/hello-world/","developers.gray.docs.content.config.title":"\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9","developers.gray.docs.content.config.url":"https://circleci.com/docs/ja/2.0/configuration-reference/?section=configuration","developers.gray.docs.url":"https://circleci.com/docs/ja/","developers.gray.docs.cta":"\u3059\u3079\u3066\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u8aad\u3080","developers.left.orbs.title":"CircleCI Orbs","developers.left.orbs.body":"\u518d\u5229\u7528\u304a\u3088\u3073\u5171\u6709\u304c\u53ef\u80fd\u306a YAML \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb \u30d1\u30c3\u30b1\u30fc\u30b8","developers.left.orbs.url":"https://circleci.com/developer/ja/orbs","developers.left.images.title":"\u30b3\u30f3\u30d3\u30cb\u30a8\u30f3\u30b9 \u30a4\u30e1\u30fc\u30b8","developers.left.images.body":"\u52b9\u7387\u30a2\u30c3\u30d7\u306b\u5f79\u7acb\u3064\u30d3\u30eb\u30c9\u6e08\u307f Docker \u30a4\u30e1\u30fc\u30b8","developers.left.images.url":"https://circleci.com/developer/ja/images","developers.left.api.title":"API","developers.left.api.body":"\u307b\u307c\u3059\u3079\u3066\u306e\u30b5\u30fc\u30d3\u30b9\u306b\u30c7\u30d7\u30ed\u30a4\u53ef\u80fd","developers.left.api.url":"https://circleci.com/docs/api/v2/","developers.left.cla.title":"CLI","developers.left.cla.body":"\u30ed\u30fc\u30ab\u30eb \u30bf\u30fc\u30df\u30ca\u30eb\u304b\u3089\u9ad8\u5ea6\u306a\u30c4\u30fc\u30eb\u3092\u5229\u7528\u53ef\u80fd","developers.left.cla.url":"https://circleci.com/docs/ja/2.0/local-cli/","developers.left.cloud.title":"\u30af\u30e9\u30a6\u30c9\u7248 CircleCI \u306e\u66f4\u65b0\u5c65\u6b74","developers.left.cloud.body":"\u30af\u30e9\u30a6\u30c9\u7248 CircleCI \u306e\u6700\u65b0\u60c5\u5831","developers.left.cloud.url":"/changelog/","developers.left.server.title":"\u30aa\u30f3\u30d7\u30ec\u30df\u30b9\u7248 CircleCI \u306e\u66f4\u65b0\u5c65\u6b74","developers.left.server.body":"\u30aa\u30f3\u30d7\u30ec\u30df\u30b9\u7248 CircleCI \u306e\u6700\u65b0\u60c5\u5831","developers.left.server.url":"/server/changelog/","developers.right.discuss.title":"CircleCI Discuss","developers.right.discuss.body":"\u6700\u65b0\u60c5\u5831\u306e\u30c1\u30a7\u30c3\u30af\u3084\u76f8\u8ac7\u3092\u884c\u3048\u308b\u30b3\u30df\u30e5\u30cb\u30c6\u30a3 \u30d5\u30a9\u30fc\u30e9\u30e0","developers.right.discuss.url":"https://discuss.circleci.com/","developers.right.os.title":"\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9","developers.right.os.body":"\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9 \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u7121\u6599\u30af\u30ec\u30b8\u30c3\u30c8\u3092\u5229\u7528\u53ef\u80fd","developers.right.os.url":"/open-source/","resources.gray.library.title":"\u30ea\u30bd\u30fc\u30b9 \u30e9\u30a4\u30d6\u30e9\u30ea","resources.gray.library.body":"\u751f\u7523\u6027\u5411\u4e0a\u306b\u5f79\u7acb\u3064\u30ec\u30dd\u30fc\u30c8\u3084 eBook \u3092\u95b2\u89a7\u3067\u304d\u307e\u3059\u3002","resources.gray.library.cta":"\u3059\u3079\u3066\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u898b\u308b","resources.gray.library.url":"/resources/","resources.gray.training.title":"\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0","resources.gray.training.body":"CircleCI \u30a8\u30ad\u30b9\u30d1\u30fc\u30c8\u4e3b\u50ac\u306e\u30aa\u30f3\u30e9\u30a4\u30f3 \u30b3\u30fc\u30b9\u3092\u7121\u6599\u3067\u53d7\u8b1b\u3067\u304d\u307e\u3059\u3002","resources.gray.training.cta":"\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0 \u30b3\u30fc\u30b9\u3092\u898b\u308b","resources.gray.training.url":"/training/","resources.left.blog.title":"\u30d6\u30ed\u30b0","resources.left.blog.body":"\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3001CircleCI \u30cb\u30e5\u30fc\u30b9\u3001\u30a8\u30f3\u30b8\u30cb\u30a2\u30ea\u30f3\u30b0 \u30ac\u30a4\u30c9","resources.left.blog.url":"/blog/","resources.left.caseStudies.title":"\u304a\u5ba2\u69d8\u4e8b\u4f8b","resources.left.caseStudies.body":"CircleCI \u3092\u4f7f\u7528\u3057\u3066\u30ab\u30b9\u30bf\u30de\u30fc \u30d0\u30ea\u30e5\u30fc\u3092\u5b9f\u73fe\u3057\u3066\u3044\u308b\u304a\u5ba2\u69d8\u306e\u4e8b\u4f8b","resources.left.caseStudies.url":"/customers/","resources.left.ebooks.title":"eBook","resources.left.ebooks.body":"\u30a8\u30f3\u30b8\u30cb\u30a2\u30ea\u30f3\u30b0\u306e\u6210\u529f\u306b\u5f79\u7acb\u3064\u8a73\u7d30\u306a\u8cc7\u6599","resources.left.ebooks.url":"/resources/#ebooks","resources.left.reports.title":"\u30ec\u30dd\u30fc\u30c8","resources.left.reports.body":"\u30c7\u30fc\u30bf\u304b\u3089\u5f97\u3089\u308c\u305f\u3001\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2 \u30c7\u30ea\u30d0\u30ea\u30fc\u306b\u95a2\u3059\u308b\u5206\u6790\u60c5\u5831","resources.left.reports.url":"/resources/#reports","resources.left.videos.title":"\u52d5\u753b","resources.left.videos.body":"CircleCI \u3084 DevOps \u30d7\u30ed\u30bb\u30b9\u306e\u7d39\u4ecb\u52d5\u753b","resources.left.videos.url":"/resources/#videos","resources.left.events.title":"\u30a4\u30d9\u30f3\u30c8","resources.left.events.body":"\u4ed6\u306e\u958b\u767a\u8005\u3068\u4ea4\u6d41\u3067\u304d\u308b\u30e9\u30a4\u30d6 \u30a4\u30d9\u30f3\u30c8","resources.left.events.url":"/resources/events/","resources.left.webinars.title":"\u30a6\u30a7\u30d3\u30ca\u30fc","resources.left.webinars.body":"\u3042\u3089\u3086\u308b\u30b9\u30ad\u30eb \u30ec\u30d9\u30eb\u5411\u3051\u306e\u30aa\u30f3\u30c7\u30de\u30f3\u30c9 \u30a6\u30a7\u30d3\u30ca\u30fc","resources.left.webinars.url":"/resources/webinars/","resources.right.blog.lede":"\u304a\u3059\u3059\u3081\u8a18\u4e8b","resources.right.blog.title":"Automating key rotation for CI/CD pipelines","resources.right.blog.image":"https://production-cci-com.imgix.net/blog/media/2021-03-24-KeyRotation-v1.jpeg?ixlib=rb-3.2.1&auto=format&fit=max&q=60&ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&w=100","resources.right.blog.alt":"illustration of keys being rotated","resources.right.blog.publishDate":"Mar 24, 2021","resources.right.blog.readTime":"4 min read","resources.right.blog.url":"/blog/securing-ci-cd-pipelines-with-circleci-contexts-rest-api/","resources.right.event.lede":"\u8fd1\u65e5\u958b\u50ac\u306e\u30a4\u30d9\u30f3\u30c8","resources.right.event.title":"CircleCI 101: Live Demo and Q&A","resources.right.event.image":"https://d3r49iyjzglexf.cloudfront.net/resources/thumbnail-webinar-cci-opensource-roundtable-30a7073ceeac5e070193c0f8f2dc21e295c64a72eca50aebaa571c80a291d2fb.png","resources.right.event.alt":"CircleCI Webinar","resources.right.event.time":"10am pt","resources.right.event.location":"Virtual","resources.right.event.url":"https://www2.circleci.com/CircleCi101.html?utm_content=eventpage","support.gray.support.title":"\u30b5\u30dd\u30fc\u30c8","support.gray.support.body":"\u5305\u62ec\u7684\u306a\u30ca\u30ec\u30c3\u30b8 \u30d9\u30fc\u30b9\u3092\u95b2\u89a7\u3067\u304d\u308b\u307b\u304b\u3001\u304a\u5ba2\u69d8\u306e\u554f\u984c\u306b\u5fdc\u3058\u305f\u30b5\u30dd\u30fc\u30c8\u3092\u53d7\u3051\u3089\u308c\u307e\u3059\u3002","support.gray.support.cta":"\u30b5\u30dd\u30fc\u30c8 \u30dd\u30fc\u30bf\u30eb\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b","support.gray.support.url":"https://support.circleci.com/hc/ja-jp/","support.gray.training.title":"\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0","support.gray.training.body":"CircleCI \u30a8\u30ad\u30b9\u30d1\u30fc\u30c8\u4e3b\u50ac\u306e\u30aa\u30f3\u30e9\u30a4\u30f3 \u30b3\u30fc\u30b9\u3092\u7121\u6599\u3067\u53d7\u8b1b\u3067\u304d\u307e\u3059\u3002","support.gray.training.cta":"\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0 \u30b3\u30fc\u30b9\u3092\u898b\u308b","support.gray.training.url":"/training/","support.left.support.title":"\u30d7\u30ec\u30df\u30a2\u30e0 \u30b5\u30dd\u30fc\u30c8","support.left.support.body":"Performance \u30d7\u30e9\u30f3\u3068 Scale \u30d7\u30e9\u30f3\u3067\u306e\u307f\u53d7\u3051\u3089\u308c\u308b\u30b5\u30dd\u30fc\u30c8","support.left.support.url":"/support/premium-support/","support.left.features.title":"\u6539\u5584\u8981\u671b","support.left.features.body":"CircleCI Ideas \u30dd\u30fc\u30bf\u30eb\u304b\u3089\u3054\u610f\u898b\u3001\u3054\u8981\u671b\u3092\u304a\u5bc4\u305b\u304f\u3060\u3055\u3044","support.left.features.url":"https://ideas.circleci.com/","support.left.status.title":"\u30b9\u30c6\u30fc\u30bf\u30b9 \u30da\u30fc\u30b8","support.left.status.body":"CircleCI \u30b7\u30b9\u30c6\u30e0\u306e\u7a3c\u50cd\u72b6\u6cc1\u3068\u30a4\u30f3\u30b7\u30c7\u30f3\u30c8\u306e\u6700\u65b0\u60c5\u5831","support.left.status.url":"https://status.circleci.com/","support.right.forum.lede":"\u30b3\u30df\u30e5\u30cb\u30c6\u30a3 \u30d5\u30a9\u30fc\u30e9\u30e0","support.right.forum.title":"CircleCI Discuss","support.right.forum.body":"\u6700\u65b0\u60c5\u5831\u306e\u30c1\u30a7\u30c3\u30af\u3084\u76f8\u8ac7\u3092\u884c\u3048\u308b\u30b3\u30df\u30e5\u30cb\u30c6\u30a3 \u30d5\u30a9\u30fc\u30e9\u30e0","support.right.forum.cta":"\u8a73\u7d30\u3092\u78ba\u8a8d\u3059\u308b","support.right.forum.url":"https://discuss.circleci.com/","company.gray.about.title":"CircleCI \u306b\u3064\u3044\u3066","company.gray.about.body":"\u4e16\u754c\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2 \u30c1\u30fc\u30e0\u3067\u306f\u3001\u958b\u767a\u3092\u5927\u898f\u6a21\u3067\u78ba\u5b9f\u304b\u3064\u30b9\u30d4\u30fc\u30c7\u30a3\u306b\u884c\u3046\u305f\u3081\u306b CircleCI \u304c\u63a1\u7528\u3055\u308c\u3066\u3044\u307e\u3059\u3002","company.gray.about.url":"/about/","company.gray.about.cta":"\u8a73\u7d30\u3092\u78ba\u8a8d\u3059\u308b","company.left.partner.lede":"\u30d1\u30fc\u30c8\u30ca\u30fc\u52df\u96c6","company.left.partner.title":"CircleCI \u30d1\u30fc\u30c8\u30ca\u30fc \u30d7\u30ed\u30b0\u30e9\u30e0","company.left.partner.body":"\u62e1\u5927\u3092\u7d9a\u3051\u308b CircleCI \u30d1\u30fc\u30c8\u30ca\u30fc \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u53c2\u52a0\u3057\u307e\u305b\u3093\u304b","company.left.partner.url":"/partners/","company.left.contact.lede":"\u304a\u554f\u3044\u5408\u308f\u305b","company.left.contact.title":"CircleCI \u30c1\u30fc\u30e0\u3068\u30c1\u30e3\u30c3\u30c8\u3067\u76f8\u8ac7","company.left.contact.body":"CircleCI \u95a2\u3059\u308b\u8cea\u554f\u3084\u4e0d\u660e\u70b9\u304c\u3042\u308c\u3070\u3001CircleCI \u30c1\u30fc\u30e0\u306b\u3054\u76f8\u8ac7\u304f\u3060\u3055\u3044","company.left.contact.url":"/contact/","company.left.news.lede":"\u30cb\u30e5\u30fc\u30b9","company.left.news.title":"CircleCI \u30cb\u30e5\u30fc\u30b9","company.left.news.body":"CircleCI \u306e\u6700\u65b0\u30cb\u30e5\u30fc\u30b9\u3092\u304a\u5c4a\u3051\u3057\u307e\u3059","company.left.news.url":"/newsroom/","company.right.careers.lede":"\u63a1\u7528\u60c5\u5831","company.right.careers.image":"https://d3r49iyjzglexf.cloudfront.net/careers/top-grid-photo-01@2x-b59abbd38be24dc79f16ce7a21c4c9660de5ac8297b9305e5ef216b97e1380f5.jpg","company.right.careers.alt":"Seven CircleCI employees jumping in the air in front of the Bay Bridge wearing CircleCI t-shirts in a rainbow of hues","company.right.careers.title":"CircleCI \u63a1\u7528\u60c5\u5831","company.right.careers.body":"\u672a\u6765\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u751f\u307f\u51fa\u3059\u9769\u65b0\u7684\u306a CircleCI \u3092\u3001\u3042\u306a\u305f\u3082\u4e00\u7dd2\u306b\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u305b\u3093\u304b","company.right.careers.url":"/careers/","company.right.careers.cta":"\u8a73\u7d30\u3092\u78ba\u8a8d\u3059\u308b"}');function Qt(e){var t=e.gray,r=e.white,n=e.leftSpace,o=e.rightSpace,a=e.left,s=e.right,u=e.noLine,c=r?"tw_grid-cols-mm-2":"tw_grid-cols-mm-3",l=r?"tw_space-y-4":u?"tw_space-y-4 md:tw_space-y-0 md:tw_space-x-12 tw_flex tw_flex-col md:tw_flex-row":"tw_grid tw_grid-cols-mm-3-2",p=n?"tw_space-y-10":"tw_space-y-4",f=o?"tw_space-y-14":"tw_space-y-4",d=u?"md:tw_width-1/2":"tw_col-start-1 tw_row-start-1 tw_col-span-4 md:tw_col-span-1",h=u?"md:tw_width-1/2":"tw_col-start-1 md:tw_col-start-4 tw_row-start-3 md:tw_row-start-1 tw_col-span-4 md:tw_col-span-1";return(0,i.jsxs)("div",{className:"tw_grid ".concat(c),children:[(0,i.jsx)("div",{className:"tw_bg-gray-100 tw_col-start-1 sm:tw_col-start-1 tw_col-span-6 sm:tw_col-span-3 tw_row-span-1 tw_row-start-1"}),(0,i.jsx)("div",{className:"tw_col-start-2 sm:tw_col-start-2 tw_col-span-4 sm:tw_col-span-1 tw_row-start-1 tw_py-12 tw_divide-y tw_divide-gray-200",children:t}),(0,i.jsxs)("div",{className:"tw_col-start-2 sm:tw_col-start-5 tw_col-span-4 sm:tw_col-span-1 tw_row-start-2 sm:tw_row-start-1 tw_py-12 ".concat(l),children:[r,a&&(0,i.jsxs)(i.Fragment,{children:[!u&&(0,i.jsx)("div",{className:" tw_my-7 md:tw_my-0 tw_border-t md:tw_border-t-0 md:tw_border-l tw_border-gray-200 tw_col-start-1 md:tw_col-start-3 tw_col-span-4 md:tw_col-span-2 tw_row-start-2 md:tw_row-start-1 "}),(0,i.jsx)("div",{className:"".concat(d," ").concat(p),children:a}),(0,i.jsx)("div",{className:"".concat(h," ").concat(f),children:s})]})]})]})}function er(e){var t=e.lede;return(0,i.jsx)("h4",{className:"tw_text-sm tw_uppercase tw_text-gray-500 tw_tracking-widest tw_font-medium tw_mb-6",children:t})}function tr(e){var t=e.megaMenu,r=e.title,n=e.url,a=e.extraClasses,s=(0,o.useContext)(Pt).setMenu,u="tw_text-base tw_font-medium",c=a?"".concat(u," ").concat(a):u;return(0,i.jsx)("h5",{className:c,children:(0,i.jsxs)(Kt,{href:n,className:"tw_transition-colors hover:tw_text-blue-500",onClick:function(e){return s(e,t)},children:[r,n.startsWith("http")&&(0,i.jsx)("span",{className:"tw_inline-block tw_ml-1",children:(0,i.jsx)(qt,{})})]})})}function rr(e){var t=e.body;return(0,i.jsx)("p",{className:"tw_text-sm tw_text-gray-500",children:t})}function nr(e){var t=e.megaMenu,r=e.cta,n=e.url,a=e.extraClasses,s=(0,o.useContext)(Pt).setMenu,u="tw_font-medium tw_text-base",c=a?"".concat(u," ").concat(a):u;return(0,i.jsx)("div",{className:c,children:(0,i.jsxs)(Kt,{href:n,className:"tw_text-blue-500 hover:tw_font-bold hover:tw_text-blue-600",onClick:function(e){return s(e,t)},children:[r," ",(0,i.jsx)(Xt,{})]})})}function ir(e){var t=e.megaMenu,r=e.lede,n=e.title,o=e.body,a=e.content,s=e.ctas,u=e.i;return(0,i.jsxs)("div",{className:0===u?"tw_space-y-4":"tw_space-y-4 tw_mt-12 tw_pt-12",children:[r&&(0,i.jsx)(er,{lede:r}),n&&(0,i.jsx)("h3",{className:"tw_text-xl",children:n}),o&&(0,i.jsx)("p",{className:"tw_text-base",children:o}),a&&(0,i.jsx)("div",{className:"tw_space-y-2.5 tw_pb-2",children:a.map((function(e){var r=e.title,n=e.url;return(0,i.jsx)(tr,{megaMenu:t,title:r,url:n},r)}))}),s&&s.map((function(e){var r=e.cta,n=e.url;return(0,i.jsx)(nr,{megaMenu:t,url:n,cta:r},n)}))]})}function or(e){var t=e.megaMenu,r=e.lede,n=e.title,o=e.image,a=e.alt,s=e.body,u=e.cta,c=e.url;return(0,i.jsxs)("div",{children:[r&&(0,i.jsx)(er,{lede:r}),o&&(0,i.jsx)("img",{width:"300",height:"172",src:o,className:"tw_mb-4",alt:a}),n&&(0,i.jsx)(tr,{megaMenu:t,title:n,url:c,extraClasses:u&&"tw_mb-1.5"}),s&&(0,i.jsx)(rr,{body:s}),u&&(0,i.jsx)(nr,{megaMenu:t,url:c,cta:u,extraClasses:"tw_mt-4"})]})}function ar(e){var t=e.icon,r=e.title,n=e.url,o=e.body;return(0,i.jsxs)("div",{className:"tw_flex tw_flex-row tw_space-x-5 tw_items-center",children:[(0,i.jsx)("div",{className:"tw_w-12 tw_flex-shrink-0",children:t}),(0,i.jsxs)("div",{children:[(0,i.jsx)(tr,{megaMenu:"pricing",title:r,url:n}),(0,i.jsx)(rr,{body:o})]})]})}function sr(){var e=Rt().formatMessage,t=function(t){return e({id:t,defaultMessage:Zt[t]})},r="product",n="".concat(r,".gray"),o="".concat(r,".left"),a="".concat(r,".right");return(0,i.jsx)(Qt,{gray:(0,i.jsx)(ir,{megaMenu:r,title:t("".concat(n,".overview.title")),body:t("".concat(n,".overview.body")),ctas:[{cta:t("".concat(n,".overview.cta")),url:t("".concat(n,".overview.url"))}],i:0}),left:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(or,{megaMenu:r,title:t("".concat(o,".hosting.title")),url:t("".concat(o,".hosting.url")),body:t("".concat(o,".hosting.body"))}),(0,i.jsx)(or,{megaMenu:r,title:t("".concat(o,".execution.title")),url:t("".concat(o,".execution.url")),body:t("".concat(o,".execution.body"))}),(0,i.jsx)(or,{megaMenu:r,title:t("".concat(o,".integrations.title")),url:t("".concat(o,".integrations.url")),body:t("".concat(o,".integrations.body"))})]}),right:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(or,{megaMenu:r,title:t("".concat(a,".enterprise.title")),url:t("".concat(a,".enterprise.url")),body:t("".concat(a,".enterprise.body"))}),(0,i.jsx)(or,{megaMenu:r,title:t("".concat(a,".security.title")),url:t("".concat(a,".security.url")),body:t("".concat(a,".security.body"))})]})})}function ur(){return(0,i.jsx)("svg",{fill:"none",height:"48",viewBox:"0 0 48 48",width:"48",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[(0,i.jsx)("path",{d:"m9.5 37h27"}),(0,i.jsx)("path",{d:"m34.365 19.1551c.5386-.105 1.0862-.1569 1.635-.155 4.9706 0 9 4.0294 9 9 0 4.9705-4.0294 8.9999-9 8.9999"}),(0,i.jsx)("path",{d:"m10 37c-3.86599 0-7-3.134-7-7s3.13401-7 7-7c.3345.0004.6687.0238 1 .07"}),(0,i.jsx)("path",{d:"m11 23.0701v-.07c.0034-5.8728 4.2566-10.8803 10.0515-11.8339 5.7948-.9536 11.4284 2.4269 13.3135 7.9889"})]})})}function cr(){return(0,i.jsxs)("svg",{fill:"none",height:"48",viewBox:"0 0 48 48",width:"48",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",children:[(0,i.jsx)("rect",{height:"10",rx:"2",width:"42",x:"3",y:"5"}),(0,i.jsx)("rect",{height:"10",rx:"2",width:"42",x:"3",y:"33"}),(0,i.jsx)("rect",{height:"10",rx:"2",width:"42",x:"3",y:"19"})]}),(0,i.jsx)("circle",{cx:"10",cy:"10",fill:"currentColor",r:"2"}),(0,i.jsx)("circle",{cx:"10",cy:"24",fill:"currentColor",r:"2"}),(0,i.jsx)("circle",{cx:"10",cy:"38",fill:"currentColor",r:"2"}),(0,i.jsx)("path",{d:"m15 10h24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),(0,i.jsx)("path",{d:"m15 24h24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),(0,i.jsx)("path",{d:"m15 38h24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]})}function lr(){var e=Rt().formatMessage,t=function(t){return e({id:t,defaultMessage:Zt[t]})},r="pricing",n="".concat(r,".gray"),o="".concat(r,".white");return(0,i.jsx)(Qt,{gray:(0,i.jsx)(ir,{megaMenu:r,title:t("".concat(n,".title")),body:t("".concat(n,".body")),ctas:[{cta:t("".concat(n,".pricing.cta")),url:t("".concat(n,".pricing.url"))},{cta:t("".concat(n,".sales.cta")),url:t("".concat(n,".sales.url"))}],i:0}),white:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(er,{lede:t("".concat(o,".lede"))}),(0,i.jsx)(ar,{icon:(0,i.jsx)(ur,{}),title:t("".concat(o,".cloud.title")),url:t("".concat(o,".cloud.url")),body:t("".concat(o,".cloud.body"))}),(0,i.jsx)(ar,{icon:(0,i.jsx)(cr,{}),title:t("".concat(o,".server.title")),url:t("".concat(o,".server.url")),body:t("".concat(o,".server.body"))})]})})}function pr(){var e=Rt().formatMessage,t=function(t){return e({id:t,defaultMessage:Zt[t]})},r="developers",n="".concat(r,".gray"),o="".concat(r,".left"),a="".concat(r,".right");return(0,i.jsx)(Qt,{noLine:!0,gray:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ir,{megaMenu:r,title:t("".concat(n,".devhub.title")),body:t("".concat(n,".devhub.body")),ctas:[{cta:t("".concat(n,".devhub.cta")),url:t("".concat(n,".devhub.url"))}],i:0}),(0,i.jsx)(ir,{megaMenu:r,lede:t("".concat(n,".docs.lede")),ctas:[{cta:t("".concat(n,".docs.cta")),url:t("".concat(n,".docs.url"))}],i:1,content:[{title:"".concat(t("".concat(n,".docs.content.start.title"))),url:"".concat(t("".concat(n,".docs.content.start.url")))},{title:"".concat(t("".concat(n,".docs.content.hello.title"))),url:"".concat(t("".concat(n,".docs.content.hello.url")))},{title:"".concat(t("".concat(n,".docs.content.config.title"))),url:"".concat(t("".concat(n,".docs.content.config.url")))}]})]}),left:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(or,{megaMenu:r,title:t("".concat(o,".orbs.title")),url:t("".concat(o,".orbs.url")),body:t("".concat(o,".orbs.body"))}),(0,i.jsx)(or,{megaMenu:r,title:t("".concat(o,".images.title")),url:t("".concat(o,".images.url")),body:t("".concat(o,".images.body"))}),(0,i.jsx)(or,{megaMenu:r,title:t("".concat(o,".api.title")),url:t("".concat(o,".api.url")),body:t("".concat(o,".api.body"))}),(0,i.jsx)(or,{megaMenu:r,title:t("".concat(o,".cla.title")),url:t("".concat(o,".cla.url")),body:t("".concat(o,".cla.body"))}),(0,i.jsx)(or,{megaMenu:r,title:t("".concat(o,".cloud.title")),url:t("".concat(o,".cloud.url")),body:t("".concat(o,".cloud.body"))}),(0,i.jsx)(or,{megaMenu:r,title:t("".concat(o,".server.title")),url:t("".concat(o,".server.url")),body:t("".concat(o,".server.body"))})]}),right:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(or,{megaMenu:r,title:t("".concat(a,".discuss.title")),url:t("".concat(a,".discuss.url")),body:t("".concat(a,".discuss.body"))}),(0,i.jsx)(or,{megaMenu:r,title:t("".concat(a,".os.title")),url:t("".concat(a,".os.url")),body:t("".concat(a,".os.body"))})]})})}function fr(e){var t=e.lede,r=e.image,n=e.alt,o=e.title,a=e.url,s=e.date,u=e.readTime,c=e.eventTime,l=e.location;return(0,i.jsxs)("div",{children:[t&&(0,i.jsx)(er,{lede:t}),(0,i.jsxs)("div",{className:"tw_flex tw_flex-row tw_space-x-4 tw_items-start",children:[(0,i.jsx)("img",{width:"100",height:"56",src:r,alt:n}),(0,i.jsxs)("div",{className:"tw_transform tw_-translate-y-1",children:[(0,i.jsx)("h5",{className:"tw_mb-1.5 tw_text-base tw_leading-snug",children:(0,i.jsx)(Kt,{href:a,className:"tw_transition-colors hover:tw_text-blue-500",onClick:Ft({name:"click-outer-cta",props:{location:"top nav",category:"resources",page_location:"featured content ".concat(u?"1":"2")}}),children:o})}),(0,i.jsxs)("div",{className:"tw_divide-x tw_divide-gray-500 tw_flex tw_flex-row tw_text-xs tw_text-gray-500 tw_leading-3 tw_space-x-2",children:[s&&(0,i.jsx)("p",{className:"tw_uppercase",children:s}),u&&(0,i.jsx)("p",{className:"tw_uppercase tw_pl-2",children:u}),c&&(0,i.jsxs)("div",{className:"tw_flex tw_flex-row tw_items-center",children:[(0,i.jsx)("div",{className:"tw_mr-1",children:(0,i.jsx)(Wt,{})}),(0,i.jsx)("p",{className:"tw_uppercase",children:c})]}),l&&(0,i.jsxs)("div",{className:"tw_pl-2 tw_flex tw_flex-row tw_items-center",children:[(0,i.jsx)("div",{className:"tw_mr-1",children:(0,i.jsx)(Yt,{})}),(0,i.jsx)("p",{children:l})]})]})]})]})]})}function dr(){var e=Rt().formatMessage,t=function(t){return e({id:t,defaultMessage:Zt[t]})},r="resources",n="".concat(r,".gray"),o="".concat(r,".left"),a="".concat(r,".right");return(0,i.jsx)(Qt,{gray:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ir,{megaMenu:r,title:t("".concat(n,".library.title")),body:t("".concat(n,".library.body")),ctas:[{cta:t("".concat(n,".library.cta")),url:t("".concat(n,".library.url"))}],i:0}),(0,i.jsx)(ir,{megaMenu:r,title:t("".concat(n,".training.title")),body:t("".concat(n,".training.body")),ctas:[{cta:t("".concat(n,".training.cta")),url:t("".concat(n,".training.url"))}],i:1})]}),left:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(or,{megaMenu:r,title:t("".concat(o,".blog.title")),url:t("".concat(o,".blog.url")),body:t("".concat(o,".blog.body"))}),(0,i.jsx)(or,{megaMenu:r,title:t("".concat(o,".caseStudies.title")),url:t("".concat(o,".caseStudies.url")),body:t("".concat(o,".caseStudies.body"))}),(0,i.jsx)(or,{megaMenu:r,title:t("".concat(o,".ebooks.title")),url:t("".concat(o,".ebooks.url")),body:t("".concat(o,".ebooks.body"))}),(0,i.jsx)(or,{megaMenu:r,title:t("".concat(o,".reports.title")),url:t("".concat(o,".reports.url")),body:t("".concat(o,".reports.body"))}),(0,i.jsx)(or,{megaMenu:r,title:t("".concat(o,".videos.title")),url:t("".concat(o,".videos.url")),body:t("".concat(o,".videos.body"))}),(0,i.jsx)(or,{megaMenu:r,title:t("".concat(o,".events.title")),url:t("".concat(o,".events.url")),body:t("".concat(o,".events.body"))}),(0,i.jsx)(or,{megaMenu:r,title:t("".concat(o,".webinars.title")),url:t("".concat(o,".webinars.url")),body:t("".concat(o,".webinars.body"))})]}),rightSpace:!0,right:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(fr,{lede:t("".concat(a,".blog.lede")),title:t("".concat(a,".blog.title")),image:t("".concat(a,".blog.image")),alt:t("".concat(a,".blog.alt")),url:t("".concat(a,".blog.url")),date:t("".concat(a,".blog.publishDate")),readTime:t("".concat(a,".blog.readTime"))}),(0,i.jsx)(fr,{lede:t("".concat(a,".event.lede")),title:t("".concat(a,".event.title")),image:t("".concat(a,".event.image")),alt:t("".concat(a,".event.alt")),url:t("".concat(a,".event.url")),eventTime:t("".concat(a,".event.time")),location:t("".concat(a,".event.location"))})]})})}function hr(){var e=Rt().formatMessage,t=function(t){return e({id:t,defaultMessage:Zt[t]})},r="support",n="".concat(r,".gray"),o="".concat(r,".left"),a="".concat(r,".right");return(0,i.jsx)(Qt,{gray:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ir,{megaMenu:r,title:t("".concat(n,".support.title")),body:t("".concat(n,".support.body")),ctas:[{cta:t("".concat(n,".support.cta")),url:t("".concat(n,".support.url"))}],i:0}),(0,i.jsx)(ir,{megaMenu:r,title:t("".concat(n,".training.title")),body:t("".concat(n,".training.body")),ctas:[{cta:t("".concat(n,".training.cta")),url:t("".concat(n,".training.url"))}],i:1})]}),left:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(or,{megaMenu:r,title:t("".concat(o,".support.title")),url:t("".concat(o,".support.url")),body:t("".concat(o,".support.body"))}),(0,i.jsx)(or,{megaMenu:r,title:t("".concat(o,".features.title")),url:t("".concat(o,".features.url")),body:t("".concat(o,".features.body"))}),(0,i.jsx)(or,{megaMenu:r,title:t("".concat(o,".status.title")),url:t("".concat(o,".status.url")),body:t("".concat(o,".status.body"))})]}),right:(0,i.jsx)(or,{megaMenu:r,lede:t("".concat(a,".forum.lede")),title:t("".concat(a,".forum.title")),body:t("".concat(a,".forum.body")),cta:t("".concat(a,".forum.cta")),url:t("".concat(a,".forum.url"))})})}function gr(){var e=Rt().formatMessage,t=function(t){return e({id:t,defaultMessage:Zt[t]})},r="company",n="".concat(r,".gray"),o="".concat(r,".left"),a="".concat(r,".right");return(0,i.jsx)(Qt,{gray:(0,i.jsx)(ir,{megaMenu:r,title:t("".concat(n,".about.title")),body:t("".concat(n,".about.body")),ctas:[{cta:t("".concat(n,".about.cta")),url:t("".concat(n,".about.url"))}],i:0}),leftSpace:!0,left:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(or,{megaMenu:r,lede:t("".concat(o,".partner.lede")),title:t("".concat(o,".partner.title")),url:t("".concat(o,".partner.url")),body:t("".concat(o,".partner.body"))}),(0,i.jsx)(or,{megaMenu:r,lede:t("".concat(o,".contact.lede")),title:t("".concat(o,".contact.title")),url:t("".concat(o,".contact.url")),body:t("".concat(o,".contact.body"))}),(0,i.jsx)(or,{megaMenu:r,lede:t("".concat(o,".news.lede")),title:t("".concat(o,".news.title")),url:t("".concat(o,".news.url")),body:t("".concat(o,".news.body"))})]}),right:(0,i.jsx)(or,{megaMenu:r,lede:t("".concat(a,".careers.lede")),image:t("".concat(a,".careers.image")),alt:t("".concat(a,".careers.alt")),title:t("".concat(a,".careers.title")),body:t("".concat(a,".careers.body")),cta:t("".concat(a,".careers.cta")),url:t("".concat(a,".careers.url"))})})}function mr(){var e=(0,St.useRouter)(),t=(0,o.useContext)(Pt).setMenu,r=e.asPath,n="tw_w-full tw_flex tw_flex-row tw_justify-between tw_items-center hover:tw_font-medium";return(0,i.jsxs)("div",{className:"tw_mx-5 tw_divide-y tw_divide-gray-200",children:[Lt.map((function(e){var o=r.includes("/".concat(e,"/"))?" tw_font-bold":"";return(0,i.jsx)("div",{className:"tw_py-4".concat(o),children:(0,i.jsxs)("button",{className:n,onClick:function(r){return t(r,e)},children:[(0,i.jsx)(xt,{id:"nav.".concat(e),defaultMessage:Zt["nav.".concat(e)]}),(0,i.jsx)(Jt,{})]})},e)})),(0,i.jsx)("div",{className:"tw_py-4",children:(0,i.jsxs)("button",{className:n,onClick:function(e){return t(e,"language")},children:[(0,i.jsxs)("div",{className:"tw_flex tw_flex-row tw_space-x-4 tw_items-center",children:[(0,i.jsx)(zt,{}),(0,i.jsx)("span",{children:(0,i.jsx)(xt,{id:"nav.language",defaultMessage:Zt["nav.language"]})})]}),(0,i.jsx)(Jt,{})]})})]})}function vr(){var e=(0,St.useRouter)(),t={en:"English",ja:"\u65e5\u672c\u8a9e"},r=e.asPath,n=e.locale,o=e.locales,a=r.split("#")[0];return(0,i.jsx)("div",{className:"lg:tw_hidden tw_px-5 tw_divide-y tw_divide-gray-200",children:o.map((function(e){var r=e===n?" tw_font-bold":"",o=t[e]||e,s="en"!==e?"/".concat(e):"";return(0,i.jsx)("div",{className:"tw_py-4 ".concat(r),children:(0,i.jsxs)("a",{href:"".concat(s).concat(a),className:"tw_flex tw_flex-row tw_justify-between tw_items-center hover:tw_font-medium",onClick:Ft({name:"click-outer-cta",props:{location:"top nav",category:"language",page_location:"language - ".concat(e)}}),children:[o,(0,i.jsx)(Jt,{})]})},e)}))})}function yr(){var e=(0,St.useRouter)(),t={en:"English",ja:"\u65e5\u672c\u8a9e"},r=e.asPath,n=e.locale,o=e.locales,a=r.split("#")[0];return(0,i.jsxs)("div",{className:"tw_absolute tw_bg-white tw_shadow tw_z-30 tw_top-3/4 tw_mt-2",children:[(0,i.jsx)("div",{className:"tw_w-40"}),o.map((function(e){var r=e===n?" tw_bg-gray-100":"",o=t[e]||e,s="en"!==e?"/".concat(e):"";return(0,i.jsx)("a",{href:"".concat(s).concat(a),className:"tw_block\n              tw_my-1\n              tw_py-1\n              tw_px-5\n              ".concat(r,"\n              tw_transition-colors\n              hover:tw_font-bold\n              hover:tw_text-blue-500"),onClick:Ft({name:"click-outer-cta",props:{location:"top nav",category:"language",page_location:"language - ".concat(e)}}),children:o},e)}))]})}var _r=(0,o.createContext)(null),Er=function(e){var t=e.children,r=(0,o.useState)(null),n=r[0],a=r[1],s=(0,o.useState)(null),u=s[0],c=s[1],l=(0,o.useState)(null),p=l[0],f=l[1];return(0,o.useEffect)((function(){var e=localStorage.getItem("ajs_anonymous_id"),t=localStorage.getItem("ajs_user_id"),r=!t||"null"===t,n=!r&&t.slice(1,-1)||e&&e.slice(1,-1);e&&c(e.slice(1,-1)),!r&&t&&f(t.slice(1,-1)),n&&a(n)}),[]),(0,i.jsx)(_r.Provider,{value:{id:n,idAnon:u,idUser:p},children:t})};function br(e){var t=e.children,r="mobile"===(0,o.useContext)(Pt).menu?"lg:tw_hidden":"";return(0,i.jsxs)("div",{className:"".concat(r," tw_fixed tw_inset-x-0 tw_max-h-menu tw_bg-white tw_border-t tw_shadow-lg tw_z-20 tw_border-gray-200 tw_antialiased"),children:[(0,i.jsx)("div",{className:"tw_overflow-y-auto tw_max-h-menu-mobile lg:tw_max-h-menu",children:t}),(0,i.jsx)(Ir,{})]})}function Ir(){var e=(0,o.useContext)(_r).idUser;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"lg:tw_hidden tw_h-40 tw_mt-3 tw_mb-px"}),(0,i.jsxs)("div",{className:"tw_absolute tw_bottom-0 tw_inset-x-0 tw_bg-white lg:tw_hidden tw_px-5 tw_border-t tw_border-gray-200 tw_py-7 tw_space-y-7",children:[e?(0,i.jsx)("a",{href:"https://app.circleci.com/dashboard",className:"tw_block tw_p-3 tw_bg-green-500 tw_text-white tw_font-bold tw_text-center tw_rounded",onClick:Ft({name:"click-outer-cta",props:{location:"top nav",category:"go to app"}}),children:(0,i.jsx)(xt,{id:"nav.gotoapp",defaultMessage:Zt["nav.gotoapp"]})}):(0,i.jsx)(Kt,{href:"/signup/",className:"tw_block tw_p-3 tw_bg-green-500 tw_text-white tw_font-bold tw_text-center tw_rounded",onClick:Ft({name:"click-outer-cta",props:{location:"top nav",category:"signup"}}),children:(0,i.jsx)(xt,{id:"nav.signup",defaultMessage:Zt["nav.signup"]})}),(0,i.jsxs)("div",{className:"tw_divide-gray-200 tw_divide-x tw_flex tw_flex-row tw_justify-center",children:[(0,i.jsxs)(Kt,{href:"/contact/",className:"tw_px-6 tw_leading-10 tw_text-center tw_relative hover:tw_font-medium",onClick:Ft({name:"click-outer-cta",props:{location:"top nav",category:"contact"}}),children:[(0,i.jsx)("span",{className:"tw_absolute",children:(0,i.jsx)(xt,{id:"nav.contact",defaultMessage:Zt["nav.contact"]})}),(0,i.jsx)("span",{className:"tw_font-bold tw_text-transparent","aria-hidden":!0,children:(0,i.jsx)(xt,{id:"nav.contact",defaultMessage:Zt["nav.contact"]})})]}),!e&&(0,i.jsxs)(Kt,{href:"/vcs-authorize/",className:"tw_px-6 tw_leading-10 tw_text-center tw_relative hover:tw_font-medium",onClick:Ft({name:"click-outer-cta",props:{location:"top nav",category:"login"}}),children:[(0,i.jsx)("span",{className:"tw_absolute",children:(0,i.jsx)(xt,{id:"nav.login",defaultMessage:Zt["nav.login"]})}),(0,i.jsx)("span",{className:"tw_font-bold tw_text-transparent","aria-hidden":!0,children:(0,i.jsx)(xt,{id:"nav.login",defaultMessage:Zt["nav.login"]})})]})]})]})]})}function wr(e){switch(e.menu){case"product":return(0,i.jsx)(sr,{});case"pricing":return(0,i.jsx)(lr,{});case"developers":return(0,i.jsx)(pr,{});case"resources":return(0,i.jsx)(dr,{});case"support":return(0,i.jsx)(hr,{});case"company":return(0,i.jsx)(gr,{});case"mobile":return(0,i.jsx)(mr,{});case"language":return(0,i.jsx)(vr,{});default:return null}}function Tr(e){var t=e.menu;return t?(0,i.jsx)(br,{children:(0,i.jsx)(wr,{menu:t})}):null}function Or(e){var t=e.currentMenu,r=e.asPath,n=e.href,o=e.handleClick,a=e.menuToShow,s=e.children;"company"==a&&(n="/about/");var u=t==a,c=r.includes(n)&&!function(e,t){var r=!1,n=function(e){switch(e){case"company":return["team"];case"resources":return["events","webinars"];default:return null}}(e);return n&&(r=n.some((function(e){return t.includes(e)}))),r}(a,r),l=c?" tw_font-bold":u?" tw_font-medium":"",p="tw_mx-4 tw_py-5 tw_mt-1 tw_border-b-4 tw_border-transparent ".concat(t?u?" tw_border-green-500":"":c?" tw_border-green-500":""),f="tw_block tw_relative hover:tw_font-medium ".concat(l),d="tw_font-bold tw_text-transparent tw_pointer-events-none",h="tw_absolute tw_w-full tw_left-1/2 tw_top-1/2 tw_transform tw_-translate-x-1/2 tw_-translate-y-1/2";return o?(0,i.jsx)("div",{className:p,children:(0,i.jsxs)("button",{className:f,onClick:function(e){return o(e,a)},children:[(0,i.jsx)("span",{className:d,"aria-hidden":!0,children:s}),(0,i.jsx)("span",{className:h,children:s})]})}):(0,i.jsx)("div",{className:p,children:(0,i.jsxs)(Kt,{href:n,className:"".concat(f," tw_text-center"),onClick:Ft({name:"click-outer-cta",props:{location:"top nav",category:a}}),children:[(0,i.jsx)("span",{className:d,"aria-hidden":!0,children:s}),(0,i.jsx)("span",{className:h,children:s})]})})}function Nr(e){var t=e.currentMenu,r=e.asPath,n="tw_py-3 tw_px-4 tw_ml-4 tw_bg-green-500 tw_text-white tw_font-bold tw_text-center tw_rounded tw_-my-1.5";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("a",{href:"https://app.circleci.com/dashboard",className:"".concat(n," customers-only"),onClick:Ft({name:"click-outer-cta",props:{location:"top nav",category:"go to app"}}),children:(0,i.jsx)(xt,{id:"nav.gotoapp",defaultMessage:Zt["nav.gotoapp"]})}),(0,i.jsx)("div",{className:"tw_h-10 tw_w-px tw_mx-2.5 tw_bg-gray-200 noncustomers-only"}),(0,i.jsx)("div",{className:"noncustomers-only",children:(0,i.jsx)(Or,{currentMenu:t,asPath:r,href:"/vcs-authorize/",menuToShow:"login",children:(0,i.jsx)(xt,{id:"nav.login",defaultMessage:Zt["nav.login"]})})}),(0,i.jsx)(Kt,{href:"/signup/",className:"tw_w-28 ".concat(n," noncustomers-only"),onClick:Ft({name:"click-outer-cta",props:{location:"top nav",category:"signup"}}),children:(0,i.jsx)(xt,{id:"nav.signup",defaultMessage:Zt["nav.signup"]})})]})}function Rr(e){var t=e.menu,r=e.handleClick,n="tw_h-0.5 tw_transition-transform",o=!!t,a=o?"tw_transform tw_-rotate-45 tw_origin-right tw_bg-black":"tw_bg-black",s=o?"tw_bg-transparent":"tw_bg-black",u=o?"tw_transform tw_rotate-45 tw_origin-right tw_bg-black":"tw_bg-black",c=t&&"mobile"!==t?null:"mobile";return(0,i.jsx)("div",{className:"tw_py-7 lg:tw_hidden",children:(0,i.jsxs)("button",{className:"tw_w-5 tw_h-4 tw_flex tw_flex-col tw_justify-between tw_items-stretch",onClick:function(e){return r(e,c)},children:[(0,i.jsx)("div",{className:"".concat(n," ").concat(a)}),(0,i.jsx)("div",{className:"".concat(n," ").concat(s)}),(0,i.jsx)("div",{className:"".concat(n," ").concat(u)}),(0,i.jsx)("span",{className:"tw_sr-only",children:(0,i.jsx)(xt,{id:"nav.menu",defaultMessage:Zt["nav.menu"]})})]})})}function Ar(){var e=(0,o.useState)(null),t=e[0],r=e[1],n=(0,o.useState)(""),a=n[0],s=n[1],u=(0,St.useRouter)(),c=u.locale,l=u.defaultLocale,p=c==l?Zt:$t,f=t&&"mobile"!==t,d="language"==t,h=d?" tw_bg-black lg:tw_bg-transparent":"tw_bg-black",g="mobile"==t,m=g?"lg:tw_hidden":"",v=g||d?"lg:tw_hidden":"",y=function(e,n){var i=e.currentTarget,o=i.href,a=i.target,s=e.target.textContent.trim()||i.textContent.trim();a||e.preventDefault(),Mt("click-outer-cta",{location:"top nav",category:n,page_location:"mega menu - ".concat(n),cta_text:s}),r(n===t?null:n),o&&!a&&(window.location=o)};return(0,o.useEffect)((function(){s(window.location.pathname)}),[s]),(0,i.jsx)(Nt,{locale:c,defaultLocale:l,messages:p,children:(0,i.jsxs)(Pt.Provider,{value:{menu:t,setMenu:y},children:[t&&(0,i.jsx)("div",{className:"\n              ".concat(m,"\n              tw_fixed\n              tw_border-t-8\n              tw_border-transparent\n              tw_top-16\n              tw_left-0\n              tw_bottom-0\n              tw_right-0\n              ").concat(h,"\n              tw_bg-opacity-30\n              tw_z-10\n            "),onClick:function(){return r(null)}}),(0,i.jsx)("div",{className:"tw_py-9 tw_antialiased tw_text-base",children:(0,i.jsx)("header",{className:"tw_bg-white tw_shadow-md tw_fixed tw_grid tw_grid-cols-mm-3 tw_top-0 tw_left-0 tw_right-0 tw_z-20",children:(0,i.jsx)("div",{className:"tw_col-start-2 tw_col-span-4",children:(0,i.jsxs)("nav",{className:"tw_flex tw_flex-row tw_justify-between tw_items-center",children:[(0,i.jsxs)("div",{className:"tw_flex tw_flex-row tw_items-center",children:[(0,i.jsx)("a",{href:"#main",className:"tw_opacity-0 tw_absolute tw_top-0 tw_transform tw_-translate-y-full focus:tw_opacity-100 focus:tw_translate-y-0",children:(0,i.jsx)(xt,{id:"nav.skip",defaultMessage:Zt["nav.skip"]})}),f&&(0,i.jsx)("div",{className:"lg:tw_hidden",children:(0,i.jsxs)("button",{className:"tw_p-2 tw_-ml-2",onClick:function(e){return y(e,"mobile")},children:[(0,i.jsx)(Jt,{direction:"l"}),(0,i.jsx)("span",{className:"tw_sr-only",children:(0,i.jsx)(xt,{id:"nav.back",defaultMessage:Zt["nav.back"]})})]})}),(0,i.jsxs)(Kt,{href:"/",className:"tw_mr-7 ".concat(f?"tw_hidden":""," lg:tw_block"),onClick:Ft({name:"click-outer-cta",props:{location:"top nav",category:"logo"}}),children:[(0,i.jsx)(Ht,{}),(0,i.jsx)("span",{className:"tw_sr-only",children:(0,i.jsx)(xt,{id:"nav.home",defaultMessage:Zt["nav.home"]})})]}),(0,i.jsx)("div",{className:"tw_hidden lg:tw_flex tw_flex-row",children:Lt.map((function(e){return(0,i.jsx)(Or,{currentMenu:t,asPath:a,href:"/".concat(e,"/"),handleClick:y,menuToShow:e,children:(0,i.jsx)(xt,{id:"nav.".concat(e),defaultMessage:Zt["nav.".concat(e)]})},e)}))})]}),t&&"mobile"!==t&&(0,i.jsx)("div",{className:"lg:tw_hidden tw_font-bold tw_text-lg",children:(0,i.jsx)(xt,{id:"nav.".concat(t),defaultMessage:Zt["nav.".concat(t)]})}),(0,i.jsxs)("div",{className:"tw_hidden lg:tw_flex tw_flex-row tw_items-center customers-status",children:[(0,i.jsxs)("div",{className:"tw_flex tw_flex-row tw_items-center tw_relative",children:[(0,i.jsxs)("button",{className:"tw_mx-4 tw_transition-colors hover:tw_text-green-500 customers-status-known",onClick:function(e){return y(e,"language")},children:[(0,i.jsx)(zt,{}),(0,i.jsx)("span",{className:"tw_sr-only",children:(0,i.jsx)(xt,{id:"nav.language",defaultMessage:Zt["nav.language"]})})]}),"language"==t&&(0,i.jsx)(yr,{}),(0,i.jsx)("div",{className:"customers-status-known",children:(0,i.jsx)(Or,{currentMenu:t,asPath:a,href:"/contact/",menuToShow:"contact",children:(0,i.jsx)(xt,{id:"nav.contact",defaultMessage:Zt["nav.contact"]})})})]}),(0,i.jsx)(Nr,{currentMenu:t,asPath:a})]}),(0,i.jsx)(Rr,{menu:t,handleClick:y})]})})})}),t&&(0,i.jsx)("div",{className:v,children:(0,i.jsx)(Tr,{menu:t})})]})})}function Cr(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(Ar,{})})}var xr=r(2150),Sr=(0,xr.Fs)({sdkKey:"GfYszBpMkefBSwiiEkH3b3",datafile:window.datafile,datafileOptions:{autoUpdate:!0,urlTemplate:"https://app.circleci.com/private/experiments/datafiles/%s.json"},eventBatchSize:10,eventFlushInterval:1e3});function Lr(e){var t=e.children;var r=(0,o.useContext)(_r).id;return(0,i.jsx)(xr.dH,{optimizely:Sr,user:{id:r},children:t})}function Pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}(0,xr.Ub)("error");var kr=function(e){var t=e.Component,r=e.pageProps;return(0,i.jsx)(Er,{children:(0,i.jsx)(Lr,{children:(0,i.jsx)(Cr,{children:(0,i.jsx)(t,Ur({},r))})})})}},1780:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(6812)}])},162:function(){},6641:function(){},1163:function(e,t,r){e.exports=r(4651)},4155:function(e){var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,u=[],c=!1,l=-1;function p(){c&&s&&(c=!1,s.length?u=s.concat(u):l=-1,u.length&&f())}function f(){if(!c){var e=a(p);c=!0;for(var t=u.length;t;){for(s=u,u=[];++l<t;)s&&s[l].run();l=-1,t=u.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function h(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new d(e,t)),1!==u.length||c||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=h,n.addListener=h,n.once=h,n.off=h,n.removeListener=h,n.removeAllListeners=h,n.emit=h,n.prependListener=h,n.prependOnceListener=h,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},9921:function(e,t){"use strict";var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,l=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,E=r?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case l:case p:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case m:case g:case u:return e;default:return t}}case i:return t}}}function I(e){return b(e)===p}t.AsyncMode=l,t.ConcurrentMode=p,t.ContextConsumer=c,t.ContextProvider=u,t.Element=n,t.ForwardRef=f,t.Fragment=o,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return I(e)||b(e)===l},t.isConcurrentMode=I,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return b(e)===f},t.isFragment=function(e){return b(e)===o},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===g},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===a},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===p||e===s||e===a||e===d||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===_||e.$$typeof===E||e.$$typeof===v)},t.typeOf=b},9864:function(e,t,r){"use strict";e.exports=r(9921)},7662:function(e){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t,r){"use strict";var n=r(12),i={};function o(e,t){return t===a(e)}function a(e){var t=typeof e;return"object"!==t?t:e?e instanceof Error?"error":{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase():"null"}function s(e){return o(e,"function")}function u(e){var t=Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),r=RegExp("^"+t+"$");return c(e)&&r.test(e)}function c(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function l(){var e=v();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:7&r|8).toString(16)}))}var p={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function f(e,t){var r,n;try{r=i.stringify(e)}catch(i){if(t&&s(t))try{r=t(e)}catch(e){n=e}else n=i}return{error:n,value:r}}function d(e,t){return function(r,n){try{t(r,n)}catch(t){e.error(t)}}}var h=["log","network","dom","navigation","error","manual"],g=["critical","error","warning","info","debug"];function m(e,t){for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1}function v(){return Date.now?+Date.now():+new Date}e.exports={addParamsAndAccessTokenToPath:function(e,t,r){(r=r||{}).access_token=e;var n,i=[];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&i.push([n,r[n]].join("="));var o="?"+i.sort().join("&");(t=t||{}).path=t.path||"";var a,s=t.path.indexOf("?"),u=t.path.indexOf("#");-1!==s&&(-1===u||u>s)?(a=t.path,t.path=a.substring(0,s)+o+"&"+a.substring(s+1)):-1!==u?(a=t.path,t.path=a.substring(0,u)+o+a.substring(u)):t.path=t.path+o},createItem:function(e,t,r,i,o){for(var s,u,c,p,f,h,g=[],m=[],y=0,_=e.length;y<_;++y){var E=a(h=e[y]);switch(m.push(E),E){case"undefined":break;case"string":s?g.push(h):s=h;break;case"function":p=d(t,h);break;case"date":g.push(h);break;case"error":case"domexception":case"exception":u?g.push(h):u=h;break;case"object":case"array":if(h instanceof Error||"undefined"!=typeof DOMException&&h instanceof DOMException){u?g.push(h):u=h;break}if(i&&"object"===E&&!f){for(var b=0,I=i.length;b<I;++b)if(void 0!==h[i[b]]){f=h;break}if(f)break}c?g.push(h):c=h;break;default:if(h instanceof Error||"undefined"!=typeof DOMException&&h instanceof DOMException){u?g.push(h):u=h;break}g.push(h)}}g.length>0&&((c=n(c)).extraArgs=g);var w={message:s,err:u,custom:c,timestamp:v(),callback:p,notifier:r,diagnostic:{},uuid:l()};return function(e,t){t&&void 0!==t.level&&(e.level=t.level,delete t.level),t&&void 0!==t.skipFrames&&(e.skipFrames=t.skipFrames,delete t.skipFrames)}(w,c),i&&f&&(w.request=f),o&&(w.lambdaContext=o),w._originalArgs=e,w.diagnostic.original_arg_types=m,w},addErrorContext:function(e,t){var r=e.data.custom||{},i=!1;try{for(var o=0;o<t.length;++o)t[o].hasOwnProperty("rollbarContext")&&(r=n(r,t[o].rollbarContext),i=!0);i&&(e.data.custom=r)}catch(t){e.diagnostic.error_context="Failed: "+t.message}},createTelemetryEvent:function(e){for(var t,r,n,i,o=0,s=e.length;o<s;++o)switch(a(i=e[o])){case"string":!t&&m(h,i)?t=i:!n&&m(g,i)&&(n=i);break;case"object":r=i}return{type:t||"manual",metadata:r||{},level:n}},filterIp:function(e,t){if(e&&e.user_ip&&!0!==t){var r=e.user_ip;if(t)try{var n;if(-1!==r.indexOf("."))(n=r.split(".")).pop(),n.push("0"),r=n.join(".");else if(-1!==r.indexOf(":")){if((n=r.split(":")).length>2){var i=n.slice(0,3),o=i[2].indexOf("/");-1!==o&&(i[2]=i[2].substring(0,o)),r=i.concat("0000:0000:0000:0000:0000").join(":")}}else r=null}catch(e){r=null}else r=null;e.user_ip=r}},formatArgsAsString:function(e){var t,r,n,i=[];for(t=0,r=e.length;t<r;++t){switch(a(n=e[t])){case"object":(n=(n=f(n)).error||n.value).length>500&&(n=n.substr(0,497)+"...");break;case"null":n="null";break;case"undefined":n="undefined";break;case"symbol":n=n.toString()}i.push(n)}return i.join(" ")},formatUrl:function(e,t){if(!(t=t||e.protocol)&&e.port&&(80===e.port?t="http:":443===e.port&&(t="https:")),t=t||"https:",!e.hostname)return null;var r=t+"//"+e.hostname;return e.port&&(r=r+":"+e.port),e.path&&(r+=e.path),r},get:function(e,t){if(e){var r=t.split("."),n=e;try{for(var i=0,o=r.length;i<o;++i)n=n[r[i]]}catch(e){n=void 0}return n}},handleOptions:function(e,t,r,i){var o=n(e,t,r);return o=function(e,t){return e.hostWhiteList&&!e.hostSafeList&&(e.hostSafeList=e.hostWhiteList,e.hostWhiteList=void 0,t&&t.log("hostWhiteList is deprecated. Use hostSafeList.")),e.hostBlackList&&!e.hostBlockList&&(e.hostBlockList=e.hostBlackList,e.hostBlackList=void 0,t&&t.log("hostBlackList is deprecated. Use hostBlockList.")),e}(o,i),!t||t.overwriteScrubFields||t.scrubFields&&(o.scrubFields=(e.scrubFields||[]).concat(t.scrubFields)),o},isError:function(e){return o(e,"error")||o(e,"exception")},isFunction:s,isIterable:function(e){var t=a(e);return"object"===t||"array"===t},isNativeFunction:u,isType:o,isObject:c,isString:function(e){return"string"==typeof e||e instanceof String},jsonParse:function(e){var t,r;try{t=i.parse(e)}catch(e){r=e}return{error:r,value:t}},LEVELS:{debug:0,info:1,warning:2,error:3,critical:4},makeUnhandledStackInfo:function(e,t,r,n,i,o,a,s){var u={url:t||"",line:r,column:n};u.func=s.guessFunctionName(u.url,u.line),u.context=s.gatherContext(u.url,u.line);var c=document&&document.location&&document.location.href,l=window&&window.navigator&&window.navigator.userAgent;return{mode:o,message:i?String(i):e||a,url:c,stack:[u],useragent:l}},merge:n,now:v,redact:function(){return"********"},RollbarJSON:i,sanitizeUrl:function(e){var t=function(e){if(o(e,"string")){for(var t=p,r=t.parser[t.strictMode?"strict":"loose"].exec(e),n={},i=0,a=t.key.length;i<a;++i)n[t.key[i]]=r[i]||"";return n[t.q.name]={},n[t.key[12]].replace(t.q.parser,(function(e,r,i){r&&(n[t.q.name][r]=i)})),n}}(e);return t?(""===t.anchor&&(t.source=t.source.replace("#","")),e=t.source.replace("?"+t.query,"")):"(unknown)"},set:function(e,t,r){if(e){var n=t.split("."),i=n.length;if(!(i<1))if(1!==i)try{for(var o=e[n[0]]||{},a=o,s=1;s<i-1;++s)o[n[s]]=o[n[s]]||{},o=o[n[s]];o[n[i-1]]=r,e[n[0]]=a}catch(e){return}else e[n[0]]=r}},setupJSON:function(e){s(i.stringify)&&s(i.parse)||(o(JSON,"undefined")||(e?(u(JSON.stringify)&&(i.stringify=JSON.stringify),u(JSON.parse)&&(i.parse=JSON.parse)):(s(JSON.stringify)&&(i.stringify=JSON.stringify),s(JSON.parse)&&(i.parse=JSON.parse))),s(i.stringify)&&s(i.parse)||e&&e(i))},stringify:f,maxByteSize:function(e){for(var t=0,r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);i<128?t+=1:i<2048?t+=2:i<65536&&(t+=3)}return t},typeName:a,uuid4:l}},function(e,t,r){"use strict";r(17);var n=r(18),i=r(0);e.exports={error:function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("Rollbar:"),n.ieVersion()<=8?console.error(i.formatArgsAsString(e)):console.error.apply(console,e)},info:function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("Rollbar:"),n.ieVersion()<=8?console.info(i.formatArgsAsString(e)):console.info.apply(console,e)},log:function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("Rollbar:"),n.ieVersion()<=8?console.log(i.formatArgsAsString(e)):console.log.apply(console,e)}}},function(e,t,r){"use strict";e.exports={parse:function(e){var t,r,n={protocol:null,auth:null,host:null,path:null,hash:null,href:e,hostname:null,port:null,pathname:null,search:null,query:null};if(-1!==(t=e.indexOf("//"))?(n.protocol=e.substring(0,t),r=t+2):r=0,-1!==(t=e.indexOf("@",r))&&(n.auth=e.substring(r,t),r=t+1),-1===(t=e.indexOf("/",r))){if(-1===(t=e.indexOf("?",r)))return-1===(t=e.indexOf("#",r))?n.host=e.substring(r):(n.host=e.substring(r,t),n.hash=e.substring(t)),n.hostname=n.host.split(":")[0],n.port=n.host.split(":")[1],n.port&&(n.port=parseInt(n.port,10)),n;n.host=e.substring(r,t),n.hostname=n.host.split(":")[0],n.port=n.host.split(":")[1],n.port&&(n.port=parseInt(n.port,10)),r=t}else n.host=e.substring(r,t),n.hostname=n.host.split(":")[0],n.port=n.host.split(":")[1],n.port&&(n.port=parseInt(n.port,10)),r=t;if(-1===(t=e.indexOf("#",r))?n.path=e.substring(r):(n.path=e.substring(r,t),n.hash=e.substring(t)),n.path){var i=n.path.split("?");n.pathname=i[0],n.query=i[1],n.search=n.query?"?"+n.query:null}return n}}},function(e,t,r){"use strict";var n=r(22),i=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");function o(){return null}function a(e){var t={};return t._stackFrame=e,t.url=e.fileName,t.line=e.lineNumber,t.func=e.functionName,t.column=e.columnNumber,t.args=e.args,t.context=null,t}function s(e,t){return{stack:function(){var r=[];t=t||0;try{r=n.parse(e)}catch(e){r=[]}for(var i=[],o=t;o<r.length;o++)i.push(new a(r[o]));return i}(),message:e.message,name:u(e),rawStack:e.stack,rawException:e}}function u(e){var t=e.name&&e.name.length&&e.name,r=e.constructor.name&&e.constructor.name.length&&e.constructor.name;return t&&r?"Error"===t?r:t:t||r}e.exports={guessFunctionName:function(){return"?"},guessErrorClass:function(e){if(!e||!e.match)return["Unknown error. There was no error message to display.",""];var t=e.match(i),r="(unknown)";return t&&(r=t[t.length-1],e=(e=e.replace((t[t.length-2]||"")+r+":","")).replace(/(^[\s]+|[\s]+$)/g,"")),[r,e]},gatherContext:o,parse:function(e,t){var r=e;if(r.nested){for(var n=[];r;)n.push(new s(r,t)),r=r.nested,t=0;return n[0].traceChain=n,n[0]}return new s(r,t)},Stack:s,Frame:a}},function(e,t,r){"use strict";var n=r(0),i=r(5);function o(e,t){var r=t.split("."),i=r.length-1;try{for(var o=0;o<=i;++o)o<i?e=e[r[o]]:e[r[o]]=n.redact()}catch(e){}}e.exports=function(e,t,r){if(t=t||[],r)for(var a=0;a<r.length;++a)o(e,r[a]);var s=function(e){for(var t,r=[],n=0;n<e.length;++n)t="^\\[?(%5[bB])?"+e[n]+"\\[?(%5[bB])?\\]?(%5[dD])?$",r.push(new RegExp(t,"i"));return r}(t),u=function(e){for(var t,r=[],n=0;n<e.length;++n)t="\\[?(%5[bB])?"+e[n]+"\\[?(%5[bB])?\\]?(%5[dD])?",r.push(new RegExp("("+t+"=)([^&\\n]+)","igm"));return r}(t);function c(e,t){return t+n.redact()}return i(e,(function e(t,r,o){var a=function(e,t){var r;for(r=0;r<s.length;++r)if(s[r].test(e)){t=n.redact();break}return t}(t,r);return a===r?n.isType(r,"object")||n.isType(r,"array")?i(r,e,o):function(e){var t;if(n.isType(e,"string"))for(t=0;t<u.length;++t)e=e.replace(u[t],c);return e}(a):a}))}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t,r){var i,o,a,s,u=n.isType(e,"object"),c=n.isType(e,"array"),l=[];if(r=r||{obj:[],mapped:[]},u){if(s=r.obj.indexOf(e),u&&-1!==s)return r.mapped[s]||r.obj[s];r.obj.push(e),s=r.obj.length-1}if(u)for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&l.push(i);else if(c)for(a=0;a<e.length;++a)l.push(a);var p=u?{}:[],f=!0;for(a=0;a<l.length;++a)o=e[i=l[a]],p[i]=t(i,o,r),f=f&&p[i]===e[i];return u&&!f&&(r.mapped[s]=p),f?e:p}},function(e,t,r){e.exports=r(7)},function(e,t,r){"use strict";var n=r(8),i="undefined"!=typeof window&&window._rollbarConfig,o=i&&i.globalAlias||"Rollbar",a="undefined"!=typeof window&&window[o]&&"function"==typeof window[o].shimId&&void 0!==window[o].shimId();if("undefined"==typeof window||window._rollbarStartTime||(window._rollbarStartTime=(new Date).getTime()),!a&&i){var s=new n(i);window[o]=s}else"undefined"!=typeof window?(window.rollbar=n,window._rollbarDidLoad=!0):"undefined"!=typeof self&&(self.rollbar=n,self._rollbarDidLoad=!0);e.exports=n},function(e,t,r){"use strict";var n=r(9),i=r(29),o=r(30),a=r(32),s=r(34),u=r(4),c=r(35);n.setComponents({telemeter:i,instrumenter:o,polyfillJSON:a,wrapGlobals:s,scrub:u,truncation:c}),e.exports=n},function(e,t,r){"use strict";var n=r(10),i=r(0),o=r(15),a=r(1),s=r(19),u=r(20),c=r(2),l=r(21),p=r(24),f=r(25),d=r(26),h=r(3);function g(e,t){this.options=i.handleOptions(I,e,null,a),this.options._configuredOptions=e;var r=this.components.telemeter,s=this.components.instrumenter,h=this.components.polyfillJSON;this.wrapGlobals=this.components.wrapGlobals,this.scrub=this.components.scrub;var g=this.components.truncation,m=new u(g),v=new o(this.options,m,c,g);r&&(this.telemeter=new r(this.options)),this.client=t||new n(this.options,v,a,this.telemeter,"browser");var y=_(),E="undefined"!=typeof document&&document;this.isChrome=y.chrome&&y.chrome.runtime,this.anonymousErrorsPending=0,function(e,t,r){e.addTransform(l.handleDomException).addTransform(l.handleItemWithError).addTransform(l.ensureItemHasSomethingToSay).addTransform(l.addBaseInfo).addTransform(l.addRequestInfo(r)).addTransform(l.addClientInfo(r)).addTransform(l.addPluginInfo(r)).addTransform(l.addBody).addTransform(p.addMessageWithError).addTransform(p.addTelemetryData).addTransform(p.addConfigToPayload).addTransform(l.addScrubber(t.scrub)).addTransform(p.userTransform(a)).addTransform(p.addConfiguredOptions).addTransform(p.addDiagnosticKeys).addTransform(p.itemToPayload)}(this.client.notifier,this,y),this.client.queue.addPredicate(d.checkLevel).addPredicate(f.checkIgnore).addPredicate(d.userCheckIgnore(a)).addPredicate(d.urlIsNotBlockListed(a)).addPredicate(d.urlIsSafeListed(a)).addPredicate(d.messageIsIgnored(a)),this.setupUnhandledCapture(),s&&(this.instrumenter=new s(this.options,this.client.telemeter,this,y,E),this.instrumenter.instrument()),i.setupJSON(h)}var m=null;function v(e){var t="Rollbar is not initialized";a.error(t),e&&e(new Error(t))}function y(e){for(var t=0,r=e.length;t<r;++t)if(i.isFunction(e[t]))return e[t]}function _(){return"undefined"!=typeof window&&window||"undefined"!=typeof self&&self}g.init=function(e,t){return m?m.global(e).configure(e):m=new g(e,t)},g.prototype.components={},g.setComponents=function(e){g.prototype.components=e},g.prototype.global=function(e){return this.client.global(e),this},g.global=function(e){if(m)return m.global(e);v()},g.prototype.configure=function(e,t){var r=this.options,n={};return t&&(n={payload:t}),this.options=i.handleOptions(r,e,n,a),this.options._configuredOptions=i.handleOptions(r._configuredOptions,e,n),this.client.configure(this.options,t),this.instrumenter&&this.instrumenter.configure(this.options),this.setupUnhandledCapture(),this},g.configure=function(e,t){if(m)return m.configure(e,t);v()},g.prototype.lastError=function(){return this.client.lastError},g.lastError=function(){if(m)return m.lastError();v()},g.prototype.log=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.log(e),{uuid:t}},g.log=function(){if(m)return m.log.apply(m,arguments);v(y(arguments))},g.prototype.debug=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.debug(e),{uuid:t}},g.debug=function(){if(m)return m.debug.apply(m,arguments);v(y(arguments))},g.prototype.info=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.info(e),{uuid:t}},g.info=function(){if(m)return m.info.apply(m,arguments);v(y(arguments))},g.prototype.warn=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.warn(e),{uuid:t}},g.warn=function(){if(m)return m.warn.apply(m,arguments);v(y(arguments))},g.prototype.warning=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.warning(e),{uuid:t}},g.warning=function(){if(m)return m.warning.apply(m,arguments);v(y(arguments))},g.prototype.error=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.error(e),{uuid:t}},g.error=function(){if(m)return m.error.apply(m,arguments);v(y(arguments))},g.prototype.critical=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.critical(e),{uuid:t}},g.critical=function(){if(m)return m.critical.apply(m,arguments);v(y(arguments))},g.prototype.buildJsonPayload=function(e){return this.client.buildJsonPayload(e)},g.buildJsonPayload=function(){if(m)return m.buildJsonPayload.apply(m,arguments);v()},g.prototype.sendJsonPayload=function(e){return this.client.sendJsonPayload(e)},g.sendJsonPayload=function(){if(m)return m.sendJsonPayload.apply(m,arguments);v()},g.prototype.setupUnhandledCapture=function(){var e=_();this.unhandledExceptionsInitialized||(this.options.captureUncaught||this.options.handleUncaughtExceptions)&&(s.captureUncaughtExceptions(e,this),this.wrapGlobals&&this.options.wrapGlobalEventHandlers&&this.wrapGlobals(e,this),this.unhandledExceptionsInitialized=!0),this.unhandledRejectionsInitialized||(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections)&&(s.captureUnhandledRejections(e,this),this.unhandledRejectionsInitialized=!0)},g.prototype.handleUncaughtException=function(e,t,r,n,o,a){if(this.options.captureUncaught||this.options.handleUncaughtExceptions){if(this.options.inspectAnonymousErrors&&this.isChrome&&null===o)return"anonymous";var s,u=i.makeUnhandledStackInfo(e,t,r,n,o,"onerror","uncaught exception",h);i.isError(o)?(s=this._createItem([e,o,a]))._unhandledStackInfo=u:i.isError(t)?(s=this._createItem([e,t,a]))._unhandledStackInfo=u:(s=this._createItem([e,a])).stackInfo=u,s.level=this.options.uncaughtErrorLevel,s._isUncaught=!0,this.client.log(s)}},g.prototype.handleAnonymousErrors=function(){if(this.options.inspectAnonymousErrors&&this.isChrome){var e=this;try{Error.prepareStackTrace=function(t,r){if(e.options.inspectAnonymousErrors&&e.anonymousErrorsPending){if(e.anonymousErrorsPending-=1,!t)return;t._isAnonymous=!0,e.handleUncaughtException(t.message,null,null,null,t)}return t.stack}}catch(e){this.options.inspectAnonymousErrors=!1,this.error("anonymous error handler failed",e)}}},g.prototype.handleUnhandledRejection=function(e,t){if(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections){var r="unhandled rejection was null or undefined!";if(e)if(e.message)r=e.message;else{var n=i.stringify(e);n.value&&(r=n.value)}var o,a=e&&e._rollbarContext||t&&t._rollbarContext;i.isError(e)?o=this._createItem([r,e,a]):(o=this._createItem([r,e,a])).stackInfo=i.makeUnhandledStackInfo(r,"",0,0,null,"unhandledrejection","",h),o.level=this.options.uncaughtErrorLevel,o._isUncaught=!0,o._originalArgs=o._originalArgs||[],o._originalArgs.push(t),this.client.log(o)}},g.prototype.wrap=function(e,t,r){try{var n;if(n=i.isFunction(t)?t:function(){return t||{}},!i.isFunction(e))return e;if(e._isWrap)return e;if(!e._rollbar_wrapped&&(e._rollbar_wrapped=function(){r&&i.isFunction(r)&&r.apply(this,arguments);try{return e.apply(this,arguments)}catch(r){var t=r;throw t&&window._rollbarWrappedError!==t&&(i.isType(t,"string")&&(t=new String(t)),t._rollbarContext=n()||{},t._rollbarContext._wrappedSource=e.toString(),window._rollbarWrappedError=t),t}},e._rollbar_wrapped._isWrap=!0,e.hasOwnProperty))for(var o in e)e.hasOwnProperty(o)&&"_rollbar_wrapped"!==o&&(e._rollbar_wrapped[o]=e[o]);return e._rollbar_wrapped}catch(t){return e}},g.wrap=function(e,t){if(m)return m.wrap(e,t);v()},g.prototype.captureEvent=function(){var e=i.createTelemetryEvent(arguments);return this.client.captureEvent(e.type,e.metadata,e.level)},g.captureEvent=function(){if(m)return m.captureEvent.apply(m,arguments);v()},g.prototype.captureDomContentLoaded=function(e,t){return t||(t=new Date),this.client.captureDomContentLoaded(t)},g.prototype.captureLoad=function(e,t){return t||(t=new Date),this.client.captureLoad(t)},g.prototype.loadFull=function(){a.info("Unexpected Rollbar.loadFull() called on a Notifier instance. This can happen when Rollbar is loaded multiple times.")},g.prototype._createItem=function(e){return i.createItem(e,a,this)};var E=r(27),b=r(28),I={version:E.version,scrubFields:b.scrubFields,logLevel:E.logLevel,reportLevel:E.reportLevel,uncaughtErrorLevel:E.uncaughtErrorLevel,endpoint:E.endpoint,verbose:!1,enabled:!0,transmit:!0,sendConfig:!1,includeItemsInTelemetry:!0,captureIp:!0,inspectAnonymousErrors:!0,ignoreDuplicateErrors:!0,wrapGlobalEventHandlers:!1};e.exports=g},function(e,t,r){"use strict";var n=r(11),i=r(13),o=r(14),a=r(0);function s(e,t,r,n,l){this.options=a.merge(e),this.logger=r,s.rateLimiter.configureGlobal(this.options),s.rateLimiter.setPlatformOptions(l,this.options),this.api=t,this.queue=new i(s.rateLimiter,t,r,this.options);var p=this.options.tracer||null;c(p)?(this.tracer=p,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier=new o(this.queue,this.options),this.telemeter=n,u(e),this.lastError=null,this.lastErrorHash="none"}function u(e){e.stackTraceLimit&&(Error.stackTraceLimit=e.stackTraceLimit)}function c(e){if(!e)return!1;if(!e.scope||"function"!=typeof e.scope)return!1;var t=e.scope();return!(!t||!t.active||"function"!=typeof t.active)}s.rateLimiter=new n({maxItems:0,itemsPerMinute:60}),s.prototype.global=function(e){return s.rateLimiter.configureGlobal(e),this},s.prototype.configure=function(e,t){var r=this.options,n={};t&&(n={payload:t}),this.options=a.merge(r,e,n);var i=this.options.tracer||null;return c(i)?(this.tracer=i,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier&&this.notifier.configure(this.options),this.telemeter&&this.telemeter.configure(this.options),u(e),this.global(this.options),c(e.tracer)&&(this.tracer=e.tracer),this},s.prototype.log=function(e){var t=this._defaultLogLevel();return this._log(t,e)},s.prototype.debug=function(e){this._log("debug",e)},s.prototype.info=function(e){this._log("info",e)},s.prototype.warn=function(e){this._log("warning",e)},s.prototype.warning=function(e){this._log("warning",e)},s.prototype.error=function(e){this._log("error",e)},s.prototype.critical=function(e){this._log("critical",e)},s.prototype.wait=function(e){this.queue.wait(e)},s.prototype.captureEvent=function(e,t,r){return this.telemeter&&this.telemeter.captureEvent(e,t,r)},s.prototype.captureDomContentLoaded=function(e){return this.telemeter&&this.telemeter.captureDomContentLoaded(e)},s.prototype.captureLoad=function(e){return this.telemeter&&this.telemeter.captureLoad(e)},s.prototype.buildJsonPayload=function(e){return this.api.buildJsonPayload(e)},s.prototype.sendJsonPayload=function(e){this.api.postJsonPayload(e)},s.prototype._log=function(e,t){var r;if(t.callback&&(r=t.callback,delete t.callback),this.options.ignoreDuplicateErrors&&this._sameAsLastError(t)){if(r){var n=new Error("ignored identical item");n.item=t,r(n)}}else try{this._addTracingInfo(t),t.level=t.level||e,this.telemeter&&this.telemeter._captureRollbarItem(t),t.telemetryEvents=this.telemeter&&this.telemeter.copyEvents()||[],this.notifier.log(t,r)}catch(e){r&&r(e),this.logger.error(e)}},s.prototype._defaultLogLevel=function(){return this.options.logLevel||"debug"},s.prototype._sameAsLastError=function(e){if(!e._isUncaught)return!1;var t=function(e){return(e.message||"")+"::"+((e.err||{}).stack||String(e.err))}(e);return this.lastErrorHash===t||(this.lastError=e.err,this.lastErrorHash=t,!1)},s.prototype._addTracingInfo=function(e){if(this.tracer){var t=this.tracer.scope().active();if(function(e){if(!e||!e.context||"function"!=typeof e.context)return!1;var t=e.context();return!!(t&&t.toSpanId&&t.toTraceId&&"function"==typeof t.toSpanId&&"function"==typeof t.toTraceId)}(t)){t.setTag("rollbar.error_uuid",e.uuid),t.setTag("rollbar.has_error",!0),t.setTag("error",!0),t.setTag("rollbar.item_url","https://rollbar.com/item/uuid/?uuid="+e.uuid),t.setTag("rollbar.occurrence_url","https://rollbar.com/occurrence/uuid/?uuid="+e.uuid);var r=t.context().toSpanId(),n=t.context().toTraceId();e.custom?(e.custom.opentracing_span_id=r,e.custom.opentracing_trace_id=n):e.custom={opentracing_span_id:r,opentracing_trace_id:n}}}},e.exports=s},function(e,t,r){"use strict";var n=r(0);function i(e){this.startTime=n.now(),this.counter=0,this.perMinCounter=0,this.platform=null,this.platformOptions={},this.configureGlobal(e)}function o(e,t,r){return!e.ignoreRateLimit&&t>=1&&r>t}function a(e,t,r,n,i,o,a){var s=null;return r&&(r=new Error(r)),r||n||(s=function(e,t,r,n,i){var o={body:{message:{body:i?"item per minute limit reached, ignoring errors until timeout":"maxItems has been hit, ignoring errors until reset.",extra:{maxItems:r,itemsPerMinute:n}}},language:"javascript",environment:t.environment||t.payload&&t.payload.environment,notifier:{version:t.notifier&&t.notifier.version||t.version}};return"browser"===e?(o.platform="browser",o.framework="browser-js",o.notifier.name="rollbar-browser-js"):"server"===e?(o.framework=t.framework||"node-js",o.notifier.name=t.notifier.name):"react-native"===e&&(o.framework=t.framework||"react-native",o.notifier.name=t.notifier.name),o}(e,t,i,o,a)),{error:r,shouldSend:n,payload:s}}i.globalSettings={startTime:n.now(),maxItems:void 0,itemsPerMinute:void 0},i.prototype.configureGlobal=function(e){void 0!==e.startTime&&(i.globalSettings.startTime=e.startTime),void 0!==e.maxItems&&(i.globalSettings.maxItems=e.maxItems),void 0!==e.itemsPerMinute&&(i.globalSettings.itemsPerMinute=e.itemsPerMinute)},i.prototype.shouldSend=function(e,t){var r=(t=t||n.now())-this.startTime;(r<0||r>=6e4)&&(this.startTime=t,this.perMinCounter=0);var s=i.globalSettings.maxItems,u=i.globalSettings.itemsPerMinute;if(o(e,s,this.counter))return a(this.platform,this.platformOptions,s+" max items reached",!1);if(o(e,u,this.perMinCounter))return a(this.platform,this.platformOptions,u+" items per minute reached",!1);this.counter++,this.perMinCounter++;var c=!o(e,s,this.counter),l=c;return c=c&&!o(e,u,this.perMinCounter),a(this.platform,this.platformOptions,null,c,s,u,l)},i.prototype.setPlatformOptions=function(e,t){this.platform=e,this.platformOptions=t},e.exports=i},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,r=n.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!o)return!1;for(t in e);return void 0===t||n.call(e,t)};e.exports=function e(){var t,r,n,i,a,s={},u=null,c=arguments.length;for(t=0;t<c;t++)if(null!=(u=arguments[t]))for(a in u)r=s[a],s!==(n=u[a])&&(n&&o(n)?(i=r&&o(r)?r:{},s[a]=e(i,n)):void 0!==n&&(s[a]=n));return s}},function(e,t,r){"use strict";var n=r(0);function i(e,t,r,n){this.rateLimiter=e,this.api=t,this.logger=r,this.options=n,this.predicates=[],this.pendingItems=[],this.pendingRequests=[],this.retryQueue=[],this.retryHandle=null,this.waitCallback=null,this.waitIntervalID=null}i.prototype.configure=function(e){this.api&&this.api.configure(e);var t=this.options;return this.options=n.merge(t,e),this},i.prototype.addPredicate=function(e){return n.isFunction(e)&&this.predicates.push(e),this},i.prototype.addPendingItem=function(e){this.pendingItems.push(e)},i.prototype.removePendingItem=function(e){var t=this.pendingItems.indexOf(e);-1!==t&&this.pendingItems.splice(t,1)},i.prototype.addItem=function(e,t,r,i){t&&n.isFunction(t)||(t=function(){});var o=this._applyPredicates(e);if(o.stop)return this.removePendingItem(i),void t(o.err);if(this._maybeLog(e,r),this.removePendingItem(i),this.options.transmit){this.pendingRequests.push(e);try{this._makeApiRequest(e,function(r,n){this._dequeuePendingRequest(e),t(r,n)}.bind(this))}catch(r){this._dequeuePendingRequest(e),t(r)}}else t(new Error("Transmit disabled"))},i.prototype.wait=function(e){n.isFunction(e)&&(this.waitCallback=e,this._maybeCallWait()||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitIntervalID=setInterval(function(){this._maybeCallWait()}.bind(this),500)))},i.prototype._applyPredicates=function(e){for(var t=null,r=0,n=this.predicates.length;r<n;r++)if(!(t=this.predicates[r](e,this.options))||void 0!==t.err)return{stop:!0,err:t.err};return{stop:!1,err:null}},i.prototype._makeApiRequest=function(e,t){var r=this.rateLimiter.shouldSend(e);r.shouldSend?this.api.postItem(e,function(r,n){r?this._maybeRetry(r,e,t):t(r,n)}.bind(this)):r.error?t(r.error):this.api.postItem(r.payload,t)};var o=["ECONNRESET","ENOTFOUND","ESOCKETTIMEDOUT","ETIMEDOUT","ECONNREFUSED","EHOSTUNREACH","EPIPE","EAI_AGAIN"];i.prototype._maybeRetry=function(e,t,r){var n=!1;if(this.options.retryInterval)for(var i=0,a=o.length;i<a;i++)if(e.code===o[i]){n=!0;break}n?this._retryApiRequest(t,r):r(e)},i.prototype._retryApiRequest=function(e,t){this.retryQueue.push({item:e,callback:t}),this.retryHandle||(this.retryHandle=setInterval(function(){for(;this.retryQueue.length;){var e=this.retryQueue.shift();this._makeApiRequest(e.item,e.callback)}}.bind(this),this.options.retryInterval))},i.prototype._dequeuePendingRequest=function(e){var t=this.pendingRequests.indexOf(e);-1!==t&&(this.pendingRequests.splice(t,1),this._maybeCallWait())},i.prototype._maybeLog=function(e,t){if(this.logger&&this.options.verbose){var r=t;if(r=(r=r||n.get(e,"body.trace.exception.message"))||n.get(e,"body.trace_chain.0.exception.message"))return void this.logger.error(r);(r=n.get(e,"body.message.body"))&&this.logger.log(r)}},i.prototype._maybeCallWait=function(){return!(!n.isFunction(this.waitCallback)||0!==this.pendingItems.length||0!==this.pendingRequests.length)&&(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitCallback(),!0)},e.exports=i},function(e,t,r){"use strict";var n=r(0);function i(e,t){this.queue=e,this.options=t,this.transforms=[],this.diagnostic={}}i.prototype.configure=function(e){this.queue&&this.queue.configure(e);var t=this.options;return this.options=n.merge(t,e),this},i.prototype.addTransform=function(e){return n.isFunction(e)&&this.transforms.push(e),this},i.prototype.log=function(e,t){if(t&&n.isFunction(t)||(t=function(){}),!this.options.enabled)return t(new Error("Rollbar is not enabled"));this.queue.addPendingItem(e);var r=e.err;this._applyTransforms(e,function(n,i){if(n)return this.queue.removePendingItem(e),t(n,null);this.queue.addItem(i,t,r,e)}.bind(this))},i.prototype._applyTransforms=function(e,t){var r=-1,n=this.transforms.length,i=this.transforms,o=this.options,a=function(e,s){e?t(e,null):++r!==n?i[r](s,o,a):t(null,s)};a(null,e)},e.exports=i},function(e,t,r){"use strict";var n=r(0),i=r(16),o={hostname:"api.rollbar.com",path:"/api/1/item/",search:null,version:"1",protocol:"https:",port:443};function a(e,t,r,n,i){this.options=e,this.transport=t,this.url=r,this.truncation=n,this.jsonBackup=i,this.accessToken=e.accessToken,this.transportOptions=s(e,r)}function s(e,t){return i.getTransportFromOptions(e,o,t)}a.prototype.postItem=function(e,t){var r=i.transportOptions(this.transportOptions,"POST"),n=i.buildPayload(this.accessToken,e,this.jsonBackup);this.transport.post(this.accessToken,r,n,t)},a.prototype.buildJsonPayload=function(e,t){var r,o=i.buildPayload(this.accessToken,e,this.jsonBackup);return(r=this.truncation?this.truncation.truncate(o):n.stringify(o)).error?(t&&t(r.error),null):r.value},a.prototype.postJsonPayload=function(e,t){var r=i.transportOptions(this.transportOptions,"POST");this.transport.postJsonPayload(this.accessToken,r,e,t)},a.prototype.configure=function(e){var t=this.oldOptions;return this.options=n.merge(t,e),this.transportOptions=s(this.options,this.url),void 0!==this.options.accessToken&&(this.accessToken=this.options.accessToken),this},e.exports=a},function(e,t,r){"use strict";var n=r(0);e.exports={buildPayload:function(e,t,r){if(!n.isType(t.context,"string")){var i=n.stringify(t.context,r);i.error?t.context="Error: could not serialize 'context'":t.context=i.value||"",t.context.length>255&&(t.context=t.context.substr(0,255))}return{access_token:e,data:t}},getTransportFromOptions:function(e,t,r){var n=t.hostname,i=t.protocol,o=t.port,a=t.path,s=t.search,u=e.proxy;if(e.endpoint){var c=r.parse(e.endpoint);n=c.hostname,i=c.protocol,o=c.port,a=c.pathname,s=c.search}return{hostname:n,protocol:i,port:o,path:a,search:s,proxy:u}},transportOptions:function(e,t){var r=e.protocol||"https:",n=e.port||("http:"===r?80:"https:"===r?443:void 0),i=e.hostname,o=e.path;return e.search&&(o+=e.search),e.proxy&&(o=r+"//"+i+o,i=e.proxy.host||e.proxy.hostname,n=e.proxy.port,r=e.proxy.protocol||r),{protocol:r,hostname:i,path:o,port:n,method:t}},appendPathToPath:function(e,t){var r=/\/$/.test(e),n=/^\//.test(t);return r&&n?t=t.substring(1):r||n||(t="/"+t),e+t}}},function(e,t){!function(e){"use strict";e.console||(e.console={});for(var t,r,n=e.console,i=function(){},o=["memory"],a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=o.pop();)n[t]||(n[t]={});for(;r=a.pop();)n[r]||(n[r]=i)}("undefined"==typeof window?this:window)},function(e,t,r){"use strict";var n={ieVersion:function(){if("undefined"!=typeof document){for(var e=3,t=document.createElement("div"),r=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",r[0];);return e>4?e:void 0}}};e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n){e._rollbarWrappedError&&(n[4]||(n[4]=e._rollbarWrappedError),n[5]||(n[5]=e._rollbarWrappedError._rollbarContext),e._rollbarWrappedError=null);var i=t.handleUncaughtException.apply(t,n);r&&r.apply(e,n),"anonymous"===i&&(t.anonymousErrorsPending+=1)}e.exports={captureUncaughtExceptions:function(e,t,r){if(e){var i;if("function"==typeof t._rollbarOldOnError)i=t._rollbarOldOnError;else if(e.onerror){for(i=e.onerror;i._rollbarOldOnError;)i=i._rollbarOldOnError;t._rollbarOldOnError=i}t.handleAnonymousErrors();var o=function(){var r=Array.prototype.slice.call(arguments,0);n(e,t,i,r)};r&&(o._rollbarOldOnError=i),e.onerror=o}},captureUnhandledRejections:function(e,t,r){if(e){"function"==typeof e._rollbarURH&&e._rollbarURH.belongsToShim&&e.removeEventListener("unhandledrejection",e._rollbarURH);var n=function(e){var r,n,i;try{r=e.reason}catch(e){r=void 0}try{n=e.promise}catch(e){n="[unhandledrejection] error getting `promise` from event"}try{i=e.detail,!r&&i&&(r=i.reason,n=i.promise)}catch(e){}r||(r="[unhandledrejection] error getting `reason` from event"),t&&t.handleUnhandledRejection&&t.handleUnhandledRejection(r,n)};n.belongsToShim=r,e._rollbarURH=n,e.addEventListener("unhandledrejection",n)}}}},function(e,t,r){"use strict";var n=r(0),i=r(1);function o(e){this.truncation=e}function a(e,t,r,n,i,o){var a="undefined"!=typeof window&&window||"undefined"!=typeof self&&self,u=a&&a.Zone&&a.Zone.current;u&&"angular"===u._name?u._parent.run((function(){s(e,t,r,n,i,o)})):s(e,t,r,n,i,o)}function s(e,t,r,o,a,s){if("undefined"!=typeof RollbarProxy)return function(e,t){(new RollbarProxy).sendJsonPayload(e,(function(e){}),(function(e){t(new Error(e))}))}(o,a);var c;if(!(c=s?s():function(){var e,t,r=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=r.length;for(t=0;t<n;t++)try{e=r[t]();break}catch(e){}return e}()))return a(new Error("No way to send a request"));try{try{var l=function(){try{if(l&&4===c.readyState){l=void 0;var e=n.jsonParse(c.responseText);if((o=c)&&o.status&&200===o.status)return void a(e.error,e.value);if(function(e){return e&&n.isType(e.status,"number")&&e.status>=400&&e.status<600}(c)){if(403===c.status){var t=e.value&&e.value.message;i.error(t)}a(new Error(String(c.status)))}else a(u("XHR response had no status code (likely connection failure)"))}}catch(e){var r;r=e&&e.stack?e:new Error(e),a(r)}var o};c.open(r,t,!0),c.setRequestHeader&&(c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("X-Rollbar-Access-Token",e)),c.onreadystatechange=l,c.send(o)}catch(e){if("undefined"!=typeof XDomainRequest){if(!window||!window.location)return a(new Error("No window available during request, unknown environment"));"http:"===window.location.href.substring(0,5)&&"https"===t.substring(0,5)&&(t="http"+t.substring(5));var p=new XDomainRequest;p.onprogress=function(){},p.ontimeout=function(){a(u("Request timed out","ETIMEDOUT"))},p.onerror=function(){a(new Error("Error during request"))},p.onload=function(){var e=n.jsonParse(p.responseText);a(e.error,e.value)},p.open(r,t,!0),p.send(o)}else a(new Error("Cannot find a method to transport a request"))}}catch(e){a(e)}}function u(e,t){var r=new Error(e);return r.code=t||"ENOTFOUND",r}o.prototype.get=function(e,t,r,i,o){i&&n.isFunction(i)||(i=function(){}),n.addParamsAndAccessTokenToPath(e,t,r),a(e,n.formatUrl(t),"GET",null,i,o)},o.prototype.post=function(e,t,r,i,o){if(i&&n.isFunction(i)||(i=function(){}),!r)return i(new Error("Cannot send empty request"));var s;if((s=this.truncation?this.truncation.truncate(r):n.stringify(r)).error)return i(s.error);var u=s.value;a(e,n.formatUrl(t),"POST",u,i,o)},o.prototype.postJsonPayload=function(e,t,r,i,o){i&&n.isFunction(i)||(i=function(){}),a(e,n.formatUrl(t),"POST",r,i,o)},e.exports=o},function(e,t,r){"use strict";var n=r(0),i=r(3),o=r(1);function a(e,t,r){var i=e.message,o=e.custom;i||(i="Item sent with null or missing arguments.");var a={body:i};o&&(a.extra=n.merge(o)),n.set(e,"data.body",{message:a}),r(null,e)}function s(e){var t=e.stackInfo.stack;return t&&0===t.length&&e._unhandledStackInfo&&e._unhandledStackInfo.stack&&(t=e._unhandledStackInfo.stack),t}function u(e,t,r){var o=e&&e.data.description,a=e&&e.custom,u=s(e),l=i.guessErrorClass(t.message),p={exception:{class:c(t,l[0],r),message:l[1]}};if(o&&(p.exception.description=o),u){var f,d,h,g,m,v,y,_;for(0===u.length&&(p.exception.stack=t.rawStack,p.exception.raw=String(t.rawException)),p.frames=[],y=0;y<u.length;++y)d={filename:(f=u[y]).url?n.sanitizeUrl(f.url):"(unknown)",lineno:f.line||null,method:f.func&&"?"!==f.func?f.func:"[anonymous]",colno:f.column},r.sendFrameUrl&&(d.url=f.url),d.method&&d.method.endsWith&&d.method.endsWith("_rollbar_wrapped")||(h=g=m=null,(v=f.context?f.context.length:0)&&(_=Math.floor(v/2),g=f.context.slice(0,_),h=f.context[_],m=f.context.slice(_)),h&&(d.code=h),(g||m)&&(d.context={},g&&g.length&&(d.context.pre=g),m&&m.length&&(d.context.post=m)),f.args&&(d.args=f.args),p.frames.push(d));p.frames.reverse(),a&&(p.extra=n.merge(a))}return p}function c(e,t,r){return e.name?e.name:r.guessErrorClass?t:"(unknown)"}e.exports={handleDomException:function(e,t,r){if(e.err&&"DOMException"===i.Stack(e.err).name){var n=new Error;n.name=e.err.name,n.message=e.err.message,n.stack=e.err.stack,n.nested=e.err,e.err=n}r(null,e)},handleItemWithError:function(e,t,r){if(e.data=e.data||{},e.err)try{e.stackInfo=e.err._savedStackTrace||i.parse(e.err,e.skipFrames),t.addErrorContext&&function(e){var t=[],r=e.err;for(t.push(r);r.nested;)r=r.nested,t.push(r);n.addErrorContext(e,t)}(e)}catch(t){o.error("Error while parsing the error object.",t);try{e.message=e.err.message||e.err.description||e.message||String(e.err)}catch(t){e.message=String(e.err)||String(t)}delete e.err}r(null,e)},ensureItemHasSomethingToSay:function(e,t,r){e.message||e.stackInfo||e.custom||r(new Error("No message, stack info, or custom data"),null),r(null,e)},addBaseInfo:function(e,t,r){var i=t.payload&&t.payload.environment||t.environment;e.data=n.merge(e.data,{environment:i,level:e.level,endpoint:t.endpoint,platform:"browser",framework:"browser-js",language:"javascript",server:{},uuid:e.uuid,notifier:{name:"rollbar-browser-js",version:t.version},custom:e.custom}),r(null,e)},addRequestInfo:function(e){return function(t,r,i){if(!e||!e.location)return i(null,t);var o="$remote_ip";r.captureIp?!0!==r.captureIp&&(o+="_anonymize"):o=null,n.set(t,"data.request",{url:e.location.href,query_string:e.location.search,user_ip:o}),i(null,t)}},addClientInfo:function(e){return function(t,r,i){if(!e)return i(null,t);var o=e.navigator||{},a=e.screen||{};n.set(t,"data.client",{runtime_ms:t.timestamp-e._rollbarStartTime,timestamp:Math.round(t.timestamp/1e3),javascript:{browser:o.userAgent,language:o.language,cookie_enabled:o.cookieEnabled,screen:{width:a.width,height:a.height}}}),i(null,t)}},addPluginInfo:function(e){return function(t,r,i){if(!e||!e.navigator)return i(null,t);for(var o,a=[],s=e.navigator.plugins||[],u=0,c=s.length;u<c;++u)o=s[u],a.push({name:o.name,description:o.description});n.set(t,"data.client.javascript.plugins",a),i(null,t)}},addBody:function(e,t,r){e.stackInfo?e.stackInfo.traceChain?function(e,t,r){for(var i=e.stackInfo.traceChain,o=[],a=i.length,s=0;s<a;s++){var c=u(e,i[s],t);o.push(c)}n.set(e,"data.body",{trace_chain:o}),r(null,e)}(e,t,r):function(e,t,r){if(s(e)){var o=u(e,e.stackInfo,t);n.set(e,"data.body",{trace:o}),r(null,e)}else{var l=e.stackInfo,p=i.guessErrorClass(l.message),f=c(l,p[0],t),d=p[1];e.message=f+": "+d,a(e,t,r)}}(e,t,r):a(e,t,r)},addScrubber:function(e){return function(t,r,n){if(e){var i=r.scrubFields||[],o=r.scrubPaths||[];t.data=e(t.data,i,o)}n(null,t)}}}},function(e,t,r){var n,i,o;!function(a,s){"use strict";i=[r(23)],void 0===(o="function"==typeof(n=function(e){var t=/(^|@)\S+:\d+/,r=/^\s*at .*(\S+:\d+|\(native\))/m,n=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(r))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(e){return!!e.match(r)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var r=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),n=r.match(/ (\((.+):(\d+):(\d+)\)$)/),i=(r=n?r.replace(n[0],""):r).split(/\s+/).slice(1),o=this.extractLocation(n?n[1]:i.pop()),a=i.join(" ")||void 0,s=["eval","<anonymous>"].indexOf(o[0])>-1?void 0:o[0];return new e({functionName:a,fileName:s,lineNumber:o[1],columnNumber:o[2],source:t})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(e){return!e.match(n)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var r=/((.*".+"[^@]*)?[^@]*)(?:@)/,n=t.match(r),i=n&&n[1]?n[1]:void 0,o=this.extractLocation(t.replace(r,""));return new e({functionName:i,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)/i,n=t.message.split("\n"),i=[],o=2,a=n.length;o<a;o+=2){var s=r.exec(n[o]);s&&i.push(new e({fileName:s[2],lineNumber:s[1],source:n[o]}))}return i},parseOpera10:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=t.stacktrace.split("\n"),i=[],o=0,a=n.length;o<a;o+=2){var s=r.exec(n[o]);s&&i.push(new e({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:n[o]}))}return i},parseOpera11:function(r){return r.stack.split("\n").filter((function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this).map((function(t){var r,n=t.split("@"),i=this.extractLocation(n.pop()),o=n.shift()||"",a=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;o.match(/\(([^)]*)\)/)&&(r=o.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var s=void 0===r||"[arguments not available]"===r?void 0:r.split(",");return new e({functionName:a,args:s,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})}),this)}}})?n.apply(t,i):n)||(e.exports=o)}()},function(e,t,r){var n,i,o;!function(r,a){"use strict";i=[],void 0===(o="function"==typeof(n=function(){function e(e){return e.charAt(0).toUpperCase()+e.substring(1)}function t(e){return function(){return this[e]}}var r=["isConstructor","isEval","isNative","isToplevel"],n=["columnNumber","lineNumber"],i=["fileName","functionName","source"],o=r.concat(n,i,["args"]);function a(t){if(t)for(var r=0;r<o.length;r++)void 0!==t[o[r]]&&this["set"+e(o[r])](t[o[r]])}a.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof a)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new a(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",r=this.getColumnNumber()||"",n=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+r+")":"[eval]:"+t+":"+r:n?n+" ("+e+":"+t+":"+r+")":e+":"+t+":"+r}},a.fromString=function(e){var t=e.indexOf("("),r=e.lastIndexOf(")"),n=e.substring(0,t),i=e.substring(t+1,r).split(","),o=e.substring(r+1);if(0===o.indexOf("@"))var s=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(o,""),u=s[1],c=s[2],l=s[3];return new a({functionName:n,args:i||void 0,fileName:u,lineNumber:c||void 0,columnNumber:l||void 0})};for(var s=0;s<r.length;s++)a.prototype["get"+e(r[s])]=t(r[s]),a.prototype["set"+e(r[s])]=function(e){return function(t){this[e]=Boolean(t)}}(r[s]);for(var u=0;u<n.length;u++)a.prototype["get"+e(n[u])]=t(n[u]),a.prototype["set"+e(n[u])]=function(e){return function(t){if(r=t,isNaN(parseFloat(r))||!isFinite(r))throw new TypeError(e+" must be a Number");var r;this[e]=Number(t)}}(n[u]);for(var c=0;c<i.length;c++)a.prototype["get"+e(i[c])]=t(i[c]),a.prototype["set"+e(i[c])]=function(e){return function(t){this[e]=String(t)}}(i[c]);return a})?n.apply(t,i):n)||(e.exports=o)}()},function(e,t,r){"use strict";var n=r(0);function i(e,t){n.isFunction(e[t])&&(e[t]=e[t].toString())}e.exports={itemToPayload:function(e,t,r){var i=t.payload||{};i.body&&delete i.body;var o=n.merge(e.data,i);e._isUncaught&&(o._isUncaught=!0),e._originalArgs&&(o._originalArgs=e._originalArgs),r(null,o)},addTelemetryData:function(e,t,r){e.telemetryEvents&&n.set(e,"data.body.telemetry",e.telemetryEvents),r(null,e)},addMessageWithError:function(e,t,r){if(e.message){var i="data.body.trace_chain.0",o=n.get(e,i);if(o||(i="data.body.trace",o=n.get(e,i)),o){if(!o.exception||!o.exception.description)return n.set(e,i+".exception.description",e.message),void r(null,e);var a=n.get(e,i+".extra")||{},s=n.merge(a,{message:e.message});n.set(e,i+".extra",s)}r(null,e)}else r(null,e)},userTransform:function(e){return function(t,r,i){var o=n.merge(t);try{n.isFunction(r.transform)&&r.transform(o.data,t)}catch(n){return r.transform=null,e.error("Error while calling custom transform() function. Removing custom transform().",n),void i(null,t)}i(null,o)}},addConfigToPayload:function(e,t,r){if(!t.sendConfig)return r(null,e);var i=n.get(e,"data.custom")||{};i._rollbarConfig=t,e.data.custom=i,r(null,e)},addConfiguredOptions:function(e,t,r){var n=t._configuredOptions;i(n,"transform"),i(n,"checkIgnore"),i(n,"onSendCallback"),delete n.accessToken,e.data.notifier.configured_options=n,r(null,e)},addDiagnosticKeys:function(e,t,r){var i=n.merge(e.notifier.client.notifier.diagnostic,e.diagnostic);if(n.get(e,"err._isAnonymous")&&(i.is_anonymous=!0),e._isUncaught&&(i.is_uncaught=e._isUncaught),e.err)try{i.raw_error={message:e.err.message,name:e.err.name,constructor_name:e.err.constructor&&e.err.constructor.name,filename:e.err.fileName,line:e.err.lineNumber,column:e.err.columnNumber,stack:e.err.stack}}catch(e){i.raw_error={failed:String(e)}}e.data.notifier.diagnostic=n.merge(e.data.notifier.diagnostic,i),r(null,e)}}},function(e,t,r){"use strict";var n=r(0);e.exports={checkIgnore:function(e,t){return!n.get(t,"plugins.jquery.ignoreAjaxErrors")||!n.get(e,"body.message.extra.isAjax")}}},function(e,t,r){"use strict";var n=r(0);function i(e,t,r){if(!e)return!r;var i,o,a=e.frames;if(!a||0===a.length)return!r;for(var s=t.length,u=a.length,c=0;c<u;c++){if(i=a[c].filename,!n.isType(i,"string"))return!r;for(var l=0;l<s;l++)if(o=t[l],new RegExp(o).test(i))return!0}return!1}function o(e,t,r,o){var a,s,u=!1;"blocklist"===r&&(u=!0);try{if(a=u?t.hostBlockList:t.hostSafeList,s=n.get(e,"body.trace_chain")||[n.get(e,"body.trace")],!a||0===a.length)return!u;if(0===s.length||!s[0])return!u;for(var c=s.length,l=0;l<c;l++)if(i(s[l],a,u))return!0}catch(e){u?t.hostBlockList=null:t.hostSafeList=null;var p=u?"hostBlockList":"hostSafeList";return o.error("Error while reading your configuration's "+p+" option. Removing custom "+p+".",e),!u}return!1}e.exports={checkLevel:function(e,t){var r=e.level,i=n.LEVELS[r]||0,o=t.reportLevel;return!(i<(n.LEVELS[o]||0))},userCheckIgnore:function(e){return function(t,r){var i=!!t._isUncaught;delete t._isUncaught;var o=t._originalArgs;delete t._originalArgs;try{n.isFunction(r.onSendCallback)&&r.onSendCallback(i,o,t)}catch(t){r.onSendCallback=null,e.error("Error while calling onSendCallback, removing",t)}try{if(n.isFunction(r.checkIgnore)&&r.checkIgnore(i,o,t))return!1}catch(t){r.checkIgnore=null,e.error("Error while calling custom checkIgnore(), removing",t)}return!0}},urlIsNotBlockListed:function(e){return function(t,r){return!o(t,r,"blocklist",e)}},urlIsSafeListed:function(e){return function(t,r){return o(t,r,"safelist",e)}},messageIsIgnored:function(e){return function(t,r){var i,o,a,s,u,c,l,p;try{if(u=!1,!(a=r.ignoredMessages)||0===a.length)return!0;if(c=t.body,l=n.get(c,"trace.exception.message"),p=n.get(c,"message.body"),!(i=l||p))return!0;for(s=a.length,o=0;o<s&&!(u=new RegExp(a[o],"gi").test(i));o++);}catch(t){r.ignoredMessages=null,e.error("Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.")}return!u}}}},function(e,t,r){"use strict";e.exports={version:"2.21.0",endpoint:"api.rollbar.com/api/1/item/",logLevel:"debug",reportLevel:"debug",uncaughtErrorLevel:"error",maxItems:0,itemsPerMin:60}},function(e,t,r){"use strict";e.exports={scrubFields:["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","X-Rollbar-Access-Token","secret_key","secretKey","secretToken","cc-number","card number","cardnumber","cardnum","ccnum","ccnumber","cc num","creditcardnumber","credit card number","newcreditcardnumber","new credit card","creditcardno","credit card no","card#","card #","cc-csc","cvc","cvc2","cvv2","ccv2","security code","card verification","name on credit card","name on card","nameoncard","cardholder","card holder","name des karteninhabers","ccname","card type","cardtype","cc type","cctype","payment type","expiration date","expirationdate","expdate","cc-exp","ccmonth","ccyear"]}},function(e,t,r){"use strict";var n=r(0);function i(e){this.queue=[],this.options=n.merge(e);var t=this.options.maxTelemetryEvents||100;this.maxQueueSize=Math.max(0,Math.min(t,100))}function o(e,t){return t||{error:"error",manual:"info"}[e]||"info"}i.prototype.configure=function(e){var t=this.options;this.options=n.merge(t,e);var r=this.options.maxTelemetryEvents||100,i=Math.max(0,Math.min(r,100)),o=0;this.maxQueueSize>i&&(o=this.maxQueueSize-i),this.maxQueueSize=i,this.queue.splice(0,o)},i.prototype.copyEvents=function(){var e=Array.prototype.slice.call(this.queue,0);if(n.isFunction(this.options.filterTelemetry))try{for(var t=e.length;t--;)this.options.filterTelemetry(e[t])&&e.splice(t,1)}catch(e){this.options.filterTelemetry=null}return e},i.prototype.capture=function(e,t,r,i,a){var s={level:o(e,r),type:e,timestamp_ms:a||n.now(),body:t,source:"client"};i&&(s.uuid=i);try{if(n.isFunction(this.options.filterTelemetry)&&this.options.filterTelemetry(s))return!1}catch(e){this.options.filterTelemetry=null}return this.push(s),s},i.prototype.captureEvent=function(e,t,r,n){return this.capture(e,t,r,n)},i.prototype.captureError=function(e,t,r,n){var i={message:e.message||String(e)};return e.stack&&(i.stack=e.stack),this.capture("error",i,t,r,n)},i.prototype.captureLog=function(e,t,r,n){return this.capture("log",{message:e},t,r,n)},i.prototype.captureNetwork=function(e,t,r,n){t=t||"xhr",e.subtype=e.subtype||t,n&&(e.request=n);var i=this.levelFromStatus(e.status_code);return this.capture("network",e,i,r)},i.prototype.levelFromStatus=function(e){return e>=200&&e<400?"info":0===e||e>=400?"error":"info"},i.prototype.captureDom=function(e,t,r,n,i){var o={subtype:e,element:t};return void 0!==r&&(o.value=r),void 0!==n&&(o.checked=n),this.capture("dom",o,"info",i)},i.prototype.captureNavigation=function(e,t,r){return this.capture("navigation",{from:e,to:t},"info",r)},i.prototype.captureDomContentLoaded=function(e){return this.capture("navigation",{subtype:"DOMContentLoaded"},"info",void 0,e&&e.getTime())},i.prototype.captureLoad=function(e){return this.capture("navigation",{subtype:"load"},"info",void 0,e&&e.getTime())},i.prototype.captureConnectivityChange=function(e,t){return this.captureNetwork({change:e},"connectivity",t)},i.prototype._captureRollbarItem=function(e){if(this.options.includeItemsInTelemetry)return e.err?this.captureError(e.err,e.level,e.uuid,e.timestamp):e.message?this.captureLog(e.message,e.level,e.uuid,e.timestamp):e.custom?this.capture("log",e.custom,e.level,e.uuid,e.timestamp):void 0},i.prototype.push=function(e){this.queue.push(e),this.queue.length>this.maxQueueSize&&this.queue.shift()},e.exports=i},function(e,t,r){"use strict";var n=r(0),i=r(4),o=r(2),a=r(31),s={network:!0,networkResponseHeaders:!1,networkResponseBody:!1,networkRequestHeaders:!1,networkRequestBody:!1,networkErrorOnHttp5xx:!1,networkErrorOnHttp4xx:!1,networkErrorOnHttp0:!1,log:!0,dom:!0,navigation:!0,connectivity:!0,contentSecurityPolicy:!0,errorOnContentSecurityPolicy:!1};function u(e,t,r,n,i){var o=e[t];e[t]=r(o),n&&n[i].push([e,t,o])}function c(e,t){for(var r;e[t].length;)(r=e[t].shift())[0][r[1]]=r[2]}function l(e,t,r,i,o){this.options=e;var a=e.autoInstrument;!1===e.enabled||!1===a?this.autoInstrument={}:(n.isType(a,"object")||(a=s),this.autoInstrument=n.merge(s,a)),this.scrubTelemetryInputs=!!e.scrubTelemetryInputs,this.telemetryScrubber=e.telemetryScrubber,this.defaultValueScrubber=function(e){for(var t=[],r=0;r<e.length;++r)t.push(new RegExp(e[r],"i"));return function(e){var r=function(e){if(!e||!e.attributes)return null;for(var t=e.attributes,r=0;r<t.length;++r)if("name"===t[r].key)return t[r].value;return null}(e);if(!r)return!1;for(var n=0;n<t.length;++n)if(t[n].test(r))return!0;return!1}}(e.scrubFields),this.telemeter=t,this.rollbar=r,this.diagnostic=r.client.notifier.diagnostic,this._window=i||{},this._document=o||{},this.replacements={network:[],log:[],navigation:[],connectivity:[]},this.eventRemovers={dom:[],connectivity:[],contentsecuritypolicy:[]},this._location=this._window.location,this._lastHref=this._location&&this._location.href}l.prototype.configure=function(e){this.options=n.merge(this.options,e);var t=e.autoInstrument,r=n.merge(this.autoInstrument);!1===e.enabled||!1===t?this.autoInstrument={}:(n.isType(t,"object")||(t=s),this.autoInstrument=n.merge(s,t)),this.instrument(r),void 0!==e.scrubTelemetryInputs&&(this.scrubTelemetryInputs=!!e.scrubTelemetryInputs),void 0!==e.telemetryScrubber&&(this.telemetryScrubber=e.telemetryScrubber)},l.prototype.instrument=function(e){!this.autoInstrument.network||e&&e.network?!this.autoInstrument.network&&e&&e.network&&this.deinstrumentNetwork():this.instrumentNetwork(),!this.autoInstrument.log||e&&e.log?!this.autoInstrument.log&&e&&e.log&&this.deinstrumentConsole():this.instrumentConsole(),!this.autoInstrument.dom||e&&e.dom?!this.autoInstrument.dom&&e&&e.dom&&this.deinstrumentDom():this.instrumentDom(),!this.autoInstrument.navigation||e&&e.navigation?!this.autoInstrument.navigation&&e&&e.navigation&&this.deinstrumentNavigation():this.instrumentNavigation(),!this.autoInstrument.connectivity||e&&e.connectivity?!this.autoInstrument.connectivity&&e&&e.connectivity&&this.deinstrumentConnectivity():this.instrumentConnectivity(),!this.autoInstrument.contentSecurityPolicy||e&&e.contentSecurityPolicy?!this.autoInstrument.contentSecurityPolicy&&e&&e.contentSecurityPolicy&&this.deinstrumentContentSecurityPolicy():this.instrumentContentSecurityPolicy()},l.prototype.deinstrumentNetwork=function(){c(this.replacements,"network")},l.prototype.instrumentNetwork=function(){var e=this;function t(t,r){t in r&&n.isFunction(r[t])&&u(r,t,(function(t){return e.rollbar.wrap(t)}))}if("XMLHttpRequest"in this._window){var r=this._window.XMLHttpRequest.prototype;u(r,"open",(function(e){return function(t,r){return n.isType(r,"string")&&(this.__rollbar_xhr?(this.__rollbar_xhr.method=t,this.__rollbar_xhr.url=r,this.__rollbar_xhr.status_code=null,this.__rollbar_xhr.start_time_ms=n.now(),this.__rollbar_xhr.end_time_ms=null):this.__rollbar_xhr={method:t,url:r,status_code:null,start_time_ms:n.now(),end_time_ms:null}),e.apply(this,arguments)}}),this.replacements,"network"),u(r,"setRequestHeader",(function(t){return function(r,i){return this.__rollbar_xhr||(this.__rollbar_xhr={}),n.isType(r,"string")&&n.isType(i,"string")&&(e.autoInstrument.networkRequestHeaders&&(this.__rollbar_xhr.request_headers||(this.__rollbar_xhr.request_headers={}),this.__rollbar_xhr.request_headers[r]=i),"content-type"===r.toLowerCase()&&(this.__rollbar_xhr.request_content_type=i)),t.apply(this,arguments)}}),this.replacements,"network"),u(r,"send",(function(r){return function(i){var o=this;function a(){if(o.__rollbar_xhr&&(null===o.__rollbar_xhr.status_code&&(o.__rollbar_xhr.status_code=0,e.autoInstrument.networkRequestBody&&(o.__rollbar_xhr.request=i),o.__rollbar_event=e.captureNetwork(o.__rollbar_xhr,"xhr",void 0)),o.readyState<2&&(o.__rollbar_xhr.start_time_ms=n.now()),o.readyState>3)){o.__rollbar_xhr.end_time_ms=n.now();var t=null;if(o.__rollbar_xhr.response_content_type=o.getResponseHeader("Content-Type"),e.autoInstrument.networkResponseHeaders){var r=e.autoInstrument.networkResponseHeaders;t={};try{var a,s;if(!0===r){var u=o.getAllResponseHeaders();if(u){var c,l,p=u.trim().split(/[\r\n]+/);for(s=0;s<p.length;s++)a=(c=p[s].split(": ")).shift(),l=c.join(": "),t[a]=l}}else for(s=0;s<r.length;s++)t[a=r[s]]=o.getResponseHeader(a)}catch(e){}}var f=null;if(e.autoInstrument.networkResponseBody)try{f=o.responseText}catch(e){}var d=null;(f||t)&&(d={},f&&(e.isJsonContentType(o.__rollbar_xhr.response_content_type)?d.body=e.scrubJson(f):d.body=f),t&&(d.headers=t)),d&&(o.__rollbar_xhr.response=d);try{var h=o.status;h=1223===h?204:h,o.__rollbar_xhr.status_code=h,o.__rollbar_event.level=e.telemeter.levelFromStatus(h),e.errorOnHttpStatus(o.__rollbar_xhr)}catch(e){}}}return t("onload",o),t("onerror",o),t("onprogress",o),"onreadystatechange"in o&&n.isFunction(o.onreadystatechange)?u(o,"onreadystatechange",(function(t){return e.rollbar.wrap(t,void 0,a)})):o.onreadystatechange=a,o.__rollbar_xhr&&e.trackHttpErrors()&&(o.__rollbar_xhr.stack=(new Error).stack),r.apply(this,arguments)}}),this.replacements,"network")}"fetch"in this._window&&u(this._window,"fetch",(function(t){return function(r,i){for(var o=new Array(arguments.length),a=0,s=o.length;a<s;a++)o[a]=arguments[a];var u,c=o[0],l="GET";n.isType(c,"string")?u=c:c&&(u=c.url,c.method&&(l=c.method)),o[1]&&o[1].method&&(l=o[1].method);var p={method:l,url:u,status_code:null,start_time_ms:n.now(),end_time_ms:null};if(o[1]&&o[1].headers){var f=new Headers(o[1].headers);p.request_content_type=f.get("Content-Type"),e.autoInstrument.networkRequestHeaders&&(p.request_headers=e.fetchHeaders(f,e.autoInstrument.networkRequestHeaders))}return e.autoInstrument.networkRequestBody&&(o[1]&&o[1].body?p.request=o[1].body:o[0]&&!n.isType(o[0],"string")&&o[0].body&&(p.request=o[0].body)),e.captureNetwork(p,"fetch",void 0),e.trackHttpErrors()&&(p.stack=(new Error).stack),t.apply(this,o).then((function(t){p.end_time_ms=n.now(),p.status_code=t.status,p.response_content_type=t.headers.get("Content-Type");var r=null;e.autoInstrument.networkResponseHeaders&&(r=e.fetchHeaders(t.headers,e.autoInstrument.networkResponseHeaders));var i=null;return e.autoInstrument.networkResponseBody&&"function"==typeof t.text&&(i=t.clone().text()),(r||i)&&(p.response={},i&&("function"==typeof i.then?i.then((function(t){e.isJsonContentType(p.response_content_type)&&(p.response.body=e.scrubJson(t))})):p.response.body=i),r&&(p.response.headers=r)),e.errorOnHttpStatus(p),t}))}}),this.replacements,"network")},l.prototype.captureNetwork=function(e,t,r){return e.request&&this.isJsonContentType(e.request_content_type)&&(e.request=this.scrubJson(e.request)),this.telemeter.captureNetwork(e,t,r)},l.prototype.isJsonContentType=function(e){return!!(e&&n.isType(e,"string")&&e.toLowerCase().includes("json"))},l.prototype.scrubJson=function(e){return JSON.stringify(i(JSON.parse(e),this.options.scrubFields))},l.prototype.fetchHeaders=function(e,t){var r={};try{var n;if(!0===t){if("function"==typeof e.entries)for(var i=e.entries(),o=i.next();!o.done;)r[o.value[0]]=o.value[1],o=i.next()}else for(n=0;n<t.length;n++){var a=t[n];r[a]=e.get(a)}}catch(e){}return r},l.prototype.trackHttpErrors=function(){return this.autoInstrument.networkErrorOnHttp5xx||this.autoInstrument.networkErrorOnHttp4xx||this.autoInstrument.networkErrorOnHttp0},l.prototype.errorOnHttpStatus=function(e){var t=e.status_code;if(t>=500&&this.autoInstrument.networkErrorOnHttp5xx||t>=400&&this.autoInstrument.networkErrorOnHttp4xx||0===t&&this.autoInstrument.networkErrorOnHttp0){var r=new Error("HTTP request failed with Status "+t);r.stack=e.stack,this.rollbar.error(r,{skipFrames:1})}},l.prototype.deinstrumentConsole=function(){if("console"in this._window&&this._window.console.log)for(var e;this.replacements.log.length;)e=this.replacements.log.shift(),this._window.console[e[0]]=e[1]},l.prototype.instrumentConsole=function(){if("console"in this._window&&this._window.console.log){var e=this,t=this._window.console,r=["debug","info","warn","error","log"];try{for(var i=0,o=r.length;i<o;i++)a(r[i])}catch(e){this.diagnostic.instrumentConsole={error:e.message}}}function a(r){var i=t[r],o=t,a="warn"===r?"warning":r;t[r]=function(){var t=Array.prototype.slice.call(arguments),r=n.formatArgsAsString(t);e.telemeter.captureLog(r,a),i&&Function.prototype.apply.call(i,o,t)},e.replacements.log.push([r,i])}},l.prototype.deinstrumentDom=function(){("addEventListener"in this._window||"attachEvent"in this._window)&&this.removeListeners("dom")},l.prototype.instrumentDom=function(){if("addEventListener"in this._window||"attachEvent"in this._window){var e=this.handleClick.bind(this),t=this.handleBlur.bind(this);this.addListener("dom",this._window,"click","onclick",e,!0),this.addListener("dom",this._window,"blur","onfocusout",t,!0)}},l.prototype.handleClick=function(e){try{var t=a.getElementFromEvent(e,this._document),r=t&&t.tagName,n=a.isDescribedElement(t,"a")||a.isDescribedElement(t,"button");r&&(n||a.isDescribedElement(t,"input",["button","submit"]))?this.captureDomEvent("click",t):a.isDescribedElement(t,"input",["checkbox","radio"])&&this.captureDomEvent("input",t,t.value,t.checked)}catch(e){}},l.prototype.handleBlur=function(e){try{var t=a.getElementFromEvent(e,this._document);t&&t.tagName&&(a.isDescribedElement(t,"textarea")?this.captureDomEvent("input",t,t.value):a.isDescribedElement(t,"select")&&t.options&&t.options.length?this.handleSelectInputChanged(t):a.isDescribedElement(t,"input")&&!a.isDescribedElement(t,"input",["button","submit","hidden","checkbox","radio"])&&this.captureDomEvent("input",t,t.value))}catch(e){}},l.prototype.handleSelectInputChanged=function(e){if(e.multiple)for(var t=0;t<e.options.length;t++)e.options[t].selected&&this.captureDomEvent("input",e,e.options[t].value);else e.selectedIndex>=0&&e.options[e.selectedIndex]&&this.captureDomEvent("input",e,e.options[e.selectedIndex].value)},l.prototype.captureDomEvent=function(e,t,r,n){if(void 0!==r)if(this.scrubTelemetryInputs||"password"===a.getElementType(t))r="[scrubbed]";else{var i=a.describeElement(t);this.telemetryScrubber?this.telemetryScrubber(i)&&(r="[scrubbed]"):this.defaultValueScrubber(i)&&(r="[scrubbed]")}var o=a.elementArrayToString(a.treeToArray(t));this.telemeter.captureDom(e,o,r,n)},l.prototype.deinstrumentNavigation=function(){var e=this._window.chrome;!(e&&e.app&&e.app.runtime)&&this._window.history&&this._window.history.pushState&&c(this.replacements,"navigation")},l.prototype.instrumentNavigation=function(){var e=this._window.chrome;if(!(e&&e.app&&e.app.runtime)&&this._window.history&&this._window.history.pushState){var t=this;u(this._window,"onpopstate",(function(e){return function(){var r=t._location.href;t.handleUrlChange(t._lastHref,r),e&&e.apply(this,arguments)}}),this.replacements,"navigation"),u(this._window.history,"pushState",(function(e){return function(){var r=arguments.length>2?arguments[2]:void 0;return r&&t.handleUrlChange(t._lastHref,r+""),e.apply(this,arguments)}}),this.replacements,"navigation")}},l.prototype.handleUrlChange=function(e,t){var r=o.parse(this._location.href),n=o.parse(t),i=o.parse(e);this._lastHref=t,r.protocol===n.protocol&&r.host===n.host&&(t=n.path+(n.hash||"")),r.protocol===i.protocol&&r.host===i.host&&(e=i.path+(i.hash||"")),this.telemeter.captureNavigation(e,t)},l.prototype.deinstrumentConnectivity=function(){("addEventListener"in this._window||"body"in this._document)&&(this._window.addEventListener?this.removeListeners("connectivity"):c(this.replacements,"connectivity"))},l.prototype.instrumentConnectivity=function(){if("addEventListener"in this._window||"body"in this._document)if(this._window.addEventListener)this.addListener("connectivity",this._window,"online",void 0,function(){this.telemeter.captureConnectivityChange("online")}.bind(this),!0),this.addListener("connectivity",this._window,"offline",void 0,function(){this.telemeter.captureConnectivityChange("offline")}.bind(this),!0);else{var e=this;u(this._document.body,"ononline",(function(t){return function(){e.telemeter.captureConnectivityChange("online"),t&&t.apply(this,arguments)}}),this.replacements,"connectivity"),u(this._document.body,"onoffline",(function(t){return function(){e.telemeter.captureConnectivityChange("offline"),t&&t.apply(this,arguments)}}),this.replacements,"connectivity")}},l.prototype.handleCspEvent=function(e){var t="Security Policy Violation: blockedURI: "+e.blockedURI+", violatedDirective: "+e.violatedDirective+", effectiveDirective: "+e.effectiveDirective+", ";e.sourceFile&&(t+="location: "+e.sourceFile+", line: "+e.lineNumber+", col: "+e.columnNumber+", "),t+="originalPolicy: "+e.originalPolicy,this.telemeter.captureLog(t,"error"),this.handleCspError(t)},l.prototype.handleCspError=function(e){this.autoInstrument.errorOnContentSecurityPolicy&&this.rollbar.error(e)},l.prototype.deinstrumentContentSecurityPolicy=function(){"addEventListener"in this._window&&this.removeListeners("contentsecuritypolicy")},l.prototype.instrumentContentSecurityPolicy=function(){if("addEventListener"in this._window){var e=this.handleCspEvent.bind(this);this.addListener("contentsecuritypolicy",this._window,"securitypolicyviolation",null,e,!1)}},l.prototype.addListener=function(e,t,r,n,i,o){t.addEventListener?(t.addEventListener(r,i,o),this.eventRemovers[e].push((function(){t.removeEventListener(r,i,o)}))):n&&(t.attachEvent(n,i),this.eventRemovers[e].push((function(){t.detachEvent(n,i)})))},l.prototype.removeListeners=function(e){for(;this.eventRemovers[e].length;)this.eventRemovers[e].shift()()},e.exports=l},function(e,t,r){"use strict";function n(e){return(e.getAttribute("type")||"").toLowerCase()}function i(e){if(!e||!e.tagName)return"";var t=[e.tagName];e.id&&t.push("#"+e.id),e.classes&&t.push("."+e.classes.join("."));for(var r=0;r<e.attributes.length;r++)t.push("["+e.attributes[r].key+'="'+e.attributes[r].value+'"]');return t.join("")}function o(e){if(!e||!e.tagName)return null;var t,r,n,i,o={};o.tagName=e.tagName.toLowerCase(),e.id&&(o.id=e.id),(t=e.className)&&"string"==typeof t&&(o.classes=t.split(/\s+/));var a=["type","name","title","alt"];for(o.attributes=[],i=0;i<a.length;i++)r=a[i],(n=e.getAttribute(r))&&o.attributes.push({key:r,value:n});return o}e.exports={describeElement:o,descriptionToString:i,elementArrayToString:function(e){for(var t,r,n=" > ".length,o=[],a=0,s=e.length-1;s>=0;s--){if(t=i(e[s]),r=a+o.length*n+t.length,s<e.length-1&&r>=83){o.unshift("...");break}o.unshift(t),a+=t.length}return o.join(" > ")},treeToArray:function(e){for(var t,r=[],n=0;e&&n<5&&"html"!==(t=o(e)).tagName;n++)r.unshift(t),e=e.parentNode;return r},getElementFromEvent:function(e,t){return e.target?e.target:t&&t.elementFromPoint?t.elementFromPoint(e.clientX,e.clientY):void 0},isDescribedElement:function(e,t,r){if(e.tagName.toLowerCase()!==t.toLowerCase())return!1;if(!r)return!0;e=n(e);for(var i=0;i<r.length;i++)if(r[i]===e)return!0;return!1},getElementType:n}},function(e,t,r){"use strict";var n=r(33);e.exports=n},function(e,t){e.exports=function(e){var t,r,n,i,o,a,s,u,c,l,p,f,d,h=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function g(e){return e<10?"0"+e:e}function m(){return this.valueOf()}function v(e){return h.lastIndex=0,h.test(e)?'"'+e.replace(h,(function(e){var t=n[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+g(this.getUTCMonth()+1)+"-"+g(this.getUTCDate())+"T"+g(this.getUTCHours())+":"+g(this.getUTCMinutes())+":"+g(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=m,Number.prototype.toJSON=m,String.prototype.toJSON=m),"function"!=typeof e.stringify&&(n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},e.stringify=function(e,n,o){var a;if(t="",r="","number"==typeof o)for(a=0;a<o;a+=1)r+=" ";else"string"==typeof o&&(r=o);if(i=n,n&&"function"!=typeof n&&("object"!=typeof n||"number"!=typeof n.length))throw new Error("JSON.stringify");return function e(n,o){var a,s,u,c,l,p=t,f=o[n];switch(f&&"object"==typeof f&&"function"==typeof f.toJSON&&(f=f.toJSON(n)),"function"==typeof i&&(f=i.call(o,n,f)),typeof f){case"string":return v(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":return String(f);case"object":if(!f)return"null";if(t+=r,l=[],"[object Array]"===Object.prototype.toString.apply(f)){for(c=f.length,a=0;a<c;a+=1)l[a]=e(a,f)||"null";return u=0===l.length?"[]":t?"[\n"+t+l.join(",\n"+t)+"\n"+p+"]":"["+l.join(",")+"]",t=p,u}if(i&&"object"==typeof i)for(c=i.length,a=0;a<c;a+=1)"string"==typeof i[a]&&(u=e(s=i[a],f))&&l.push(v(s)+(t?": ":":")+u);else for(s in f)Object.prototype.hasOwnProperty.call(f,s)&&(u=e(s,f))&&l.push(v(s)+(t?": ":":")+u);return u=0===l.length?"{}":t?"{\n"+t+l.join(",\n"+t)+"\n"+p+"}":"{"+l.join(",")+"}",t=p,u}}("",{"":e})}),"function"!=typeof e.parse&&(e.parse=(l={"\\":"\\",'"':'"',"/":"/",t:"\t",n:"\n",r:"\r",f:"\f",b:"\b"},p={go:function(){o="ok"},firstokey:function(){u=c,o="colon"},okey:function(){u=c,o="colon"},ovalue:function(){o="ocomma"},firstavalue:function(){o="acomma"},avalue:function(){o="acomma"}},f={go:function(){o="ok"},ovalue:function(){o="ocomma"},firstavalue:function(){o="acomma"},avalue:function(){o="acomma"}},d={"{":{go:function(){a.push({state:"ok"}),s={},o="firstokey"},ovalue:function(){a.push({container:s,state:"ocomma",key:u}),s={},o="firstokey"},firstavalue:function(){a.push({container:s,state:"acomma"}),s={},o="firstokey"},avalue:function(){a.push({container:s,state:"acomma"}),s={},o="firstokey"}},"}":{firstokey:function(){var e=a.pop();c=s,s=e.container,u=e.key,o=e.state},ocomma:function(){var e=a.pop();s[u]=c,c=s,s=e.container,u=e.key,o=e.state}},"[":{go:function(){a.push({state:"ok"}),s=[],o="firstavalue"},ovalue:function(){a.push({container:s,state:"ocomma",key:u}),s=[],o="firstavalue"},firstavalue:function(){a.push({container:s,state:"acomma"}),s=[],o="firstavalue"},avalue:function(){a.push({container:s,state:"acomma"}),s=[],o="firstavalue"}},"]":{firstavalue:function(){var e=a.pop();c=s,s=e.container,u=e.key,o=e.state},acomma:function(){var e=a.pop();s.push(c),c=s,s=e.container,u=e.key,o=e.state}},":":{colon:function(){if(Object.hasOwnProperty.call(s,u))throw new SyntaxError("Duplicate key '"+u+'"');o="ovalue"}},",":{ocomma:function(){s[u]=c,o="okey"},acomma:function(){s.push(c),o="avalue"}},true:{go:function(){c=!0,o="ok"},ovalue:function(){c=!0,o="ocomma"},firstavalue:function(){c=!0,o="acomma"},avalue:function(){c=!0,o="acomma"}},false:{go:function(){c=!1,o="ok"},ovalue:function(){c=!1,o="ocomma"},firstavalue:function(){c=!1,o="acomma"},avalue:function(){c=!1,o="acomma"}},null:{go:function(){c=null,o="ok"},ovalue:function(){c=null,o="ocomma"},firstavalue:function(){c=null,o="acomma"},avalue:function(){c=null,o="acomma"}}},function(e,t){var r,n,i=/^[\u0020\t\n\r]*(?:([,:\[\]{}]|true|false|null)|(-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)|"((?:[^\r\n\t\\\"]|\\(?:["\\\/trnfb]|u[0-9a-fA-F]{4}))*)")/;o="go",a=[];try{for(;r=i.exec(e);)r[1]?d[r[1]][o]():r[2]?(c=+r[2],f[o]()):(n=r[3],c=n.replace(/\\(?:u(.{4})|([^u]))/g,(function(e,t,r){return t?String.fromCharCode(parseInt(t,16)):l[r]})),p[o]()),e=e.slice(r[0].length)}catch(e){o=e}if("ok"!==o||/[^\u0020\t\n\r]/.test(e))throw o instanceof SyntaxError?o:new SyntaxError("JSON");return"function"==typeof t?function e(r,n){var i,o,a=r[n];if(a&&"object"==typeof a)for(i in c)Object.prototype.hasOwnProperty.call(a,i)&&(void 0!==(o=e(a,i))?a[i]=o:delete a[i]);return t.call(r,n,a)}({"":c},""):c}))}},function(e,t,r){"use strict";function n(e,t,r){if(t.hasOwnProperty&&t.hasOwnProperty("addEventListener")){for(var n=t.addEventListener;n._rollbarOldAdd&&n.belongsToShim;)n=n._rollbarOldAdd;var i=function(t,r,i){n.call(this,t,e.wrap(r),i)};i._rollbarOldAdd=n,i.belongsToShim=r,t.addEventListener=i;for(var o=t.removeEventListener;o._rollbarOldRemove&&o.belongsToShim;)o=o._rollbarOldRemove;var a=function(e,t,r){o.call(this,e,t&&t._rollbar_wrapped||t,r)};a._rollbarOldRemove=o,a.belongsToShim=r,t.removeEventListener=a}}e.exports=function(e,t,r){if(e){var i,o,a="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(i=0;i<a.length;++i)e[o=a[i]]&&e[o].prototype&&n(t,e[o].prototype,r)}}},function(e,t,r){"use strict";var n=r(0),i=r(5);function o(e,t){return[e,n.stringify(e,t)]}function a(e,t){var r=e.length;return r>2*t?e.slice(0,t).concat(e.slice(r-t)):e}function s(e,t,r){r=void 0===r?30:r;var i,o=e.data.body;if(o.trace_chain)for(var s=o.trace_chain,u=0;u<s.length;u++)i=a(i=s[u].frames,r),s[u].frames=i;else o.trace&&(i=a(i=o.trace.frames,r),o.trace.frames=i);return[e,n.stringify(e,t)]}function u(e,t){return t&&t.length>e?t.slice(0,e-3).concat("..."):t}function c(e,t,r){return[t=i(t,(function t(r,o,a){switch(n.typeName(o)){case"string":return u(e,o);case"object":case"array":return i(o,t,a);default:return o}})),n.stringify(t,r)]}function l(e){return e.exception&&(delete e.exception.description,e.exception.message=u(255,e.exception.message)),e.frames=a(e.frames,1),e}function p(e,t){var r=e.data.body;if(r.trace_chain)for(var i=r.trace_chain,o=0;o<i.length;o++)i[o]=l(i[o]);else r.trace&&(r.trace=l(r.trace));return[e,n.stringify(e,t)]}function f(e,t){return n.maxByteSize(e)>t}e.exports={truncate:function(e,t,r){r=void 0===r?524288:r;for(var n,i,a,u=[o,s,c.bind(null,1024),c.bind(null,512),c.bind(null,256),p];n=u.shift();)if(e=(i=n(e,t))[0],(a=i[1]).error||!f(a.value,r))return a;return a},raw:o,truncateFrames:s,truncateStrings:c,maybeTruncateValue:u}}])},5877:function(e,t,r){var n=r(3570),i=r(1171),o=i;o.v1=n,o.v4=i,e.exports=o},5327:function(e){for(var t=[],r=0;r<256;++r)t[r]=(r+256).toString(16).substr(1);e.exports=function(e,r){var n=r||0,i=t;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}},5217:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},3570:function(e,t,r){var n,i,o=r(5217),a=r(5327),s=0,u=0;e.exports=function(e,t,r){var c=t&&r||0,l=t||[],p=(e=e||{}).node||n,f=void 0!==e.clockseq?e.clockseq:i;if(null==p||null==f){var d=o();null==p&&(p=n=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==f&&(f=i=16383&(d[6]<<8|d[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,m=h-s+(g-u)/1e4;if(m<0&&void 0===e.clockseq&&(f=f+1&16383),(m<0||h>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=g,i=f;var v=(1e4*(268435455&(h+=122192928e5))+g)%4294967296;l[c++]=v>>>24&255,l[c++]=v>>>16&255,l[c++]=v>>>8&255,l[c++]=255&v;var y=h/4294967296*1e4&268435455;l[c++]=y>>>8&255,l[c++]=255&y,l[c++]=y>>>24&15|16,l[c++]=y>>>16&255,l[c++]=f>>>8|128,l[c++]=255&f;for(var _=0;_<6;++_)l[c+_]=p[_];return t||a(l)}},1171:function(e,t,r){var n=r(5217),i=r(5327);e.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],(function(){return t(1780),t(4651)}));var r=e.O();_N_E=r}]);